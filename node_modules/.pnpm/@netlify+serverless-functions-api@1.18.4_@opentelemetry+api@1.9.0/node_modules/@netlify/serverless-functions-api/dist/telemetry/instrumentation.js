import { createRequire } from 'module'; const require = createRequire(import.meta.url);
var bF=Object.create;var Kc=Object.defineProperty;var VF=Object.getOwnPropertyDescriptor;var wF=Object.getOwnPropertyNames;var BF=Object.getPrototypeOf,GF=Object.prototype.hasOwnProperty;var B=(o=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(o,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):o)(function(o){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+o+'" is not supported')});var p=(o,e)=>()=>(o&&(e=o(o=0)),e);var h=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),Ie=(o,e)=>{for(var t in e)Kc(o,t,{get:e[t],enumerable:!0})},$m=(o,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of wF(e))!GF.call(o,s)&&s!==t&&Kc(o,s,{get:()=>e[s],enumerable:!(i=VF(e,s))||i.enumerable});return o};var En=(o,e,t)=>(t=o!=null?bF(BF(o)):{},$m(e||!o||!o.__esModule?Kc(t,"default",{value:o,enumerable:!0}):t,o)),ee=o=>$m(Kc({},"__esModule",{value:!0}),o);var Xm,Jm=p(()=>{Xm=typeof globalThis=="object"?globalThis:global});var Qm=p(()=>{Jm()});var Zm=p(()=>{Qm()});var Kr,K_=p(()=>{Kr="1.9.0"});function kF(o){var e=new Set([o]),t=new Set,i=o.match(eO);if(!i)return function(){return!1};var s={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(s.prerelease!=null)return function(c){return c===o};function a(r){return t.add(r),!1}function n(r){return e.add(r),!0}return function(c){if(e.has(c))return!0;if(t.has(c))return!1;var l=c.match(eO);if(!l)return a(c);var u={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return u.prerelease!=null||s.major!==u.major?a(c):s.major===0?s.minor===u.minor&&s.patch<=u.patch?n(c):a(c):s.minor<=u.minor?n(c):a(c)}}var eO,tO,rO=p(()=>{K_();eO=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;tO=kF(Kr)});function fr(o,e,t,i){var s;i===void 0&&(i=!1);var a=Ls[ys]=(s=Ls[ys])!==null&&s!==void 0?s:{version:Kr};if(!i&&a[o]){var n=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+o);return t.error(n.stack||n.message),!1}if(a.version!==Kr){var n=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+o+" does not match previously registered API v"+Kr);return t.error(n.stack||n.message),!1}return a[o]=e,t.debug("@opentelemetry/api: Registered a global for "+o+" v"+Kr+"."),!0}function yt(o){var e,t,i=(e=Ls[ys])===null||e===void 0?void 0:e.version;if(!(!i||!tO(i)))return(t=Ls[ys])===null||t===void 0?void 0:t[o]}function hr(o,e){e.debug("@opentelemetry/api: Unregistering a global for "+o+" v"+Kr+".");var t=Ls[ys];t&&delete t[o]}var FF,ys,Ls,Zn=p(()=>{Zm();K_();rO();FF=Kr.split(".")[0],ys=Symbol.for("opentelemetry.js.api."+FF),Ls=Xm});function vs(o,e,t){var i=yt("diag");if(i)return t.unshift(e),i[o].apply(i,YF([],HF(t),!1))}var HF,YF,nO,oO=p(()=>{Zn();HF=function(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return a},YF=function(o,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,a;i<s;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return o.concat(a||Array.prototype.slice.call(e))},nO=function(){function o(e){this._namespace=e.namespace||"DiagComponentLogger"}return o.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vs("debug",this._namespace,e)},o.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vs("error",this._namespace,e)},o.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vs("info",this._namespace,e)},o.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vs("warn",this._namespace,e)},o.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vs("verbose",this._namespace,e)},o}()});var Re,Wc=p(()=>{(function(o){o[o.NONE=0]="NONE",o[o.ERROR=30]="ERROR",o[o.WARN=50]="WARN",o[o.INFO=60]="INFO",o[o.DEBUG=70]="DEBUG",o[o.VERBOSE=80]="VERBOSE",o[o.ALL=9999]="ALL"})(Re||(Re={}))});function iO(o,e){o<Re.NONE?o=Re.NONE:o>Re.ALL&&(o=Re.ALL),e=e||{};function t(i,s){var a=e[i];return typeof a=="function"&&o>=s?a.bind(e):function(){}}return{error:t("error",Re.ERROR),warn:t("warn",Re.WARN),info:t("info",Re.INFO),debug:t("debug",Re.DEBUG),verbose:t("verbose",Re.VERBOSE)}}var sO=p(()=>{Wc()});var qF,KF,WF,it,eo=p(()=>{oO();sO();Wc();Zn();qF=function(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return a},KF=function(o,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,a;i<s;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return o.concat(a||Array.prototype.slice.call(e))},WF="diag",it=function(){function o(){function e(s){return function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var r=yt("diag");if(r)return r[s].apply(r,KF([],qF(a),!1))}}var t=this,i=function(s,a){var n,r,c;if(a===void 0&&(a={logLevel:Re.INFO}),s===t){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((n=l.stack)!==null&&n!==void 0?n:l.message),!1}typeof a=="number"&&(a={logLevel:a});var u=yt("diag"),E=iO((r=a.logLevel)!==null&&r!==void 0?r:Re.INFO,s);if(u&&!a.suppressOverrideMessage){var T=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+T),E.warn("Current logger will overwrite one already registered from "+T)}return fr("diag",E,t,!0)};t.setLogger=i,t.disable=function(){hr(WF,t)},t.createComponentLogger=function(s){return new nO(s)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return o.instance=function(){return this._instance||(this._instance=new o),this._instance},o}()});var jF,zF,aO,cO=p(()=>{jF=function(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return a},zF=function(o){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&o[e],i=0;if(t)return t.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aO=function(){function o(e){this._entries=e?new Map(e):new Map}return o.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},o.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=jF(e,2),i=t[0],s=t[1];return[i,s]})},o.prototype.setEntry=function(e,t){var i=new o(this._entries);return i._entries.set(e,t),i},o.prototype.removeEntry=function(e){var t=new o(this._entries);return t._entries.delete(e),t},o.prototype.removeEntries=function(){for(var e,t,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=new o(this._entries);try{for(var n=zF(i),r=n.next();!r.done;r=n.next()){var c=r.value;a._entries.delete(c)}}catch(l){e={error:l}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return a},o.prototype.clear=function(){return new o},o}()});var lO,uO=p(()=>{lO=Symbol("BaggageEntryMetadata")});function EO(o){return o===void 0&&(o={}),new aO(new Map(Object.entries(o)))}function jc(o){return typeof o!="string"&&($F.error("Cannot create baggage metadata from unknown type: "+typeof o),o=""),{__TYPE__:lO,toString:function(){return o}}}var $F,W_=p(()=>{eo();cO();uO();$F=it.instance()});function Gt(o){return Symbol.for(o)}var XF,zc,Is=p(()=>{XF=function(){function o(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(i){return t._currentContext.get(i)},t.setValue=function(i,s){var a=new o(t._currentContext);return a._currentContext.set(i,s),a},t.deleteValue=function(i){var s=new o(t._currentContext);return s._currentContext.delete(i),s}}return o}(),zc=new XF});var j_,$c,SO=p(()=>{j_=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],$c=function(){function o(){function e(i){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(console){var n=console[i];if(typeof n!="function"&&(n=console.log),typeof n=="function")return n.apply(console,s)}}}for(var t=0;t<j_.length;t++)this[j_[t].n]=e(j_[t].c)}return o}()});function Jc(){return $_}var to,JF,Xc,QF,ZF,eH,tH,z_,rH,nH,oH,$_,iH,sH,aH,cH,lH,uH,EH,X_=p(()=>{to=function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},o(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),JF=function(){function o(){}return o.prototype.createGauge=function(e,t){return sH},o.prototype.createHistogram=function(e,t){return aH},o.prototype.createCounter=function(e,t){return iH},o.prototype.createUpDownCounter=function(e,t){return cH},o.prototype.createObservableGauge=function(e,t){return uH},o.prototype.createObservableCounter=function(e,t){return lH},o.prototype.createObservableUpDownCounter=function(e,t){return EH},o.prototype.addBatchObservableCallback=function(e,t){},o.prototype.removeBatchObservableCallback=function(e){},o}(),Xc=function(){function o(){}return o}(),QF=function(o){to(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.add=function(t,i){},e}(Xc),ZF=function(o){to(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.add=function(t,i){},e}(Xc),eH=function(o){to(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.record=function(t,i){},e}(Xc),tH=function(o){to(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e.prototype.record=function(t,i){},e}(Xc),z_=function(){function o(){}return o.prototype.addCallback=function(e){},o.prototype.removeCallback=function(e){},o}(),rH=function(o){to(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e}(z_),nH=function(o){to(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e}(z_),oH=function(o){to(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e}(z_),$_=new JF,iH=new QF,sH=new eH,aH=new tH,cH=new ZF,lH=new rH,uH=new nH,EH=new oH});var mt,_O=p(()=>{(function(o){o[o.INT=0]="INT",o[o.DOUBLE=1]="DOUBLE"})(mt||(mt={}))});var Qc,Zc,J_=p(()=>{Qc={get:function(o,e){if(o!=null)return o[e]},keys:function(o){return o==null?[]:Object.keys(o)}},Zc={set:function(o,e,t){o!=null&&(o[e]=t)}}});var SH,_H,pO,dO=p(()=>{Is();SH=function(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return a},_H=function(o,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,a;i<s;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return o.concat(a||Array.prototype.slice.call(e))},pO=function(){function o(){}return o.prototype.active=function(){return zc},o.prototype.with=function(e,t,i){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return t.call.apply(t,_H([i],SH(s),!1))},o.prototype.bind=function(e,t){return t},o.prototype.enable=function(){return this},o.prototype.disable=function(){return this},o}()});var pH,dH,Q_,TH,Sn,Ds=p(()=>{dO();Zn();eo();pH=function(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return a},dH=function(o,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,a;i<s;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return o.concat(a||Array.prototype.slice.call(e))},Q_="context",TH=new pO,Sn=function(){function o(){}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalContextManager=function(e){return fr(Q_,e,it.instance())},o.prototype.active=function(){return this._getContextManager().active()},o.prototype.with=function(e,t,i){for(var s,a=[],n=3;n<arguments.length;n++)a[n-3]=arguments[n];return(s=this._getContextManager()).with.apply(s,dH([e,t,i],pH(a),!1))},o.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},o.prototype._getContextManager=function(){return yt(Q_)||TH},o.prototype.disable=function(){this._getContextManager().disable(),hr(Q_,it.instance())},o}()});var de,Z_=p(()=>{(function(o){o[o.NONE=0]="NONE",o[o.SAMPLED=1]="SAMPLED"})(de||(de={}))});var xs,Us,Wo,el=p(()=>{Z_();xs="0000000000000000",Us="00000000000000000000000000000000",Wo={traceId:Us,spanId:xs,traceFlags:de.NONE}});var _n,tl=p(()=>{el();_n=function(){function o(e){e===void 0&&(e=Wo),this._spanContext=e}return o.prototype.spanContext=function(){return this._spanContext},o.prototype.setAttribute=function(e,t){return this},o.prototype.setAttributes=function(e){return this},o.prototype.addEvent=function(e,t){return this},o.prototype.addLink=function(e){return this},o.prototype.addLinks=function(e){return this},o.prototype.setStatus=function(e){return this},o.prototype.updateName=function(e){return this},o.prototype.end=function(e){},o.prototype.isRecording=function(){return!1},o.prototype.recordException=function(e,t){},o}()});function rl(o){return o.getValue(ep)||void 0}function TO(){return rl(Sn.getInstance().active())}function bs(o,e){return o.setValue(ep,e)}function fO(o){return o.deleteValue(ep)}function hO(o,e){return bs(o,new _n(e))}function nl(o){var e;return(e=rl(o))===null||e===void 0?void 0:e.spanContext()}var ep,tp=p(()=>{Is();tl();Ds();ep=Gt("OpenTelemetry Context Key SPAN")});function or(o){return fH.test(o)&&o!==Us}function ro(o){return hH.test(o)&&o!==xs}function qe(o){return or(o.traceId)&&ro(o.spanId)}function AO(o){return new _n(o)}var fH,hH,ol=p(()=>{el();tl();fH=/^([0-9a-f]{32})$/i,hH=/^[0-9a-f]{16}$/i});function AH(o){return typeof o=="object"&&typeof o.spanId=="string"&&typeof o.traceId=="string"&&typeof o.traceFlags=="number"}var rp,il,np=p(()=>{Ds();tp();tl();ol();rp=Sn.getInstance(),il=function(){function o(){}return o.prototype.startSpan=function(e,t,i){i===void 0&&(i=rp.active());var s=!!(t!=null&&t.root);if(s)return new _n;var a=i&&nl(i);return AH(a)&&qe(a)?new _n(a):new _n},o.prototype.startActiveSpan=function(e,t,i,s){var a,n,r;if(!(arguments.length<2)){arguments.length===2?r=t:arguments.length===3?(a=t,r=i):(a=t,n=i,r=s);var c=n??rp.active(),l=this.startSpan(e,a,c),u=bs(c,l);return rp.with(u,r,void 0,l)}},o}()});var mH,sl,op=p(()=>{np();mH=new il,sl=function(){function o(e,t,i,s){this._provider=e,this.name=t,this.version=i,this.options=s}return o.prototype.startSpan=function(e,t,i){return this._getTracer().startSpan(e,t,i)},o.prototype.startActiveSpan=function(e,t,i,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},o.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):mH},o}()});var mO,OO=p(()=>{np();mO=function(){function o(){}return o.prototype.getTracer=function(e,t,i){return new il},o}()});var OH,Vs,ip=p(()=>{op();OO();OH=new mO,Vs=function(){function o(){}return o.prototype.getTracer=function(e,t,i){var s;return(s=this.getDelegateTracer(e,t,i))!==null&&s!==void 0?s:new sl(this,e,t,i)},o.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:OH},o.prototype.setDelegate=function(e){this._delegate=e},o.prototype.getDelegateTracer=function(e,t,i){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,t,i)},o}()});var Ot,RO=p(()=>{(function(o){o[o.NOT_RECORD=0]="NOT_RECORD",o[o.RECORD=1]="RECORD",o[o.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ot||(Ot={}))});var kt,NO=p(()=>{(function(o){o[o.INTERNAL=0]="INTERNAL",o[o.SERVER=1]="SERVER",o[o.CLIENT=2]="CLIENT",o[o.PRODUCER=3]="PRODUCER",o[o.CONSUMER=4]="CONSUMER"})(kt||(kt={}))});var Ar,MO=p(()=>{(function(o){o[o.UNSET=0]="UNSET",o[o.OK=1]="OK",o[o.ERROR=2]="ERROR"})(Ar||(Ar={}))});function PO(o){return MH.test(o)}function CO(o){return PH.test(o)&&!CH.test(o)}var sp,RH,NH,MH,PH,CH,gO=p(()=>{sp="[_0-9a-z-*/]",RH="[a-z]"+sp+"{0,255}",NH="[a-z0-9]"+sp+"{0,240}@[a-z]"+sp+"{0,13}",MH=new RegExp("^(?:"+RH+"|"+NH+")$"),PH=/^[ -~]{0,255}[!-~]$/,CH=/,|=/});var yO,gH,LO,vO,IO,DO=p(()=>{gO();yO=32,gH=512,LO=",",vO="=",IO=function(){function o(e){this._internalState=new Map,e&&this._parse(e)}return o.prototype.set=function(e,t){var i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,t),i},o.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},o.prototype.get=function(e){return this._internalState.get(e)},o.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,i){return t.push(i+vO+e.get(i)),t},[]).join(LO)},o.prototype._parse=function(e){e.length>gH||(this._internalState=e.split(LO).reverse().reduce(function(t,i){var s=i.trim(),a=s.indexOf(vO);if(a!==-1){var n=s.slice(0,a),r=s.slice(a+1,i.length);PO(n)&&CO(r)&&t.set(n,r)}return t},new Map),this._internalState.size>yO&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,yO))))},o.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},o.prototype._clone=function(){var e=new o;return e._internalState=new Map(this._internalState),e},o}()});function xO(o){return new IO(o)}var UO=p(()=>{DO()});var Fe,bO=p(()=>{Ds();Fe=Sn.getInstance()});var R,VO=p(()=>{eo();R=it.instance()});var yH,wO,BO=p(()=>{X_();yH=function(){function o(){}return o.prototype.getMeter=function(e,t,i){return $_},o}(),wO=new yH});var ap,GO,kO=p(()=>{BO();Zn();eo();ap="metrics",GO=function(){function o(){}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalMeterProvider=function(e){return fr(ap,e,it.instance())},o.prototype.getMeterProvider=function(){return yt(ap)||wO},o.prototype.getMeter=function(e,t,i){return this.getMeterProvider().getMeter(e,t,i)},o.prototype.disable=function(){hr(ap,it.instance())},o}()});var no,FO=p(()=>{kO();no=GO.getInstance()});var HO,YO=p(()=>{HO=function(){function o(){}return o.prototype.inject=function(e,t){},o.prototype.extract=function(e,t){return e},o.prototype.fields=function(){return[]},o}()});function lp(o){return o.getValue(cp)||void 0}function qO(){return lp(Sn.getInstance().active())}function KO(o,e){return o.setValue(cp,e)}function WO(o){return o.deleteValue(cp)}var cp,jO=p(()=>{Ds();Is();cp=Gt("OpenTelemetry Baggage Key")});var up,LH,zO,$O=p(()=>{Zn();YO();J_();jO();W_();eo();up="propagation",LH=new HO,zO=function(){function o(){this.createBaggage=EO,this.getBaggage=lp,this.getActiveBaggage=qO,this.setBaggage=KO,this.deleteBaggage=WO}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalPropagator=function(e){return fr(up,e,it.instance())},o.prototype.inject=function(e,t,i){return i===void 0&&(i=Zc),this._getGlobalPropagator().inject(e,t,i)},o.prototype.extract=function(e,t,i){return i===void 0&&(i=Qc),this._getGlobalPropagator().extract(e,t,i)},o.prototype.fields=function(){return this._getGlobalPropagator().fields()},o.prototype.disable=function(){hr(up,it.instance())},o.prototype._getGlobalPropagator=function(){return yt(up)||LH},o}()});var Rt,XO=p(()=>{$O();Rt=zO.getInstance()});var Ep,JO,QO=p(()=>{Zn();ip();ol();tp();eo();Ep="trace",JO=function(){function o(){this._proxyTracerProvider=new Vs,this.wrapSpanContext=AO,this.isSpanContextValid=qe,this.deleteSpan=fO,this.getSpan=rl,this.getActiveSpan=TO,this.getSpanContext=nl,this.setSpan=bs,this.setSpanContext=hO}return o.getInstance=function(){return this._instance||(this._instance=new o),this._instance},o.prototype.setGlobalTracerProvider=function(e){var t=fr(Ep,this._proxyTracerProvider,it.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},o.prototype.getTracerProvider=function(){return yt(Ep)||this._proxyTracerProvider},o.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},o.prototype.disable=function(){hr(Ep,it.instance()),this._proxyTracerProvider=new Vs},o}()});var Se,ZO=p(()=>{QO();Se=JO.getInstance()});var Je={};Ie(Je,{DiagConsoleLogger:()=>$c,DiagLogLevel:()=>Re,INVALID_SPANID:()=>xs,INVALID_SPAN_CONTEXT:()=>Wo,INVALID_TRACEID:()=>Us,ProxyTracer:()=>sl,ProxyTracerProvider:()=>Vs,ROOT_CONTEXT:()=>zc,SamplingDecision:()=>Ot,SpanKind:()=>kt,SpanStatusCode:()=>Ar,TraceFlags:()=>de,ValueType:()=>mt,baggageEntryMetadataFromString:()=>jc,context:()=>Fe,createContextKey:()=>Gt,createNoopMeter:()=>Jc,createTraceState:()=>xO,default:()=>vH,defaultTextMapGetter:()=>Qc,defaultTextMapSetter:()=>Zc,diag:()=>R,isSpanContextValid:()=>qe,isValidSpanId:()=>ro,isValidTraceId:()=>or,metrics:()=>no,propagation:()=>Rt,trace:()=>Se});var vH,U=p(()=>{W_();Is();SO();Wc();X_();_O();J_();op();ip();RO();NO();MO();Z_();UO();ol();el();bO();VO();FO();XO();ZO();vH={context:Fe,diag:R,metrics:no,propagation:Rt,trace:Se}});var eR=p(()=>{});var tR=p(()=>{eR()});var IH,DH,xH,UH,bH,VH,wH,BH,GH,kH,FH,HH,YH,qH,KH,WH,jH,zH,$H,rR,nR,oR,iR,sR,aR,cR,lR,uR,ER,SR,al,ws,cl,ll,_R,Sp,_p,pp,pR=p(()=>{IH="host.id",DH="host.name",xH="host.arch",UH="os.type",bH="os.version",VH="process.pid",wH="process.executable.name",BH="process.executable.path",GH="process.command",kH="process.command_args",FH="process.owner",HH="process.runtime.name",YH="process.runtime.version",qH="process.runtime.description",KH="service.name",WH="service.instance.id",jH="telemetry.sdk.name",zH="telemetry.sdk.language",$H="telemetry.sdk.version",rR=IH,nR=DH,oR=xH,iR=UH,sR=bH,aR=VH,cR=wH,lR=BH,uR=GH,ER=kH,SR=FH,al=HH,ws=YH,cl=qH,ll=KH,_R=WH,Sp=jH,_p=zH,pp=$H});var dR=p(()=>{pR()});var pn=p(()=>{tR();dR()});function Bs(o){return o.setValue(dp,!0)}function XH(o){return o.deleteValue(dp)}function St(o){return o.getValue(dp)===!0}var dp,Gs=p(()=>{U();dp=Gt("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var TR,ul,jo,El,Tp=p(()=>{TR="=",ul=";",jo=",",El="baggage"});var ir={};Ie(ir,{getKeyPairs:()=>hp,parseKeyPairsIntoRecord:()=>QH,parsePairKeyValue:()=>Sl,serializeKeyPairs:()=>fp});function fp(o){return o.reduce((e,t)=>{let i=`${e}${e!==""?jo:""}${t}`;return i.length>8192?e:i},"")}function hp(o){return o.getAllEntries().map(([e,t])=>{let i=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(i+=ul+t.metadata.toString()),i})}function Sl(o){let e=o.split(ul);if(e.length<=0)return;let t=e.shift();if(!t)return;let i=t.indexOf(TR);if(i<=0)return;let s=decodeURIComponent(t.substring(0,i).trim()),a=decodeURIComponent(t.substring(i+1).trim()),n;return e.length>0&&(n=jc(e.join(ul))),{key:s,value:a,metadata:n}}function QH(o){return typeof o!="string"||o.length===0?{}:o.split(jo).map(e=>Sl(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var Ap=p(()=>{U();Tp()});var ks,fR=p(()=>{U();Gs();Tp();Ap();ks=class{inject(e,t,i){let s=Rt.getBaggage(e);if(!s||St(e))return;let a=hp(s).filter(r=>r.length<=4096).slice(0,180),n=fp(a);n.length>0&&i.set(t,El,n)}extract(e,t,i){let s=i.get(t,El),a=Array.isArray(s)?s.join(jo):s;if(!a)return e;let n={};return a.length===0||(a.split(jo).forEach(c=>{let l=Sl(c);if(l){let u={value:l.value};l.metadata&&(u.metadata=l.metadata),n[l.key]=u}}),Object.entries(n).length===0)?e:Rt.setBaggage(e,Rt.createBaggage(n))}fields(){return[El]}}});var mp,hR=p(()=>{mp=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function oo(o){let e={};if(typeof o!="object"||o==null)return e;for(let[t,i]of Object.entries(o)){if(!AR(t)){R.warn(`Invalid attribute key: ${t}`);continue}if(!io(i)){R.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(i)?e[t]=i.slice():e[t]=i}return e}function AR(o){return typeof o=="string"&&o.length>0}function io(o){return o==null?!0:Array.isArray(o)?tY(o):mR(o)}function tY(o){let e;for(let t of o)if(t!=null){if(!e){if(mR(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function mR(o){switch(typeof o){case"number":case"boolean":case"string":return!0}return!1}var OR=p(()=>{U()});function Op(){return o=>{R.error(rY(o))}}function rY(o){return typeof o=="string"?o:JSON.stringify(nY(o))}function nY(o){let e={},t=o;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(i=>{if(e[i])return;let s=t[i];s&&(e[i]=String(s))}),t=Object.getPrototypeOf(t);return e}var Rp=p(()=>{U()});function oY(o){RR=o}function Pe(o){try{RR(o)}catch{}}var RR,Np=p(()=>{Rp();RR=Op()});var Lt,Mp=p(()=>{(function(o){o.AlwaysOff="always_off",o.AlwaysOn="always_on",o.ParentBasedAlwaysOff="parentbased_always_off",o.ParentBasedAlwaysOn="parentbased_always_on",o.ParentBasedTraceIdRatio="parentbased_traceidratio",o.TraceIdRatio="traceidratio"})(Lt||(Lt={}))});function aY(o){return sY.indexOf(o)>-1}function lY(o){return cY.indexOf(o)>-1}function EY(o){return uY.indexOf(o)>-1}function SY(o,e,t){if(typeof t[o]>"u")return;let i=String(t[o]);e[o]=i.toLowerCase()==="true"}function _Y(o,e,t,i=-1/0,s=1/0){if(typeof t[o]<"u"){let a=Number(t[o]);isNaN(a)||(a<i?e[o]=i:a>s?e[o]=s:e[o]=a)}}function pY(o,e,t,i=iY){let s=t[o];typeof s=="string"&&(e[o]=s.split(i).map(a=>a.trim()))}function TY(o,e,t){let i=t[o];if(typeof i=="string"){let s=dY[i.toUpperCase()];s!=null&&(e[o]=s)}}function pl(o){let e={};for(let t in _l){let i=t;switch(i){case"OTEL_LOG_LEVEL":TY(i,e,o);break;default:if(aY(i))SY(i,e,o);else if(lY(i))_Y(i,e,o);else if(EY(i))pY(i,e,o);else{let s=o[i];typeof s<"u"&&s!==null&&(e[i]=String(s))}}}return e}var iY,sY,cY,uY,dn,Tn,NR,MR,_l,dY,Pp=p(()=>{U();Mp();iY=",",sY=["OTEL_SDK_DISABLED"];cY=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];uY=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];dn=1/0,Tn=128,NR=128,MR=128,_l={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Re.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:dn,OTEL_ATTRIBUTE_COUNT_LIMIT:Tn,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:dn,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Tn,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:dn,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Tn,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:NR,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:MR,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Lt.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};dY={ALL:Re.ALL,VERBOSE:Re.VERBOSE,DEBUG:Re.DEBUG,INFO:Re.INFO,WARN:Re.WARN,ERROR:Re.ERROR,NONE:Re.NONE}});function X(){let o=pl(process.env);return Object.assign({},_l,o)}function zo(){return pl(process.env)}var PR=p(()=>{Pp()});var fY,CR=p(()=>{fY=typeof globalThis=="object"?globalThis:global});function gR(o){return o>=48&&o<=57?o-48:o>=97&&o<=102?o-87:o-55}function so(o){let e=new Uint8Array(o.length/2),t=0;for(let i=0;i<o.length;i+=2){let s=gR(o.charCodeAt(i)),a=gR(o.charCodeAt(i+1));e[t++]=s<<4|a}return e}var Cp=p(()=>{});function hY(o){return Buffer.from(so(o)).toString("base64")}var yR=p(()=>{Cp()});function LR(o){return function(){for(let t=0;t<o/4;t++)dl.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<o&&!(dl[t]>0);t++)t===o-1&&(dl[o-1]=1);return dl.toString("hex",0,o)}}var gp,dl,vR=p(()=>{gp=class{constructor(){this.generateTraceId=LR(16),this.generateSpanId=LR(8)}},dl=Buffer.allocUnsafe(16)});import{performance as AY}from"perf_hooks";var Wr,IR=p(()=>{Wr=AY});var yp,Lp=p(()=>{yp="1.25.0"});var DR=p(()=>{});var xR=p(()=>{DR()});var mY,OY,RY,NY,UR,bR,VR,wR,MY,BR,GR=p(()=>{mY="process.runtime.name",OY="telemetry.sdk.name",RY="telemetry.sdk.language",NY="telemetry.sdk.version",UR=mY,bR=OY,VR=RY,wR=NY,MY="nodejs",BR=MY});var kR=p(()=>{GR()});var FR=p(()=>{xR();kR()});var Fs,HR=p(()=>{Lp();FR();Fs={[bR]:"opentelemetry",[UR]:"node",[VR]:BR,[wR]:yp}});function ao(o){o.unref()}var YR=p(()=>{});var qR=p(()=>{PR();CR();yR();vR();IR();HR();YR()});var vp=p(()=>{qR()});function st(o){let e=o/1e3,t=Math.trunc(e),i=Math.round(o%1e3*CY);return[t,i]}function Hs(){let o=Wr.timeOrigin;if(typeof o!="number"){let e=Wr;o=e.timing&&e.timing.fetchStart}return o}function fl(o){let e=st(Hs()),t=st(typeof o=="number"?o:Wr.now());return ml(e,t)}function hl(o){if(Ys(o))return o;if(typeof o=="number")return o<Hs()?fl(o):st(o);if(o instanceof Date)return st(o.getTime());throw TypeError("Invalid input type")}function Ip(o,e){let t=e[0]-o[0],i=e[1]-o[1];return i<0&&(t-=1,i+=Tl),[t,i]}function gY(o){let e=KR,t=`${"0".repeat(e)}${o[1]}Z`,i=t.substr(t.length-e-1);return new Date(o[0]*1e3).toISOString().replace("000Z",i)}function Dp(o){return o[0]*Tl+o[1]}function yY(o){return o[0]*1e3+o[1]/1e6}function _t(o){return o[0]*1e6+o[1]/1e3}function Ys(o){return Array.isArray(o)&&o.length===2&&typeof o[0]=="number"&&typeof o[1]=="number"}function Al(o){return Ys(o)||typeof o=="number"||o instanceof Date}function ml(o,e){let t=[o[0]+e[0],o[1]+e[1]];return t[1]>=Tl&&(t[1]-=Tl,t[0]+=1),t}var KR,PY,CY,Tl,WR=p(()=>{vp();KR=9,PY=6,CY=Math.pow(10,PY),Tl=Math.pow(10,KR)});var jR=p(()=>{});var te,zR=p(()=>{(function(o){o[o.SUCCESS=0]="SUCCESS",o[o.FAILED=1]="FAILED"})(te||(te={}))});var qs,$R=p(()=>{U();qs=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(i=>typeof i.fields=="function"?i.fields():[]).reduce((i,s)=>i.concat(s),[])))}inject(e,t,i){for(let s of this._propagators)try{s.inject(e,t,i)}catch(a){R.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,i){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,i)}catch(n){R.warn(`Failed to inject with ${a.constructor.name}. Err: ${n.message}`)}return s},e)}fields(){return this._fields.slice()}}});function XR(o){return IY.test(o)}function JR(o){return DY.test(o)&&!xY.test(o)}var xp,LY,vY,IY,DY,xY,QR=p(()=>{xp="[_0-9a-z-*/]",LY=`[a-z]${xp}{0,255}`,vY=`[a-z0-9]${xp}{0,240}@[a-z]${xp}{0,13}`,IY=new RegExp(`^(?:${LY}|${vY})$`),DY=/^[ -~]{0,255}[!-~]$/,xY=/,|=/});var ZR,UY,eN,tN,Ks,Up=p(()=>{QR();ZR=32,UY=512,eN=",",tN="=",Ks=class o{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,t),i}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+tN+this.get(t)),e),[]).join(eN)}_parse(e){e.length>UY||(this._internalState=e.split(eN).reverse().reduce((t,i)=>{let s=i.trim(),a=s.indexOf(tN);if(a!==-1){let n=s.slice(0,a),r=s.slice(a+1,i.length);XR(n)&&JR(r)&&t.set(n,r)}return t},new Map),this._internalState.size>ZR&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,ZR))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new o;return e._internalState=new Map(this._internalState),e}}});function rN(o){let e=kY.exec(o);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Ol,Rl,bY,VY,wY,BY,GY,kY,Ws,nN=p(()=>{U();Gs();Up();Ol="traceparent",Rl="tracestate",bY="00",VY="(?!ff)[\\da-f]{2}",wY="(?![0]{32})[\\da-f]{32}",BY="(?![0]{16})[\\da-f]{16}",GY="[\\da-f]{2}",kY=new RegExp(`^\\s?(${VY})-(${wY})-(${BY})-(${GY})(-.*)?\\s?$`);Ws=class{inject(e,t,i){let s=Se.getSpanContext(e);if(!s||St(e)||!qe(s))return;let a=`${bY}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||de.NONE).toString(16)}`;i.set(t,Ol,a),s.traceState&&i.set(t,Rl,s.traceState.serialize())}extract(e,t,i){let s=i.get(t,Ol);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let n=rN(a);if(!n)return e;n.isRemote=!0;let r=i.get(t,Rl);if(r){let c=Array.isArray(r)?r.join(","):r;n.traceState=new Ks(typeof c=="string"?c:void 0)}return Se.setSpanContext(e,n)}fields(){return[Ol,Rl]}}});var oN=p(()=>{});function FY(o,e){return o.setValue(Vp,e)}function HY(o){return o.deleteValue(Vp)}function YY(o){return o.getValue(Vp)}var Vp,bp,iN=p(()=>{U();Vp=Gt("OpenTelemetry SDK Context Key RPC_METADATA");(function(o){o.HTTP="http"})(bp||(bp={}))});var $o,wp=p(()=>{U();$o=class{shouldSample(){return{decision:Ot.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var co,Bp=p(()=>{U();co=class{shouldSample(){return{decision:Ot.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var Gp,sN=p(()=>{U();Np();wp();Bp();Gp=class{constructor(e){var t,i,s,a;this._root=e.root,this._root||(Pe(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new co),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new co,this._remoteParentNotSampled=(i=e.remoteParentNotSampled)!==null&&i!==void 0?i:new $o,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new co,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new $o}shouldSample(e,t,i,s,a,n){let r=Se.getSpanContext(e);return!r||!qe(r)?this._root.shouldSample(e,t,i,s,a,n):r.isRemote?r.traceFlags&de.SAMPLED?this._remoteParentSampled.shouldSample(e,t,i,s,a,n):this._remoteParentNotSampled.shouldSample(e,t,i,s,a,n):r.traceFlags&de.SAMPLED?this._localParentSampled.shouldSample(e,t,i,s,a,n):this._localParentNotSampled.shouldSample(e,t,i,s,a,n)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var kp,aN=p(()=>{U();kp=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:or(t)&&this._accumulate(t)<this._upperBound?Ot.RECORD_AND_SAMPLED:Ot.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let i=0;i<e.length/8;i++){let s=i*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function XY(o,e){return function(t){return o(e(t))}}function Fp(o){if(!JY(o)||QY(o)!==qY)return!1;let e=$Y(o);if(e===null)return!0;let t=uN.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&cN.call(t)===zY}function JY(o){return o!=null&&typeof o=="object"}function QY(o){return o==null?o===void 0?WY:KY:lo&&lo in Object(o)?ZY(o):e2(o)}function ZY(o){let e=uN.call(o,lo),t=o[lo],i=!1;try{o[lo]=void 0,i=!0}catch{}let s=EN.call(o);return i&&(e?o[lo]=t:delete o[lo]),s}function e2(o){return EN.call(o)}var qY,KY,WY,jY,cN,zY,$Y,lN,uN,lo,EN,SN=p(()=>{qY="[object Object]",KY="[object Null]",WY="[object Undefined]",jY=Function.prototype,cN=jY.toString,zY=cN.call(Object),$Y=XY(Object.getPrototypeOf,Object),lN=Object.prototype,uN=lN.hasOwnProperty,lo=Symbol?Symbol.toStringTag:void 0,EN=lN.toString});function zs(...o){let e=o.shift(),t=new WeakMap;for(;o.length>0;)e=pN(e,o.shift(),0,t);return e}function Hp(o){return Ml(o)?o.slice():o}function pN(o,e,t=0,i){let s;if(!(t>t2)){if(t++,Nl(o)||Nl(e)||dN(e))s=Hp(e);else if(Ml(o)){if(s=o.slice(),Ml(e))for(let a=0,n=e.length;a<n;a++)s.push(Hp(e[a]));else if(js(e)){let a=Object.keys(e);for(let n=0,r=a.length;n<r;n++){let c=a[n];s[c]=Hp(e[c])}}}else if(js(o))if(js(e)){if(!r2(o,e))return e;s=Object.assign({},o);let a=Object.keys(e);for(let n=0,r=a.length;n<r;n++){let c=a[n],l=e[c];if(Nl(l))typeof l>"u"?delete s[c]:s[c]=l;else{let u=s[c],E=l;if(_N(o,c,i)||_N(e,c,i))delete s[c];else{if(js(u)&&js(E)){let T=i.get(u)||[],f=i.get(E)||[];T.push({obj:o,key:c}),f.push({obj:e,key:c}),i.set(u,T),i.set(E,f)}s[c]=pN(s[c],l,t,i)}}}}else s=e;return s}}function _N(o,e,t){let i=t.get(o[e])||[];for(let s=0,a=i.length;s<a;s++){let n=i[s];if(n.key===e&&n.obj===o)return!0}return!1}function Ml(o){return Array.isArray(o)}function dN(o){return typeof o=="function"}function js(o){return!Nl(o)&&!Ml(o)&&!dN(o)&&typeof o=="object"}function Nl(o){return typeof o=="string"||typeof o=="number"||typeof o=="boolean"||typeof o>"u"||o instanceof Date||o instanceof RegExp||o===null}function r2(o,e){return!(!Fp(o)||!Fp(e))}var t2,TN=p(()=>{SN();t2=20});function $s(o,e){let t,i=new Promise(function(a,n){t=setTimeout(function(){n(new Pl("Operation timed out."))},e)});return Promise.race([o,i]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var Pl,fN=p(()=>{Pl=class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}});function hN(o,e){return typeof e=="string"?o===e:!!o.match(e)}function n2(o,e){if(!e)return!1;for(let t of e)if(hN(o,t))return!0;return!1}var AN=p(()=>{});function o2(o){return typeof o=="function"&&typeof o.__original=="function"&&typeof o.__unwrap=="function"&&o.__wrapped===!0}var mN=p(()=>{});var Cl,ON=p(()=>{Cl=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var Qe,RN=p(()=>{ON();Qe=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Cl}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function NN(o,e){return new Promise(t=>{Fe.with(Bs(Fe.active()),()=>{o.export(e,i=>{t(i)})})})}var MN=p(()=>{U();Gs()});var uo={};Ie(uo,{AlwaysOffSampler:()=>$o,AlwaysOnSampler:()=>co,AnchoredClock:()=>mp,BindOnceFuture:()=>Qe,CompositePropagator:()=>qs,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>Tn,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>dn,DEFAULT_ENVIRONMENT:()=>_l,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>NR,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>MR,ExportResultCode:()=>te,ParentBasedSampler:()=>Gp,RPCType:()=>bp,RandomIdGenerator:()=>gp,SDK_INFO:()=>Fs,TRACE_PARENT_HEADER:()=>Ol,TRACE_STATE_HEADER:()=>Rl,TimeoutError:()=>Pl,TraceIdRatioBasedSampler:()=>kp,TraceState:()=>Ks,TracesSamplerValues:()=>Lt,VERSION:()=>yp,W3CBaggagePropagator:()=>ks,W3CTraceContextPropagator:()=>Ws,_globalThis:()=>fY,addHrTimes:()=>ml,baggageUtils:()=>ir,callWithTimeout:()=>$s,deleteRPCMetadata:()=>HY,getEnv:()=>X,getEnvWithoutDefaults:()=>zo,getRPCMetadata:()=>YY,getTimeOrigin:()=>Hs,globalErrorHandler:()=>Pe,hexToBase64:()=>hY,hexToBinary:()=>so,hrTime:()=>fl,hrTimeDuration:()=>Ip,hrTimeToMicroseconds:()=>_t,hrTimeToMilliseconds:()=>yY,hrTimeToNanoseconds:()=>Dp,hrTimeToTimeStamp:()=>gY,internal:()=>jr,isAttributeKey:()=>AR,isAttributeValue:()=>io,isTimeInput:()=>Al,isTimeInputHrTime:()=>Ys,isTracingSuppressed:()=>St,isUrlIgnored:()=>n2,isWrapped:()=>o2,loggingErrorHandler:()=>Op,merge:()=>zs,millisToHrTime:()=>st,otperformance:()=>Wr,parseEnvironment:()=>pl,parseTraceParent:()=>rN,sanitizeAttributes:()=>oo,setGlobalErrorHandler:()=>oY,setRPCMetadata:()=>FY,suppressTracing:()=>Bs,timeInputToHrTime:()=>hl,unrefTimer:()=>ao,unsuppressTracing:()=>XH,urlMatches:()=>hN});var jr,$=p(()=>{fR();hR();OR();Np();Rp();WR();jR();Cp();zR();Ap();vp();$R();nN();oN();iN();wp();Bp();sN();aN();Gs();Up();Pp();TN();Mp();fN();AN();mN();RN();Lp();MN();jr={_export:NN}});function Xo(){return`unknown_service:${process.argv0}`}var PN=p(()=>{});var CN=p(()=>{PN()});var Yp=p(()=>{CN()});var le,zr=p(()=>{U();pn();$();Yp();le=class o{constructor(e,t){var i;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(i=this._attributes)!==null&&i!==void 0?i:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(R.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return o.EMPTY}static default(){return new o({[ll]:Xo(),[_p]:Fs[_p],[Sp]:Fs[Sp],[pp]:Fs[pp]})}get attributes(){var e;return this.asyncAttributesPending&&R.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let i=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new o(i);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,n])=>{var r;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(r=e._syncAttributes)!==null&&r!==void 0?r:e.attributes),n)});return new o(i,s)}};le.EMPTY=new le({})});var gN,yN,qp=p(()=>{gN=o=>{switch(o){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return o}},yN=o=>{switch(o){case"sunos":return"solaris";case"win32":return"windows";default:return o}}});import*as LN from"child_process";import*as vN from"util";var Jo,gl=p(()=>{Jo=vN.promisify(LN.exec)});var IN={};Ie(IN,{getMachineId:()=>i2});async function i2(){try{let e=(await Jo('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(i=>i.includes("IOPlatformUUID"));if(!e)return"";let t=e.split('" = "');if(t.length===2)return t[1].slice(0,-1)}catch(o){R.debug(`error reading machine id: ${o}`)}return""}var DN=p(()=>{gl();U()});var xN={};Ie(xN,{getMachineId:()=>a2});import{promises as s2}from"fs";async function a2(){let o=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of o)try{return(await s2.readFile(e,{encoding:"utf8"})).trim()}catch(t){R.debug(`error reading machine id: ${t}`)}return""}var UN=p(()=>{U()});var bN={};Ie(bN,{getMachineId:()=>l2});import{promises as c2}from"fs";async function l2(){try{return(await c2.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(o){R.debug(`error reading machine id: ${o}`)}try{return(await Jo("kenv -q smbios.system.uuid")).stdout.trim()}catch(o){R.debug(`error reading machine id: ${o}`)}return""}var VN=p(()=>{gl();U()});var wN={};Ie(wN,{getMachineId:()=>u2});import*as yl from"process";async function u2(){let o="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";yl.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in yl.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let i=(await Jo(`${e} ${o}`)).stdout.split("REG_SZ");if(i.length===2)return i[1].trim()}catch(t){R.debug(`error reading machine id: ${t}`)}return""}var BN=p(()=>{gl();U()});var GN={};Ie(GN,{getMachineId:()=>E2});async function E2(){return R.debug("could not read machine-id: unsupported platform"),""}var kN=p(()=>{U()});import*as FN from"process";var Eo,HN=p(()=>{switch(FN.platform){case"darwin":({getMachineId:Eo}=(DN(),ee(IN)));break;case"linux":({getMachineId:Eo}=(UN(),ee(xN)));break;case"freebsd":({getMachineId:Eo}=(VN(),ee(bN)));break;case"win32":({getMachineId:Eo}=(BN(),ee(wN)));break;default:({getMachineId:Eo}=(kN(),ee(GN)))}});import{arch as S2,hostname as _2}from"os";var Kp,So,Wp=p(()=>{pn();zr();qp();HN();Kp=class{detect(e){let t={[nR]:_2(),[oR]:gN(S2())};return new le(t,this._getAsyncAttributes())}_getAsyncAttributes(){return Eo().then(e=>{let t={};return e&&(t[rR]=e),t})}},So=new Kp});var jp,Xs,YN=p(()=>{Wp();jp=class{detect(e){return Promise.resolve(So.detect(e))}},Xs=new jp});import{platform as p2,release as d2}from"os";var zp,_o,$p=p(()=>{pn();zr();qp();zp=class{detect(e){let t={[iR]:yN(p2()),[sR]:d2()};return new le(t)}},_o=new zp});var Xp,Js,qN=p(()=>{$p();Xp=class{detect(e){return Promise.resolve(_o.detect(e))}},Js=new Xp});import*as KN from"os";var Jp,po,Qp=p(()=>{U();pn();zr();Jp=class{detect(e){let t={[aR]:process.pid,[cR]:process.title,[lR]:process.execPath,[ER]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[ws]:process.versions.node,[al]:"nodejs",[cl]:"Node.js"};process.argv.length>1&&(t[uR]=process.argv[1]);try{let i=KN.userInfo();t[SR]=i.username}catch(i){R.debug(`error obtaining process owner: ${i}`)}return new le(t)}},po=new Jp});var Zp,Qs,WN=p(()=>{Qp();Zp=class{detect(e){return Promise.resolve(po.detect(e))}},Qs=new Zp});import{randomUUID as T2}from"crypto";var ed,Zs,jN=p(()=>{pn();zr();ed=class{detect(e){let t={[_R]:T2()};return new le(t)}},Zs=new ed});var zN=p(()=>{YN();Wp();qN();$p();WN();Qp();jN()});var $N=p(()=>{zN()});var td,ea,rd=p(()=>{pn();U();zr();td=class{detect(e){var t,i,s;if(!(typeof navigator<"u"&&((i=(t=global.process)===null||t===void 0?void 0:t.versions)===null||i===void 0?void 0:i.node)===void 0&&((s=global.Bun)===null||s===void 0?void 0:s.version)===void 0))return le.empty();let n={[al]:"browser",[cl]:"Web Browser",[ws]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[ws]===""?(R.debug("BrowserDetector failed: Unable to find required browser resources. "),le.empty()):new le(Object.assign({},e))}},ea=new td});var nd,od,XN=p(()=>{rd();nd=class{detect(e){return Promise.resolve(ea.detect(e))}},od=new nd});var id,ta,sd=p(()=>{U();$();pn();zr();id=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let t={},i=X(),s=i.OTEL_RESOURCE_ATTRIBUTES,a=i.OTEL_SERVICE_NAME;if(s)try{let n=this._parseResourceAttributes(s);Object.assign(t,n)}catch(n){R.debug(`EnvDetector failed: ${n.message}`)}return a&&(t[ll]=a),new le(t)}_parseResourceAttributes(e){if(!e)return{};let t={},i=e.split(this._COMMA_SEPARATOR,-1);for(let s of i){let a=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[n,r]=a;if(n=n.trim(),r=r.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(r))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=decodeURIComponent(r)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(i<33||i===44||i===59||i===92||i>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},ta=new id});var ad,cd,JN=p(()=>{sd();ad=class{detect(e){return Promise.resolve(ta.detect(e))}},cd=new ad});var QN=p(()=>{$N();XN();JN();rd();sd()});var ZN,eM=p(()=>{ZN=o=>o!==null&&typeof o=="object"&&typeof o.then=="function"});var tM,rM,nM,oM=p(()=>{zr();U();eM();tM=async(o={})=>{let e=await Promise.all((o.detectors||[]).map(async t=>{try{let i=await t.detect(o);return R.debug(`${t.constructor.name} found resource.`,i),i}catch(i){return R.debug(`${t.constructor.name} failed: ${i.message}`),le.empty()}}));return nM(e),e.reduce((t,i)=>t.merge(i),le.empty())},rM=(o={})=>{var e;let t=((e=o.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let a=s.detect(o),n;if(ZN(a)){let r=async()=>(await a).attributes;n=new le({},r())}else n=a;return n.waitForAsyncAttributes?n.waitForAsyncAttributes().then(()=>R.debug(`${s.constructor.name} found resource.`,n)):R.debug(`${s.constructor.name} found resource.`,n),n}catch(a){return R.error(`${s.constructor.name} failed: ${a.message}`),le.empty()}}),i=t.reduce((s,a)=>s.merge(a),le.empty());return i.waitForAsyncAttributes&&i.waitForAsyncAttributes().then(()=>{nM(t)}),i},nM=o=>{o.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=JSON.stringify(e.attributes,null,4);R.verbose(t)}})}});var Ll={};Ie(Ll,{Resource:()=>le,browserDetector:()=>od,browserDetectorSync:()=>ea,defaultServiceName:()=>Xo,detectResources:()=>tM,detectResourcesSync:()=>rM,envDetector:()=>cd,envDetectorSync:()=>ta,hostDetector:()=>Xs,hostDetectorSync:()=>So,osDetector:()=>Js,osDetectorSync:()=>_o,processDetector:()=>Qs,processDetectorSync:()=>po,serviceInstanceIdDetectorSync:()=>Zs});var fn=p(()=>{zr();Yp();QN();oM()});var iM=p(()=>{});var sM=p(()=>{});var ld,aM=p(()=>{(function(o){o[o.UNSPECIFIED=0]="UNSPECIFIED",o[o.TRACE=1]="TRACE",o[o.TRACE2=2]="TRACE2",o[o.TRACE3=3]="TRACE3",o[o.TRACE4=4]="TRACE4",o[o.DEBUG=5]="DEBUG",o[o.DEBUG2=6]="DEBUG2",o[o.DEBUG3=7]="DEBUG3",o[o.DEBUG4=8]="DEBUG4",o[o.INFO=9]="INFO",o[o.INFO2=10]="INFO2",o[o.INFO3=11]="INFO3",o[o.INFO4=12]="INFO4",o[o.WARN=13]="WARN",o[o.WARN2=14]="WARN2",o[o.WARN3=15]="WARN3",o[o.WARN4=16]="WARN4",o[o.ERROR=17]="ERROR",o[o.ERROR2=18]="ERROR2",o[o.ERROR3=19]="ERROR3",o[o.ERROR4=20]="ERROR4",o[o.FATAL=21]="FATAL",o[o.FATAL2=22]="FATAL2",o[o.FATAL3=23]="FATAL3",o[o.FATAL4=24]="FATAL4"})(ld||(ld={}))});var cM=p(()=>{});var lM=p(()=>{});var Qo,ud,Ed=p(()=>{Qo=class{emit(e){}},ud=new Qo});var vl,Il,Sd=p(()=>{Ed();vl=class{getLogger(e,t,i){return new Qo}},Il=new vl});var uM,EM=p(()=>{uM=typeof globalThis=="object"?globalThis:global});var SM=p(()=>{EM()});var _M=p(()=>{SM()});function pM(o,e,t){return i=>i===o?e:t}var ra,Zo,_d,dM=p(()=>{_M();ra=Symbol.for("io.opentelemetry.js.api.logs"),Zo=uM;_d=1});var Dl,TM=p(()=>{dM();Sd();Dl=class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalLoggerProvider(e){return Zo[ra]?this.getLoggerProvider():(Zo[ra]=pM(_d,e,Il),e)}getLoggerProvider(){var e,t;return(t=(e=Zo[ra])===null||e===void 0?void 0:e.call(Zo,_d))!==null&&t!==void 0?t:Il}getLogger(e,t,i){return this.getLoggerProvider().getLogger(e,t,i)}disable(){delete Zo[ra]}}});var fM={};Ie(fM,{NOOP_LOGGER:()=>ud,NOOP_LOGGER_PROVIDER:()=>Il,NoopLogger:()=>Qo,NoopLoggerProvider:()=>vl,SeverityNumber:()=>ld,logs:()=>na});var na,oa=p(()=>{iM();sM();aM();cM();lM();Ed();Sd();TM();na=Dl.getInstance()});var ei,pd=p(()=>{U();U();$();ei=class{constructor(e,t,i){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;let{timestamp:s,observedTimestamp:a,severityNumber:n,severityText:r,body:c,attributes:l={},context:u}=i,E=Date.now();if(this.hrTime=hl(s??E),this.hrTimeObserved=hl(a??E),u){let T=Se.getSpanContext(u);T&&qe(T)&&(this.spanContext=T)}this.severityNumber=n,this.severityText=r,this.body=c,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this.setAttributes(l)}set severityText(e){this._isLogRecordReadonly()||(this._severityText=e)}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e)}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e)}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}setAttribute(e,t){return this._isLogRecordReadonly()?this:t===null?this:e.length===0?(R.warn(`Invalid attribute key: ${e}`),this):!io(t)&&!(typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length>0)?(R.warn(`Invalid attribute value set for key: ${e}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this.droppedAttributesCount===1&&R.warn("Dropping extra attributes."),this):(io(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t,this))}setAttributes(e){for(let[t,i]of Object.entries(e))this.setAttribute(t,i);return this}setBody(e){return this.body=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(e){let t=this._logRecordLimits.attributeValueLengthLimit;return t<=0?(R.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(i=>typeof i=="string"?this._truncateToLimitUtil(i,t):i):e}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_isLogRecordReadonly(){return this._isReadonly&&R.warn("Can not execute the operation on emitted log record"),this._isReadonly}}});var xl,hM=p(()=>{U();pd();xl=class{constructor(e,t){this.instrumentationScope=e,this._sharedState=t}emit(e){let t=e.context||Fe.active(),i=new ei(this._sharedState,this.instrumentationScope,Object.assign({context:t},e));this._sharedState.activeProcessor.onEmit(i,t),i._makeReadonly()}}});function AM(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:X().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:X().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0}}function mM(o){var e,t,i,s,a,n;let r=zo();return{attributeCountLimit:(i=(t=(e=o.attributeCountLimit)!==null&&e!==void 0?e:r.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)!==null&&t!==void 0?t:r.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:Tn,attributeValueLengthLimit:(n=(a=(s=o.attributeValueLengthLimit)!==null&&s!==void 0?s:r.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&a!==void 0?a:r.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&n!==void 0?n:dn}}var OM=p(()=>{$()});var Ul,RM=p(()=>{$();Ul=class{constructor(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(t=>$s(t.forceFlush(),e)))}onEmit(e,t){this.processors.forEach(i=>i.onEmit(e,t))}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()))}}});var ti,dd=p(()=>{ti=class{forceFlush(){return Promise.resolve()}onEmit(e,t){}shutdown(){return Promise.resolve()}}});var bl,NM=p(()=>{dd();bl=class{constructor(e,t,i){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=i,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new ti}}});var f2,Vl,MM=p(()=>{U();oa();fn();$();hM();OM();RM();NM();f2="unknown",Vl=class{constructor(e={}){var t;let i=zs({},AM(),e),s=le.default().merge((t=i.resource)!==null&&t!==void 0?t:le.empty());this._sharedState=new bl(s,i.forceFlushTimeoutMillis,mM(i.logRecordLimits)),this._shutdownOnce=new Qe(this._shutdown,this)}getLogger(e,t,i){if(this._shutdownOnce.isCalled)return R.warn("A shutdown LoggerProvider cannot provide a Logger"),ud;e||R.warn("Logger requested without instrumentation scope name.");let s=e||f2,a=`${s}@${t||""}:${(i==null?void 0:i.schemaUrl)||""}`;return this._sharedState.loggers.has(a)||this._sharedState.loggers.set(a,new xl({name:s,version:t,schemaUrl:i==null?void 0:i.schemaUrl},this._sharedState)),this._sharedState.loggers.get(a)}addLogRecordProcessor(e){this._sharedState.registeredLogRecordProcessors.length===0&&this._sharedState.activeProcessor.shutdown().catch(t=>R.error("Error while trying to shutdown current log record processor",t)),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new Ul(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){return this._shutdownOnce.isCalled?(R.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(R.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}});var wl,PM=p(()=>{$();$();wl=class{export(e,t){this._sendLogRecords(e,t)}shutdown(){return Promise.resolve()}_exportInfo(e){var t,i,s;return{resource:{attributes:e.resource.attributes},timestamp:_t(e.hrTime),traceId:(t=e.spanContext)===null||t===void 0?void 0:t.traceId,spanId:(i=e.spanContext)===null||i===void 0?void 0:i.spanId,traceFlags:(s=e.spanContext)===null||s===void 0?void 0:s.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}}_sendLogRecords(e,t){for(let i of e)console.dir(this._exportInfo(i),{depth:3});t==null||t({code:te.SUCCESS})}}});var Bl,CM=p(()=>{$();Bl=class{constructor(e){this._exporter=e,this._shutdownOnce=new Qe(this._shutdown,this),this._unresolvedExports=new Set}onEmit(e){var t,i;if(this._shutdownOnce.isCalled)return;let s=()=>jr._export(this._exporter,[e]).then(a=>{var n;a.code!==te.SUCCESS&&Pe((n=a.error)!==null&&n!==void 0?n:new Error(`SimpleLogRecordProcessor: log record export failed (status ${a})`))}).catch(Pe);if(e.resource.asyncAttributesPending){let a=(i=(t=e.resource).waitForAsyncAttributes)===null||i===void 0?void 0:i.call(t).then(()=>(this._unresolvedExports.delete(a),s()),Pe);a!=null&&this._unresolvedExports.add(a)}else s()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var Gl,gM=p(()=>{$();Gl=class{constructor(){this._finishedLogRecords=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:te.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...e),t({code:te.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}});var kl,yM=p(()=>{U();$();kl=class{constructor(e,t){var i,s,a,n;this._exporter=e,this._finishedLogRecords=[];let r=X();this._maxExportBatchSize=(i=t==null?void 0:t.maxExportBatchSize)!==null&&i!==void 0?i:r.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=(s=t==null?void 0:t.maxQueueSize)!==null&&s!==void 0?s:r.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=(a=t==null?void 0:t.scheduledDelayMillis)!==null&&a!==void 0?a:r.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=(n=t==null?void 0:t.exportTimeoutMillis)!==null&&n!==void 0?n:r.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new Qe(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(R.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let i=[],s=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<s;a++)i.push(this._flushOneBatch());Promise.all(i).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((e,t)=>{$s(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(t)})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{Pe(e)})},this._scheduledDelayMillis),ao(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}_export(e){let t=()=>jr._export(this._exporter,e).then(s=>{var a;s.code!==te.SUCCESS&&Pe((a=s.error)!==null&&a!==void 0?a:new Error(`BatchLogRecordProcessor: log record export failed (status ${s})`))}).catch(Pe),i=e.map(s=>s.resource).filter(s=>s.asyncAttributesPending);return i.length===0?t():Promise.all(i.map(s=>{var a;return(a=s.waitForAsyncAttributes)===null||a===void 0?void 0:a.call(s)})).then(t,Pe)}}});var ri,LM=p(()=>{yM();ri=class extends kl{onShutdown(){}}});var vM=p(()=>{LM()});var IM=p(()=>{vM()});var Td={};Ie(Td,{BatchLogRecordProcessor:()=>ri,ConsoleLogRecordExporter:()=>wl,InMemoryLogRecordExporter:()=>Gl,LogRecord:()=>ei,LoggerProvider:()=>Vl,NoopLogRecordProcessor:()=>ti,SimpleLogRecordProcessor:()=>Bl});var fd=p(()=>{MM();pd();dd();PM();CM();gM();IM()});var sr,Fl=p(()=>{(function(o){o[o.DELTA=0]="DELTA",o[o.CUMULATIVE=1]="CUMULATIVE"})(sr||(sr={}))});var Ze,ni=p(()=>{(function(o){o[o.HISTOGRAM=0]="HISTOGRAM",o[o.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",o[o.GAUGE=2]="GAUGE",o[o.SUM=3]="SUM"})(Ze||(Ze={}))});function DM(o){return o!=null}function xM(o){let e=Object.keys(o);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,o[t]])))}function UM(o){var e,t;return`${o.name}:${(e=o.version)!==null&&e!==void 0?e:""}:${(t=o.schemaUrl)!==null&&t!==void 0?t:""}`}function hn(o,e){let t,i=new Promise(function(a,n){t=setTimeout(function(){n(new To("Operation timed out."))},e)});return Promise.race([o,i]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}async function bM(o){return Promise.all(o.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}function VM(o){return o.status==="rejected"}function hd(o,e){let t=[];return o.forEach(i=>{t.push(...e(i))}),t}function wM(o,e){if(o.size!==e.size)return!1;for(let t of o)if(!e.has(t))return!1;return!0}function BM(o,e){let t=0,i=o.length-1;for(;i-t>1;){let s=Math.trunc((i+t)/2);o[s]<=e?t=s:i=s-1}return o[i]<=e?i:o[t]<=e?t:-1}function GM(o,e){return o.toLowerCase()===e.toLowerCase()}var To,mr=p(()=>{To=class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}});var Ft,oi=p(()=>{(function(o){o[o.DROP=0]="DROP",o[o.SUM=1]="SUM",o[o.LAST_VALUE=2]="LAST_VALUE",o[o.HISTOGRAM=3]="HISTOGRAM",o[o.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(Ft||(Ft={}))});var Hl,kM=p(()=>{oi();Hl=class{constructor(){this.kind=Ft.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,i,s){}}});function Or(o,e,t){var i,s,a,n;return A2(o)||R.warn(`Invalid metric name: "${o}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:o,type:e,description:(i=t==null?void 0:t.description)!==null&&i!==void 0?i:"",unit:(s=t==null?void 0:t.unit)!==null&&s!==void 0?s:"",valueType:(a=t==null?void 0:t.valueType)!==null&&a!==void 0?a:mt.DOUBLE,advice:(n=t==null?void 0:t.advice)!==null&&n!==void 0?n:{}}}function FM(o,e){var t,i;return{name:(t=o.name)!==null&&t!==void 0?t:e.name,description:(i=o.description)!==null&&i!==void 0?i:e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}function HM(o,e){return GM(o.name,e.name)&&o.unit===e.unit&&o.type===e.type&&o.valueType===e.valueType}function A2(o){return o.match(h2)!=null}var Te,h2,$r=p(()=>{U();mr();(function(o){o.COUNTER="COUNTER",o.GAUGE="GAUGE",o.HISTOGRAM="HISTOGRAM",o.UP_DOWN_COUNTER="UP_DOWN_COUNTER",o.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",o.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",o.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(Te||(Te={}));h2=/^[a-z][a-z0-9_.\-/]{0,254}$/i});function m2(o){let e=o.map(()=>0);return e.push(0),{buckets:{boundaries:o,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var ia,sa,YM=p(()=>{oi();ni();$r();mr();ia=class{constructor(e,t,i=!0,s=m2(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=i,this._current=s}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=BM(this._boundaries,e);this._current.buckets.counts[t+1]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},sa=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=Ft.HISTOGRAM}createAccumulation(e){return new ia(e,this._boundaries,this._recordMinMax)}merge(e,t){let i=e.toPointValue(),s=t.toPointValue(),a=i.buckets.counts,n=s.buckets.counts,r=new Array(a.length);for(let u=0;u<a.length;u++)r[u]=a[u]+n[u];let c=1/0,l=-1/0;return this._recordMinMax&&(i.hasMinMax&&s.hasMinMax?(c=Math.min(i.min,s.min),l=Math.max(i.max,s.max)):i.hasMinMax?(c=i.min,l=i.max):s.hasMinMax&&(c=s.min,l=s.max)),new ia(e.startTime,i.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:i.buckets.boundaries,counts:r},count:i.count+s.count,sum:i.sum+s.sum,hasMinMax:this._recordMinMax&&(i.hasMinMax||s.hasMinMax),min:c,max:l})}diff(e,t){let i=e.toPointValue(),s=t.toPointValue(),a=i.buckets.counts,n=s.buckets.counts,r=new Array(a.length);for(let c=0;c<a.length;c++)r[c]=n[c]-a[c];return new ia(t.startTime,i.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:i.buckets.boundaries,counts:r},count:s.count-i.count,sum:s.sum-i.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,i,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.HISTOGRAM,dataPoints:i.map(([a,n])=>{let r=n.toPointValue(),c=e.type===Te.GAUGE||e.type===Te.UP_DOWN_COUNTER||e.type===Te.OBSERVABLE_GAUGE||e.type===Te.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:n.startTime,endTime:s,value:{min:r.hasMinMax?r.min:void 0,max:r.hasMinMax?r.max:void 0,sum:c?void 0:r.sum,buckets:r.buckets,count:r.count}}})}}}});var aa,Ad,qM=p(()=>{aa=class o{constructor(e=new Ad,t=0,i=0,s=0){this.backing=e,this.indexBase=t,this.indexStart=i,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,i=1<<e,s=0,a=0;for(let n=this.indexStart;n<=this.indexEnd;){let r=n%i;r<0&&(r+=i);for(let c=r;c<i&&s<t;c++)this._relocateBucket(a,s),s++,n++;a++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new o(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}},Ad=class o{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,i){let s=new Array(e).fill(0);s.splice(i,this._counts.length-t,...this._counts.slice(t)),s.splice(0,t,...this._counts.slice(0,t)),this._counts=s}reverse(e,t){let i=Math.floor((e+t)/2)-e;for(let s=0;s<i;s++){let a=this._counts[e+s];this._counts[e+s]=this._counts[t-s-1],this._counts[t-s-1]=a}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new o([...this._counts])}}});function Yl(o){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,o),((e.getUint32(0)&2146435072)>>20)-1023}function ql(o){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,o);let t=e.getUint32(0),i=e.getUint32(4);return(t&1048575)*Math.pow(2,32)+i}var ca,md=p(()=>{ca=Math.pow(2,-1022)});function la(o,e){return o===0||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY||Number.isNaN(o)?o:o*Math.pow(2,e)}function WM(o){return o--,o|=o>>1,o|=o>>2,o|=o>>4,o|=o>>8,o|=o>>16,o++,o}var Kl=p(()=>{});var Rr,Wl=p(()=>{Rr=class extends Error{}});var jl,zM=p(()=>{md();Kl();Wl();jl=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<ca)return this._minNormalLowerBoundaryIndex();let t=Yl(e),i=this._rightShift(ql(e)-1,52);return t+i>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new Rr(`underflow: ${e} is < minimum lower boundary: ${t}`);let i=this._maxNormalLowerBoundaryIndex();if(e>i)throw new Rr(`overflow: ${e} is > maximum lower boundary: ${i}`);return la(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=-1022>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return 1023>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}}});var zl,$M=p(()=>{md();Kl();Wl();zl=class{constructor(e){this._scale=e,this._scaleFactor=la(Math.LOG2E,e),this._inverseFactor=la(Math.LN2,-e)}mapToIndex(e){if(e<=ca)return this._minNormalLowerBoundaryIndex()-1;if(ql(e)===0)return(Yl(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),i=this._maxNormalLowerBoundaryIndex();return t>=i?i:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new Rr(`overflow: ${e} is > maximum lower boundary: ${t}`)}let i=this._minNormalLowerBoundaryIndex();if(e<=i){if(e===i)return ca;if(e===i-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new Rr(`overflow: ${e} is < minimum lower boundary: ${i}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return-1022<<this._scale}_maxNormalLowerBoundaryIndex(){return(1024<<this._scale)-1}}});function Nd(o){if(o>JM||o<XM)throw new Rr(`expected scale >= ${XM} && <= ${JM}, got: ${o}`);return R2[o+10]}var XM,JM,R2,QM=p(()=>{zM();$M();Wl();XM=-10,JM=20,R2=Array.from({length:31},(o,e)=>e>10?new zl(e-10):new jl(e-10))});var ii,N2,M2,Md,Pd,$l,ZM=p(()=>{oi();ni();U();$r();qM();QM();Kl();ii=class o{constructor(e,t){this.low=e,this.high=t}static combine(e,t){return new o(Math.min(e.low,t.low),Math.max(e.high,t.high))}},N2=20,M2=160,Md=2,Pd=class o{constructor(e=e,t=M2,i=!0,s=0,a=0,n=0,r=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=new aa,u=new aa,E=Nd(N2)){this.startTime=e,this._maxSize=t,this._recordMinMax=i,this._sum=s,this._count=a,this._zeroCount=n,this._min=r,this._max=c,this._positive=l,this._negative=u,this._mapping=E,this._maxSize<Md&&(R.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${Md}`),this._maxSize=Md)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,e===0){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new o(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,i){let s=this._mapping.mapToIndex(t),a=!1,n=0,r=0;if(e.length===0?(e.indexStart=s,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):s<e.indexStart&&e.indexEnd-s>=this._maxSize?(a=!0,r=s,n=e.indexEnd):s>e.indexEnd&&s-e.indexStart>=this._maxSize&&(a=!0,r=e.indexStart,n=s),a){let c=this._changeScale(n,r);this._downscale(c),s=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,s,i)}_incrementIndexBy(e,t,i){if(i===0)return;if(e.length===0&&(e.indexStart=e.indexEnd=e.indexBase=t),t<e.indexStart){let a=e.indexEnd-t;a>=e.backing.length&&this._grow(e,a+1),e.indexStart=t}else if(t>e.indexEnd){let a=t-e.indexStart;a>=e.backing.length&&this._grow(e,a+1),e.indexEnd=t}let s=t-e.indexBase;s<0&&(s+=e.backing.length),e.incrementBucket(s,i)}_grow(e,t){let i=e.backing.length,s=e.indexBase-e.indexStart,a=i-s,n=WM(t);n>this._maxSize&&(n=this._maxSize);let r=n-s;e.backing.growTo(n,a,r)}_changeScale(e,t){let i=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,i++;return i}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=Nd(t)}_minScale(e){let t=Math.min(this.scale,e.scale),i=ii.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),s=ii.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(i.high,i.low),t-this._changeScale(s.high,s.low))}_highLowAtScale(e,t,i){if(e.length===0)return new ii(0,-1);let s=t-i;return new ii(e.indexStart>>s,e.indexEnd>>s)}_mergeBuckets(e,t,i,s){let a=i.offset,n=t.scale-s;for(let r=0;r<i.length;r++)this._incrementIndexBy(e,a+r>>n,i.at(r))}_diffBuckets(e,t,i,s){let a=i.offset,n=t.scale-s;for(let r=0;r<i.length;r++){let l=(a+r>>n)-e.indexBase;l<0&&(l+=e.backing.length),e.decrementBucket(l,i.at(r))}e.trim()}},$l=class{constructor(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=Ft.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new Pd(e,this._maxSize,this._recordMinMax)}merge(e,t){let i=t.clone();return i.merge(e),i}diff(e,t){let i=t.clone();return i.diff(e),i}toMetricData(e,t,i,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.EXPONENTIAL_HISTOGRAM,dataPoints:i.map(([a,n])=>{let r=n.toPointValue(),c=e.type===Te.GAUGE||e.type===Te.UP_DOWN_COUNTER||e.type===Te.OBSERVABLE_GAUGE||e.type===Te.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:n.startTime,endTime:s,value:{min:r.hasMinMax?r.min:void 0,max:r.hasMinMax?r.max:void 0,sum:c?void 0:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},count:r.count,scale:r.scale,zeroCount:r.zeroCount}}})}}}});var ua,Xl,eP=p(()=>{oi();$();ni();ua=class{constructor(e,t=0,i=[0,0]){this.startTime=e,this._current=t,this.sampleTime=i}record(e){this._current=e,this.sampleTime=st(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},Xl=class{constructor(){this.kind=Ft.LAST_VALUE}createAccumulation(e){return new ua(e)}merge(e,t){let i=_t(t.sampleTime)>=_t(e.sampleTime)?t:e;return new ua(e.startTime,i.toPointValue(),i.sampleTime)}diff(e,t){let i=_t(t.sampleTime)>=_t(e.sampleTime)?t:e;return new ua(t.startTime,i.toPointValue(),i.sampleTime)}toMetricData(e,t,i,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.GAUGE,dataPoints:i.map(([a,n])=>({attributes:a,startTime:n.startTime,endTime:s,value:n.toPointValue()}))}}}});var fo,Ea,tP=p(()=>{oi();ni();fo=class{constructor(e,t,i=0,s=!1){this.startTime=e,this.monotonic=t,this._current=i,this.reset=s}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},Ea=class{constructor(e){this.monotonic=e,this.kind=Ft.SUM}createAccumulation(e){return new fo(e,this.monotonic)}merge(e,t){let i=e.toPointValue(),s=t.toPointValue();return t.reset?new fo(t.startTime,this.monotonic,s,t.reset):new fo(e.startTime,this.monotonic,i+s)}diff(e,t){let i=e.toPointValue(),s=t.toPointValue();return this.monotonic&&i>s?new fo(t.startTime,this.monotonic,s,!0):new fo(t.startTime,this.monotonic,s-i)}toMetricData(e,t,i,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.SUM,dataPoints:i.map(([a,n])=>({attributes:a,startTime:n.startTime,endTime:s,value:n.toPointValue()})),isMonotonic:this.monotonic}}}});var rP=p(()=>{kM();YM();ZM();eP();tP()});var pt,si,ho,ai,ci,Sa,_a,pa,nP,oP,iP,sP,P2,C2,Jl=p(()=>{U();rP();$r();pt=class{static Drop(){return nP}static Sum(){return oP}static LastValue(){return iP}static Histogram(){return sP}static ExponentialHistogram(){return P2}static Default(){return C2}},si=class o extends pt{createAggregator(e){return o.DEFAULT_INSTANCE}};si.DEFAULT_INSTANCE=new Hl;ho=class o extends pt{createAggregator(e){switch(e.type){case Te.COUNTER:case Te.OBSERVABLE_COUNTER:case Te.HISTOGRAM:return o.MONOTONIC_INSTANCE;default:return o.NON_MONOTONIC_INSTANCE}}};ho.MONOTONIC_INSTANCE=new Ea(!0);ho.NON_MONOTONIC_INSTANCE=new Ea(!1);ai=class o extends pt{createAggregator(e){return o.DEFAULT_INSTANCE}};ai.DEFAULT_INSTANCE=new Xl;ci=class o extends pt{createAggregator(e){return o.DEFAULT_INSTANCE}};ci.DEFAULT_INSTANCE=new sa([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);Sa=class extends pt{constructor(e,t=!0){if(super(),this._recordMinMax=t,e==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");e=e.concat(),e=e.sort((a,n)=>a-n);let i=e.lastIndexOf(-1/0),s=e.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=e.slice(i+1,s)}createAggregator(e){return new sa(this._boundaries,this._recordMinMax)}},_a=class extends pt{constructor(e=160,t=!0){super(),this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new $l(this._maxSize,this._recordMinMax)}},pa=class extends pt{_resolve(e){switch(e.type){case Te.COUNTER:case Te.UP_DOWN_COUNTER:case Te.OBSERVABLE_COUNTER:case Te.OBSERVABLE_UP_DOWN_COUNTER:return oP;case Te.GAUGE:case Te.OBSERVABLE_GAUGE:return iP;case Te.HISTOGRAM:return e.advice.explicitBucketBoundaries?new Sa(e.advice.explicitBucketBoundaries):sP}return R.warn(`Unable to recognize instrument type: ${e.type}`),nP}createAggregator(e){return this._resolve(e).createAggregator(e)}},nP=new si,oP=new ho,iP=new ai,sP=new ci,P2=new _a,C2=new pa});var aP,Ql,Cd=p(()=>{Jl();Fl();aP=o=>pt.Default(),Ql=o=>sr.CUMULATIVE});var li,gd=p(()=>{U();mr();Cd();li=class{constructor(e){var t,i,s;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:aP,this._aggregationTemporalitySelector=(i=e==null?void 0:e.aggregationTemporalitySelector)!==null&&i!==void 0?i:Ql,this._metricProducers=(s=e==null?void 0:e.metricProducers)!==null&&s!==void 0?s:[]}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[t,...i]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}),...this._metricProducers.map(r=>r.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}))]),s=t.errors.concat(hd(i,r=>r.errors)),a=t.resourceMetrics.resource,n=t.resourceMetrics.scopeMetrics.concat(hd(i,r=>r.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:a,scopeMetrics:n},errors:s}}async shutdown(e){if(this._shutdown){R.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await hn(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){R.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await hn(this.onForceFlush(),e.timeoutMillis)}}});var Zl,cP=p(()=>{U();$();gd();mr();U();Zl=class extends li{constructor(e){var t,i,s,a;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(i=e.exporter.selectAggregationTemporality)===null||i===void 0?void 0:i.bind(e.exporter),metricProducers:e.metricProducers}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=e.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(a=e.exportTimeoutMillis)!==null&&a!==void 0?a:3e4,this._exporter=e.exporter}async _runOnce(){try{await hn(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof To){R.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}Pe(e)}}async _doRun(){var e,t;let{resourceMetrics:i,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});s.length>0&&R.error("PeriodicExportingMetricReader: metrics collection errors",...s);let a=async()=>{let n=await jr._export(this._exporter,i);if(n.code!==te.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${n.error})`)};i.resource.asyncAttributesPending?(t=(e=i.resource).waitForAsyncAttributes)===null||t===void 0||t.call(e).then(a,n=>R.debug("Error while resolving async portion of resource: ",n)):await a()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),ao(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}});var eu,lP=p(()=>{$();eu=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:te.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:te.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}});var tu,uP=p(()=>{$();Cd();tu=class o{constructor(e){var t;this._shutdown=!1,this._temporalitySelector=(t=e==null?void 0:e.temporalitySelector)!==null&&t!==void 0?t:Ql}export(e,t){if(this._shutdown){setImmediate(t,{code:te.FAILED});return}return o._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let i of e.scopeMetrics)for(let s of i.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints},{depth:null});t({code:te.SUCCESS})}}});var ru,EP=p(()=>{ru=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,e)&&this._matchMeter(s.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}}});function da(o){return o instanceof Ei}var ui,nu,ou,iu,su,Ei,au,cu,lu,uu=p(()=>{U();$();ui=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},i=Fe.active()){if(typeof e!="number"){R.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}this._descriptor.valueType===mt.INT&&!Number.isInteger(e)&&(R.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,t,i,st(Date.now()))}},nu=class extends ui{add(e,t,i){this._record(e,t,i)}},ou=class extends ui{add(e,t,i){if(e<0){R.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,i)}},iu=class extends ui{record(e,t,i){this._record(e,t,i)}},su=class extends ui{record(e,t,i){if(e<0){R.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,i)}},Ei=class{constructor(e,t,i){this._observableRegistry=i,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}},au=class extends Ei{},cu=class extends Ei{},lu=class extends Ei{}});var Eu,SP=p(()=>{$r();uu();Eu=class{constructor(e){this._meterSharedState=e}createGauge(e,t){let i=Or(e,Te.GAUGE,t),s=this._meterSharedState.registerMetricStorage(i);return new iu(s,i)}createHistogram(e,t){let i=Or(e,Te.HISTOGRAM,t),s=this._meterSharedState.registerMetricStorage(i);return new su(s,i)}createCounter(e,t){let i=Or(e,Te.COUNTER,t),s=this._meterSharedState.registerMetricStorage(i);return new ou(s,i)}createUpDownCounter(e,t){let i=Or(e,Te.UP_DOWN_COUNTER,t),s=this._meterSharedState.registerMetricStorage(i);return new nu(s,i)}createObservableGauge(e,t){let i=Or(e,Te.OBSERVABLE_GAUGE,t),s=this._meterSharedState.registerAsyncMetricStorage(i);return new cu(i,s,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let i=Or(e,Te.OBSERVABLE_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(i);return new au(i,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let i=Or(e,Te.OBSERVABLE_UP_DOWN_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(i);return new lu(i,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}}});var Si,yd=p(()=>{$r();Si=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=Or(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}});var Ld,vt,Ta=p(()=>{mr();Ld=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let i=this._hash(e);if(this._valueMap.has(i))return this._valueMap.get(i);let s=t();return this._keyMap.has(i)||this._keyMap.set(i,e),this._valueMap.set(i,s),s}set(e,t,i){i??(i=this._hash(e)),this._keyMap.has(i)||this._keyMap.set(i,e),this._valueMap.set(i,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}},vt=class extends Ld{constructor(){super(xM)}}});var _i,vd=p(()=>{Ta();_i=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new vt,this._cumulativeMemoStorage=new vt}record(e,t,i,s){let a=this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation(s));a==null||a.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([i,s,a])=>{let n=this._aggregator.createAccumulation(t);n==null||n.record(s);let r=n;if(this._cumulativeMemoStorage.has(i,a)){let c=this._cumulativeMemoStorage.get(i,a);r=this._aggregator.diff(c,n)}if(this._activeCollectionStorage.has(i,a)){let c=this._activeCollectionStorage.get(i,a);r=this._aggregator.merge(c,r)}this._cumulativeMemoStorage.set(i,n,a),this._activeCollectionStorage.set(i,r,a)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new vt,e}}});function g2(o){return Array.from(o.entries())}var pi,Id=p(()=>{Fl();Ta();pi=class o{constructor(e,t){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,t.forEach(i=>{this._unreportedAccumulations.set(i,[])})}buildMetrics(e,t,i,s){this._stashAccumulations(i);let a=this._getMergedUnreportedAccumulations(e),n=a,r;if(this._reportHistory.has(e)){let l=this._reportHistory.get(e),u=l.collectionTime;r=l.aggregationTemporality,r===sr.CUMULATIVE?n=o.merge(l.accumulations,a,this._aggregator):n=o.calibrateStartTime(l.accumulations,a,u)}else r=e.selectAggregationTemporality(t.type);this._reportHistory.set(e,{accumulations:n,collectionTime:s,aggregationTemporality:r});let c=g2(n);if(c.length!==0)return this._aggregator.toMetricData(t,r,c,s)}_stashAccumulations(e){let t=this._unreportedAccumulations.keys();for(let i of t){let s=this._unreportedAccumulations.get(i);s===void 0&&(s=[],this._unreportedAccumulations.set(i,s)),s.push(e)}}_getMergedUnreportedAccumulations(e){let t=new vt,i=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),i===void 0)return t;for(let s of i)t=o.merge(t,s,this._aggregator);return t}static merge(e,t,i){let s=e,a=t.entries(),n=a.next();for(;n.done!==!0;){let[r,c,l]=n.value;if(e.has(r,l)){let u=e.get(r,l),E=i.merge(u,c);s.set(r,E,l)}else s.set(r,c,l);n=a.next()}return s}static calibrateStartTime(e,t,i){for(let[s,a]of e.keys()){let n=t.get(s,a);n==null||n.setStartTime(i)}return t}}});var Su,_P=p(()=>{yd();vd();Id();Ta();Su=class extends Si{constructor(e,t,i,s){super(e),this._attributesProcessor=i,this._deltaMetricStorage=new _i(t),this._temporalMetricStorage=new pi(t,s)}record(e,t){let i=new vt;Array.from(e.entries()).forEach(([s,a])=>{i.set(this._attributesProcessor.process(s),a)}),this._deltaMetricStorage.batchCumulate(i,t)}collect(e,t){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,i,t)}}});function Dd(o,e){let t="";return o.unit!==e.unit&&(t+=`	- Unit '${o.unit}' does not match '${e.unit}'
`),o.type!==e.type&&(t+=`	- Type '${o.type}' does not match '${e.type}'
`),o.valueType!==e.valueType&&(t+=`	- Value Type '${o.valueType}' does not match '${e.valueType}'
`),o.description!==e.description&&(t+=`	- Description '${o.description}' does not match '${e.description}'
`),t}function y2(o,e){return`	- use valueType '${o.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}function L2(o,e){return`	- use unit '${o.unit}' on instrument creation or use an instrument name other than '${e.name}'`}function v2(o,e){let t={name:e.name,type:e.type,unit:e.unit},i=JSON.stringify(t);return`	- create a new view with a name other than '${o.name}' and InstrumentSelector '${i}'`}function I2(o,e){let t={name:e.name,type:e.type,unit:e.unit},i=JSON.stringify(t);return`	- create a new view with a name other than '${o.name}' and InstrumentSelector '${i}'
    	- OR - create a new view with the name ${o.name} and description '${o.description}' and InstrumentSelector ${i}
    	- OR - create a new view with the name ${e.name} and description '${o.description}' and InstrumentSelector ${i}`}function xd(o,e){return o.valueType!==e.valueType?y2(o,e):o.unit!==e.unit?L2(o,e):o.type!==e.type?v2(o,e):o.description!==e.description?I2(o,e):""}var pP=p(()=>{});var _u,dP=p(()=>{$r();U();pP();_u=class o{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new o}getStorages(e){let t=[];for(let s of this._sharedRegistry.values())t=t.concat(s);let i=this._perCollectorRegistry.get(e);if(i!=null)for(let s of i.values())t=t.concat(s);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let i=this._perCollectorRegistry.get(e);i==null&&(i=new Map,this._perCollectorRegistry.set(e,i)),this._registerStorage(t,i)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){let i=this._perCollectorRegistry.get(e);if(i===void 0)return null;let s=i.get(t.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(t,s)}_registerStorage(e,t){let i=e.getInstrumentDescriptor(),s=t.get(i.name);if(s===void 0){t.set(i.name,[e]);return}s.push(e)}_findOrUpdateCompatibleStorage(e,t){let i=null;for(let s of t){let a=s.getInstrumentDescriptor();HM(a,e)?(a.description!==e.description&&(e.description.length>a.description.length&&s.updateDescription(e.description),R.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,Dd(a,e),`The longer description will be used.
To resolve the conflict:`,xd(a,e))),i=s):R.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,Dd(a,e),`To resolve the conflict:
`,xd(a,e))}return i}}});var pu,TP=p(()=>{pu=class{constructor(e){this._backingStorages=e}record(e,t,i,s){this._backingStorages.forEach(a=>{a.record(e,t,i,s)})}}});var du,Tu,fP=p(()=>{U();Ta();uu();du=class{constructor(e,t){this._instrumentName=e,this._valueType=t,this._buffer=new vt}observe(e,t={}){if(typeof e!="number"){R.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}this._valueType===mt.INT&&!Number.isInteger(e)&&(R.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(t,e)}},Tu=class{constructor(){this._buffer=new Map}observe(e,t,i={}){if(!da(e))return;let s=this._buffer.get(e);if(s==null&&(s=new vt,this._buffer.set(e,s)),typeof t!="number"){R.warn(`non-number value provided to metric ${e._descriptor.name}: ${t}`);return}e._descriptor.valueType===mt.INT&&!Number.isInteger(t)&&(R.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t),!Number.isInteger(t))||s.set(i,t)}}});var fu,hP=p(()=>{U();uu();fP();mr();fu=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let i=this._findCallback(e,t);i<0||this._callbacks.splice(i,1)}addBatchCallback(e,t){let i=new Set(t.filter(da));if(i.size===0){R.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,i)>=0||this._batchCallbacks.push({callback:e,instruments:i})}removeBatchCallback(e,t){let i=new Set(t.filter(da)),s=this._findBatchCallback(e,i);s<0||this._batchCallbacks.splice(s,1)}async observe(e,t){let i=this._observeCallbacks(e,t),s=this._observeBatchCallbacks(e,t);return(await bM([...i,...s])).filter(VM).map(r=>r.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:i,instrument:s})=>{let a=new du(s._descriptor.name,s._descriptor.valueType),n=Promise.resolve(i(a));t!=null&&(n=hn(n,t)),await n,s._metricStorages.forEach(r=>{r.record(a._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:i,instruments:s})=>{let a=new Tu,n=Promise.resolve(i(a));t!=null&&(n=hn(n,t)),await n,s.forEach(r=>{let c=a._buffer.get(r);c!=null&&r._metricStorages.forEach(l=>{l.record(c,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(i=>i.callback===e&&i.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(i=>i.callback===e&&wM(i.instruments,t))}}});var hu,AP=p(()=>{yd();vd();Id();hu=class extends Si{constructor(e,t,i,s){super(e),this._attributesProcessor=i,this._deltaMetricStorage=new _i(t),this._temporalMetricStorage=new pi(t,s)}record(e,t,i,s){t=this._attributesProcessor.process(t,i),this._deltaMetricStorage.record(e,t,i,s)}collect(e,t){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,i,t)}}});var An,Ud,Au,D2,bd=p(()=>{An=class{static Noop(){return D2}},Ud=class extends An{process(e,t){return e}},Au=class extends An{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let i={};return Object.keys(e).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>i[s]=e[s]),i}},D2=new Ud});var mu,mP=p(()=>{$r();SP();mr();_P();dP();TP();hP();AP();bd();mu=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new _u,this.observableRegistry=new fu,this.meter=new Eu(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,hu);return t.length===1?t[0]:new pu(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,Su)}async collect(e,t,i){let s=await this.observableRegistry.observe(t,i==null?void 0:i.timeoutMillis),a=this.metricStorageRegistry.getStorages(e);if(a.length===0)return null;let n=a.map(r=>r.collect(e,t)).filter(DM);return n.length===0?{errors:s}:{scopeMetrics:{scope:this._instrumentationScope,metrics:n},errors:s}}_registerMetricStorage(e,t){let s=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(a=>{let n=FM(a,e),r=this.metricStorageRegistry.findOrUpdateCompatibleStorage(n);if(r!=null)return r;let c=a.aggregation.createAggregator(n),l=new t(n,c,a.attributesProcessor,this._meterProviderSharedState.metricCollectors);return this.metricStorageRegistry.register(l),l});if(s.length===0){let n=this._meterProviderSharedState.selectAggregations(e.type).map(([r,c])=>{let l=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(r,e);if(l!=null)return l;let u=c.createAggregator(e),E=new t(e,u,An.Noop(),[r]);return this.metricStorageRegistry.registerForCollector(r,E),E});s=s.concat(n)}return s}}});var Ou,OP=p(()=>{mr();EP();mP();Ou=class{constructor(e){this.resource=e,this.viewRegistry=new ru,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=UM(e),i=this.meterSharedStates.get(t);return i==null&&(i=new mu(this,e),this.meterSharedStates.set(t,i)),i}selectAggregations(e){let t=[];for(let i of this.metricCollectors)t.push([i,i.selectAggregation(e)]);return t}}});var Ru,RP=p(()=>{$();Ru=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=st(Date.now()),i=[],s=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(async n=>{let r=await n.collect(this,t,e);(r==null?void 0:r.scopeMetrics)!=null&&i.push(r.scopeMetrics),(r==null?void 0:r.errors)!=null&&s.push(...r.errors)});return await Promise.all(a),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i},errors:s}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}}});var Nu,NP=p(()=>{U();fn();OP();RP();Nu=class{constructor(e){var t;this._shutdown=!1;let i=le.default().merge((t=e==null?void 0:e.resource)!==null&&t!==void 0?t:le.empty());if(this._sharedState=new Ou(i),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let s of e.views)this._sharedState.viewRegistry.addView(s);if((e==null?void 0:e.readers)!=null&&e.readers.length>0)for(let s of e.readers)this.addMetricReader(s)}getMeter(e,t="",i={}){return this._shutdown?(R.warn("A shutdown MeterProvider cannot provide a Meter"),Jc()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:i.schemaUrl}).meter}addMetricReader(e){let t=new Ru(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){R.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){R.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}}});var x2,di,mn,Mu=p(()=>{x2=/[\^$\\.+?()[\]{}|]/g,di=class o{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(o.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(x2,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}},mn=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}}});var Pu,MP=p(()=>{Mu();Pu=class{constructor(e){var t;this._nameFilter=new di((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type,this._unitFilter=new mn(e==null?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}});var Cu,PP=p(()=>{Mu();Cu=class{constructor(e){this._nameFilter=new mn(e==null?void 0:e.name),this._versionFilter=new mn(e==null?void 0:e.version),this._schemaUrlFilter=new mn(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}});function U2(o){return o.instrumentName==null&&o.instrumentType==null&&o.instrumentUnit==null&&o.meterName==null&&o.meterVersion==null&&o.meterSchemaUrl==null}var gu,CP=p(()=>{Mu();bd();MP();PP();Jl();gu=class{constructor(e){var t;if(U2(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||di.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new Au(e.attributeKeys):this.attributesProcessor=An.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:pt.Default(),this.instrumentSelector=new Pu({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new Cu({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}}});var Vd={};Ie(Vd,{Aggregation:()=>pt,AggregationTemporality:()=>sr,ConsoleMetricExporter:()=>tu,DataPointType:()=>Ze,DefaultAggregation:()=>pa,DropAggregation:()=>si,ExplicitBucketHistogramAggregation:()=>Sa,ExponentialHistogramAggregation:()=>_a,HistogramAggregation:()=>ci,InMemoryMetricExporter:()=>eu,InstrumentType:()=>Te,LastValueAggregation:()=>ai,MeterProvider:()=>Nu,MetricReader:()=>li,PeriodicExportingMetricReader:()=>Zl,SumAggregation:()=>ho,TimeoutError:()=>To,View:()=>gu});var yu=p(()=>{Fl();ni();gd();cP();lP();uP();$r();NP();Jl();CP();mr()});var Bd=h(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.AbstractAsyncHooksContextManager=void 0;var b2=B("events"),V2=["addListener","on","once","prependListener","prependOnceListener"],wd=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof b2.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let i=this,s=function(...a){return i.with(e,()=>t.apply(this,a))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),s}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),V2.forEach(s=>{t[s]!==void 0&&(t[s]=this._patchAddListener(t,t[s],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let i=this;return function(s,a){var n;let r=(n=i._getPatchMap(e))===null||n===void 0?void 0:n[s];if(r===void 0)return t.call(this,s,a);let c=r.get(a);return t.call(this,s,c||a)}}_patchRemoveAllListeners(e,t){let i=this;return function(s){let a=i._getPatchMap(e);return a!==void 0&&(arguments.length===0?i._createPatchMap(e):a[s]!==void 0&&delete a[s]),t.apply(this,arguments)}}_patchAddListener(e,t,i){let s=this;return function(a,n){if(s._wrapped)return t.call(this,a,n);let r=s._getPatchMap(e);r===void 0&&(r=s._createPatchMap(e));let c=r[a];c===void 0&&(c=new WeakMap,r[a]=c);let l=s.bind(i,n);c.set(n,l),s._wrapped=!0;try{return t.call(this,a,l)}finally{s._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};Lu.AbstractAsyncHooksContextManager=wd});var gP=h(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.AsyncHooksContextManager=void 0;var w2=(U(),ee(Je)),B2=B("async_hooks"),G2=Bd(),Gd=class extends G2.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=B2.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:w2.ROOT_CONTEXT}with(e,t,i,...s){this._enterContext(e);try{return t.call(i,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let i=this._stack[this._stack.length-1];i!==void 0&&this._contexts.set(e,i)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};vu.AsyncHooksContextManager=Gd});var yP=h(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.AsyncLocalStorageContextManager=void 0;var k2=(U(),ee(Je)),F2=B("async_hooks"),H2=Bd(),kd=class extends H2.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new F2.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:k2.ROOT_CONTEXT}with(e,t,i,...s){let a=i==null?t:t.bind(i);return this._asyncLocalStorage.run(e,a,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};Iu.AsyncLocalStorageContextManager=kd});var vP=h(On=>{"use strict";var Y2=On&&On.__createBinding||(Object.create?function(o,e,t,i){i===void 0&&(i=t),Object.defineProperty(o,i,{enumerable:!0,get:function(){return e[t]}})}:function(o,e,t,i){i===void 0&&(i=t),o[i]=e[t]}),LP=On&&On.__exportStar||function(o,e){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Y2(e,o,t)};Object.defineProperty(On,"__esModule",{value:!0});LP(gP(),On);LP(yP(),On)});var Ti,Fd=p(()=>{U();Ti=Gt("OpenTelemetry Context Key B3 Debug Flag")});var Ao,fa,ha,Aa,Hd,ma,Oa=p(()=>{Ao="b3",fa="x-b3-traceid",ha="x-b3-spanid",Aa="x-b3-sampled",Hd="x-b3-parentspanid",ma="x-b3-flags"});function W2(o){return o===de.SAMPLED||o===de.NONE}function j2(o){return Array.isArray(o)?o[0]:o}function xu(o,e,t){let i=e.get(o,t);return j2(i)}function z2(o,e){let t=xu(o,e,fa);return typeof t=="string"?t.padStart(32,"0"):""}function $2(o,e){let t=xu(o,e,ha);return typeof t=="string"?t:""}function IP(o,e){return xu(o,e,ma)==="1"?"1":void 0}function X2(o,e){let t=xu(o,e,Aa);if(IP(o,e)==="1"||q2.has(t))return de.SAMPLED;if(t===void 0||K2.has(t))return de.NONE}var q2,K2,Du,DP=p(()=>{U();$();Fd();Oa();q2=new Set([!0,"true","True","1",1]),K2=new Set([!1,"false","False","0",0]);Du=class{inject(e,t,i){let s=Se.getSpanContext(e);if(!s||!qe(s)||St(e))return;let a=e.getValue(Ti);i.set(t,fa,s.traceId),i.set(t,ha,s.spanId),a==="1"?i.set(t,ma,a):s.traceFlags!==void 0&&i.set(t,Aa,(de.SAMPLED&s.traceFlags)===de.SAMPLED?"1":"0")}extract(e,t,i){let s=z2(t,i),a=$2(t,i),n=X2(t,i),r=IP(t,i);return or(s)&&ro(a)&&W2(n)?(e=e.setValue(Ti,r),Se.setSpanContext(e,{traceId:s,spanId:a,isRemote:!0,traceFlags:n})):e}fields(){return[fa,ha,ma,Aa,Hd]}}});function t3(o){return o.length===32?o:`${Q2}${o}`}function r3(o){return o&&Z2.has(o)?de.SAMPLED:de.NONE}var J2,Q2,Z2,e3,Uu,xP=p(()=>{U();$();Fd();Oa();J2=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,Q2="0".repeat(16),Z2=new Set(["d","1"]),e3="d";Uu=class{inject(e,t,i){let s=Se.getSpanContext(e);if(!s||!qe(s)||St(e))return;let a=e.getValue(Ti)||s.traceFlags&1,n=`${s.traceId}-${s.spanId}-${a}`;i.set(t,Ao,n)}extract(e,t,i){let s=i.get(t,Ao),a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let n=a.match(J2);if(!n)return e;let[,r,c,l]=n,u=t3(r);if(!or(u)||!ro(c))return e;let E=r3(l);return l===e3&&(e=e.setValue(Ti,l)),Se.setSpanContext(e,{traceId:u,spanId:c,isRemote:!0,traceFlags:E})}fields(){return[Ao]}}});var Ra,Yd=p(()=>{(function(o){o[o.SINGLE_HEADER=0]="SINGLE_HEADER",o[o.MULTI_HEADER=1]="MULTI_HEADER"})(Ra||(Ra={}))});var qd,UP=p(()=>{$();DP();xP();Oa();Yd();qd=class{constructor(e={}){this._b3MultiPropagator=new Du,this._b3SinglePropagator=new Uu,e.injectEncoding===Ra.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,i){St(e)||this._inject(e,t,i)}extract(e,t,i){let s=i.get(t,Ao);return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(e,t,i):this._b3MultiPropagator.extract(e,t,i)}fields(){return this._fields}}});var bP={};Ie(bP,{B3InjectEncoding:()=>Ra,B3Propagator:()=>qd,B3_CONTEXT_HEADER:()=>Ao,X_B3_FLAGS:()=>ma,X_B3_PARENT_SPAN_ID:()=>Hd,X_B3_SAMPLED:()=>Aa,X_B3_SPAN_ID:()=>ha,X_B3_TRACE_ID:()=>fa});var VP=p(()=>{UP();Oa();Yd()});var n3,o3,i3,bu,Vu,wP,BP=p(()=>{n3="exception.type",o3="exception.message",i3="exception.stacktrace",bu=n3,Vu=o3,wP=i3});var GP=p(()=>{BP()});var kP=p(()=>{});var FP=p(()=>{kP()});var HP=p(()=>{GP();FP()});var YP,qP=p(()=>{YP="exception"});var Na,Kd=p(()=>{U();$();HP();qP();Na=class{constructor(e,t,i,s,a,n,r=[],c,l,u){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Ar.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=i,this._spanContext=s,this.parentSpanId=n,this.kind=a,this.links=r;let E=Date.now();this._performanceStartTime=Wr.now(),this._performanceOffset=E-(this._performanceStartTime+Hs()),this._startTimeProvided=c!=null,this.startTime=this._getTime(c??E),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,u!=null&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(R.warn(`Invalid attribute key: ${e}`),this):io(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(R.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,i]of Object.entries(e))this.setAttribute(t,i);return this}addEvent(e,t,i){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return R.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&R.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Al(t)&&(Al(i)||(i=t),t=void 0);let s=oo(t);return this.events.push({name:e,attributes:s,time:this._getTime(i),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){R.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=Ip(this.startTime,this.endTime),this._duration[0]<0&&(R.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&R.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<Wr.now())return fl(e+this._performanceOffset);if(typeof e=="number")return st(e);if(e instanceof Date)return st(e.getTime());if(Ys(e))return e;if(this._startTimeProvided)return st(Date.now());let t=Wr.now()-this._performanceStartTime;return ml(this.startTime,st(t))}isRecording(){return this._ended===!1}recordException(e,t){let i={};typeof e=="string"?i[Vu]=e:e&&(e.code?i[bu]=e.code.toString():e.name&&(i[bu]=e.name),e.message&&(i[Vu]=e.message),e.stack&&(i[wP]=e.stack)),i[bu]||i[Vu]?this.addEvent(YP,i,t):R.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&R.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(R.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(i=>typeof i=="string"?this._truncateToLimitUtil(i,t):i):e}}});var Nr,Ma=p(()=>{(function(o){o[o.NOT_RECORD=0]="NOT_RECORD",o[o.RECORD=1]="RECORD",o[o.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Nr||(Nr={}))});var Xr,wu=p(()=>{Ma();Xr=class{shouldSample(){return{decision:Nr.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var ar,Bu=p(()=>{Ma();ar=class{shouldSample(){return{decision:Nr.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var mo,Wd=p(()=>{U();$();wu();Bu();mo=class{constructor(e){var t,i,s,a;this._root=e.root,this._root||(Pe(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ar),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new ar,this._remoteParentNotSampled=(i=e.remoteParentNotSampled)!==null&&i!==void 0?i:new Xr,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new ar,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Xr}shouldSample(e,t,i,s,a,n){let r=Se.getSpanContext(e);return!r||!qe(r)?this._root.shouldSample(e,t,i,s,a,n):r.isRemote?r.traceFlags&de.SAMPLED?this._remoteParentSampled.shouldSample(e,t,i,s,a,n):this._remoteParentNotSampled.shouldSample(e,t,i,s,a,n):r.traceFlags&de.SAMPLED?this._localParentSampled.shouldSample(e,t,i,s,a,n):this._localParentNotSampled.shouldSample(e,t,i,s,a,n)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var fi,jd=p(()=>{U();Ma();fi=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:or(t)&&this._accumulate(t)<this._upperBound?Nr.RECORD_AND_SAMPLED:Nr.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let i=0;i<e.length/8;i++){let s=i*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function Gu(){return{sampler:zd(s3),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:X().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:X().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:X().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:X().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:X().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:X().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:X().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:X().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function zd(o=X()){switch(o.OTEL_TRACES_SAMPLER){case Lt.AlwaysOn:return new ar;case Lt.AlwaysOff:return new Xr;case Lt.ParentBasedAlwaysOn:return new mo({root:new ar});case Lt.ParentBasedAlwaysOff:return new mo({root:new Xr});case Lt.TraceIdRatio:return new fi(KP(o));case Lt.ParentBasedTraceIdRatio:return new mo({root:new fi(KP(o))});default:return R.error(`OTEL_TRACES_SAMPLER value "${o.OTEL_TRACES_SAMPLER} invalid, defaulting to ${a3}".`),new ar}}function KP(o){if(o.OTEL_TRACES_SAMPLER_ARG===void 0||o.OTEL_TRACES_SAMPLER_ARG==="")return R.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${hi}.`),hi;let e=Number(o.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(R.error(`OTEL_TRACES_SAMPLER_ARG=${o.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${hi}.`),hi):e<0||e>1?(R.error(`OTEL_TRACES_SAMPLER_ARG=${o.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${hi}.`),hi):e}var s3,a3,hi,$d=p(()=>{U();$();wu();Bu();Wd();jd();s3=X(),a3=Lt.AlwaysOn,hi=1});function WP(o){let e={sampler:zd()},t=Gu(),i=Object.assign({},t,e,o);return i.generalLimits=Object.assign({},t.generalLimits,o.generalLimits||{}),i.spanLimits=Object.assign({},t.spanLimits,o.spanLimits||{}),i}function jP(o){var e,t,i,s,a,n,r,c,l,u,E,T;let f=Object.assign({},o.spanLimits),N=zo();return f.attributeCountLimit=(n=(a=(s=(t=(e=o.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(i=o.generalLimits)===null||i===void 0?void 0:i.attributeCountLimit)!==null&&s!==void 0?s:N.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:N.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&n!==void 0?n:Tn,f.attributeValueLengthLimit=(T=(E=(u=(c=(r=o.spanLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!==null&&c!==void 0?c:(l=o.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&u!==void 0?u:N.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&E!==void 0?E:N.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&T!==void 0?T:dn,Object.assign({},o,{spanLimits:f})}var Xd=p(()=>{$d();$()});var ku,zP=p(()=>{U();$();ku=class{constructor(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let i=X();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:i.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:i.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:i.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:i.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Qe(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(R.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&de.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&R.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(R.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let i=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,n=s;a<n;a++)i.push(this._flushOneBatch());Promise.all(i).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let i=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);Fe.with(Bs(Fe.active()),()=>{let s;this._finishedSpans.length<=this._maxExportBatchSize?(s=this._finishedSpans,this._finishedSpans=[]):s=this._finishedSpans.splice(0,this._maxExportBatchSize);let a=()=>this._exporter.export(s,r=>{var c;clearTimeout(i),r.code===te.SUCCESS?e():t((c=r.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))}),n=null;for(let r=0,c=s.length;r<c;r++){let l=s[r];l.resource.asyncAttributesPending&&l.resource.waitForAsyncAttributes&&(n??(n=[]),n.push(l.resource.waitForAsyncAttributes()))}n===null?a():Promise.all(n).then(a,r=>{Pe(r),t(r)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{this._isExporting=!1,Pe(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),ao(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}});var Pa,$P=p(()=>{zP();Pa=class extends ku{onShutdown(){}}});function XP(o){return function(){for(let t=0;t<o/4;t++)Fu.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<o&&!(Fu[t]>0);t++)t===o-1&&(Fu[o-1]=1);return Fu.toString("hex",0,o)}}var Ca,Fu,JP=p(()=>{Ca=class{constructor(){this.generateTraceId=XP(16),this.generateSpanId=XP(8)}},Fu=Buffer.allocUnsafe(16)});var QP=p(()=>{$P();JP()});var Hu=p(()=>{QP()});var ga,ZP=p(()=>{U();$();Kd();Xd();Hu();ga=class{constructor(e,t,i){this._tracerProvider=i;let s=WP(t);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new Ca,this.resource=i.resource,this.instrumentationLibrary=e}startSpan(e,t={},i=Fe.active()){var s,a,n;t.root&&(i=Se.deleteSpan(i));let r=Se.getSpan(i);if(St(i))return R.debug("Instrumentation suppressed, returning Noop Span"),Se.wrapSpanContext(Wo);let c=r==null?void 0:r.spanContext(),l=this._idGenerator.generateSpanId(),u,E,T;!c||!Se.isSpanContextValid(c)?u=this._idGenerator.generateTraceId():(u=c.traceId,E=c.traceState,T=c.spanId);let f=(s=t.kind)!==null&&s!==void 0?s:kt.INTERNAL,N=((a=t.links)!==null&&a!==void 0?a:[]).map(K=>({context:K.context,attributes:oo(K.attributes)})),m=oo(t.attributes),P=this._sampler.shouldSample(i,u,e,f,m,N);E=(n=P.traceState)!==null&&n!==void 0?n:E;let M=P.decision===Ot.RECORD_AND_SAMPLED?de.SAMPLED:de.NONE,g={traceId:u,spanId:l,traceFlags:M,traceState:E};if(P.decision===Ot.NOT_RECORD)return R.debug("Recording is off, propagating context in a non-recording span"),Se.wrapSpanContext(g);let x=oo(Object.assign(m,P.attributes));return new Na(this,i,e,g,f,T,N,t.startTime,void 0,x)}startActiveSpan(e,t,i,s){let a,n,r;if(arguments.length<2)return;arguments.length===2?r=t:arguments.length===3?(a=t,r=i):(a=t,n=i,r=s);let c=n??Fe.active(),l=this.startSpan(e,a,c),u=Se.setSpan(c,l);return Fe.with(u,r,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}});var Yu,eC=p(()=>{$();Yu=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(i=>{Pe(i||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let i of this._spanProcessors)i.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,i)=>{Promise.all(e).then(()=>{t()},i)})}}});var ya,Jd=p(()=>{ya=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}});var Rn,La,tC=p(()=>{U();$();fn();Oo();$d();eC();Jd();Hu();Xd();(function(o){o[o.resolved=0]="resolved",o[o.timeout=1]="timeout",o[o.error=2]="error",o[o.unresolved=3]="unresolved"})(Rn||(Rn={}));La=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let i=zs({},Gu(),jP(e));this.resource=(t=i.resource)!==null&&t!==void 0?t:le.empty(),this.resource=le.default().merge(this.resource),this._config=Object.assign({},i,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let a=new Pa(s);this.activeSpanProcessor=a}else this.activeSpanProcessor=new ya}getTracer(e,t,i){let s=`${e}@${t||""}:${(i==null?void 0:i.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new ga({name:e,version:t,schemaUrl:i==null?void 0:i.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>R.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Yu(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){Se.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Fe.setGlobalContextManager(e.contextManager),e.propagator&&Rt.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(i=>new Promise(s=>{let a,n=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=Rn.timeout},e);i.forceFlush().then(()=>{clearTimeout(n),a!==Rn.timeout&&(a=Rn.resolved,s(a))}).catch(r=>{clearTimeout(n),a=Rn.error,s(r)})}));return new Promise((i,s)=>{Promise.all(t).then(a=>{let n=a.filter(r=>r!==Rn.resolved);n.length>0?s(n):i()}).catch(a=>s([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(X().OTEL_PROPAGATORS)),i=e.map(s=>{let a=this._getPropagator(s);return a||R.warn(`Propagator "${s}" requested through environment variable is unavailable.`),a}).reduce((s,a)=>(a&&s.push(a),s),[]);if(i.length!==0)return e.length===1?i[0]:new qs({propagators:i})}_buildExporterFromEnv(){let e=X().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||R.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};La._registeredPropagators=new Map([["tracecontext",()=>new Ws],["baggage",()=>new ks]]);La._registeredExporters=new Map});var Qd,rC=p(()=>{$();Qd=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{resource:{attributes:e.resource.attributes},traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(t=e.spanContext().traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:_t(e.startTime),duration:_t(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let i of e)console.dir(this._exportInfo(i),{depth:3});if(t)return t({code:te.SUCCESS})}}});var Zd,nC=p(()=>{$();Zd=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:te.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:te.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}});var oC=p(()=>{});var eT,iC=p(()=>{U();$();eT=class{constructor(e){this._exporter=e,this._shutdownOnce=new Qe(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){var t,i;if(this._shutdownOnce.isCalled||!(e.spanContext().traceFlags&de.SAMPLED))return;let s=()=>jr._export(this._exporter,[e]).then(a=>{var n;a.code!==te.SUCCESS&&Pe((n=a.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{Pe(a)});if(e.resource.asyncAttributesPending){let a=(i=(t=e.resource).waitForAsyncAttributes)===null||i===void 0?void 0:i.call(t).then(()=>(a!=null&&this._unresolvedExports.delete(a),s()),n=>Pe(n));a!=null&&this._unresolvedExports.add(a)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var sC=p(()=>{});var aC=p(()=>{});var cC=p(()=>{});var lC=p(()=>{});var uC=p(()=>{});var Ai={};Ie(Ai,{AlwaysOffSampler:()=>Xr,AlwaysOnSampler:()=>ar,BasicTracerProvider:()=>La,BatchSpanProcessor:()=>Pa,ConsoleSpanExporter:()=>Qd,ForceFlushState:()=>Rn,InMemorySpanExporter:()=>Zd,NoopSpanProcessor:()=>ya,ParentBasedSampler:()=>mo,RandomIdGenerator:()=>Ca,SamplingDecision:()=>Nr,SimpleSpanProcessor:()=>eT,Span:()=>Na,TraceIdRatioBasedSampler:()=>fi,Tracer:()=>ga});var Oo=p(()=>{ZP();tC();Hu();rC();nC();oC();iC();sC();Jd();wu();Bu();Wd();jd();Ma();Kd();aC();cC();lC();uC()});var va=h((kfe,EC)=>{var c3="2.0.0",l3=Number.MAX_SAFE_INTEGER||9007199254740991,u3=16,E3=250,S3=["major","premajor","minor","preminor","patch","prepatch","prerelease"];EC.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:u3,MAX_SAFE_BUILD_LENGTH:E3,MAX_SAFE_INTEGER:l3,RELEASE_TYPES:S3,SEMVER_SPEC_VERSION:c3,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ia=h((Ffe,SC)=>{var _3=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...o)=>console.error("SEMVER",...o):()=>{};SC.exports=_3});var mi=h((Jr,_C)=>{var{MAX_SAFE_COMPONENT_LENGTH:tT,MAX_SAFE_BUILD_LENGTH:p3,MAX_LENGTH:d3}=va(),T3=Ia();Jr=_C.exports={};var f3=Jr.re=[],h3=Jr.safeRe=[],V=Jr.src=[],w=Jr.t={},A3=0,rT="[a-zA-Z0-9-]",m3=[["\\s",1],["\\d",d3],[rT,p3]],O3=o=>{for(let[e,t]of m3)o=o.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return o},re=(o,e,t)=>{let i=O3(e),s=A3++;T3(o,s,e),w[o]=s,V[s]=e,f3[s]=new RegExp(e,t?"g":void 0),h3[s]=new RegExp(i,t?"g":void 0)};re("NUMERICIDENTIFIER","0|[1-9]\\d*");re("NUMERICIDENTIFIERLOOSE","\\d+");re("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${rT}*`);re("MAINVERSION",`(${V[w.NUMERICIDENTIFIER]})\\.(${V[w.NUMERICIDENTIFIER]})\\.(${V[w.NUMERICIDENTIFIER]})`);re("MAINVERSIONLOOSE",`(${V[w.NUMERICIDENTIFIERLOOSE]})\\.(${V[w.NUMERICIDENTIFIERLOOSE]})\\.(${V[w.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASEIDENTIFIER",`(?:${V[w.NUMERICIDENTIFIER]}|${V[w.NONNUMERICIDENTIFIER]})`);re("PRERELEASEIDENTIFIERLOOSE",`(?:${V[w.NUMERICIDENTIFIERLOOSE]}|${V[w.NONNUMERICIDENTIFIER]})`);re("PRERELEASE",`(?:-(${V[w.PRERELEASEIDENTIFIER]}(?:\\.${V[w.PRERELEASEIDENTIFIER]})*))`);re("PRERELEASELOOSE",`(?:-?(${V[w.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${V[w.PRERELEASEIDENTIFIERLOOSE]})*))`);re("BUILDIDENTIFIER",`${rT}+`);re("BUILD",`(?:\\+(${V[w.BUILDIDENTIFIER]}(?:\\.${V[w.BUILDIDENTIFIER]})*))`);re("FULLPLAIN",`v?${V[w.MAINVERSION]}${V[w.PRERELEASE]}?${V[w.BUILD]}?`);re("FULL",`^${V[w.FULLPLAIN]}$`);re("LOOSEPLAIN",`[v=\\s]*${V[w.MAINVERSIONLOOSE]}${V[w.PRERELEASELOOSE]}?${V[w.BUILD]}?`);re("LOOSE",`^${V[w.LOOSEPLAIN]}$`);re("GTLT","((?:<|>)?=?)");re("XRANGEIDENTIFIERLOOSE",`${V[w.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);re("XRANGEIDENTIFIER",`${V[w.NUMERICIDENTIFIER]}|x|X|\\*`);re("XRANGEPLAIN",`[v=\\s]*(${V[w.XRANGEIDENTIFIER]})(?:\\.(${V[w.XRANGEIDENTIFIER]})(?:\\.(${V[w.XRANGEIDENTIFIER]})(?:${V[w.PRERELEASE]})?${V[w.BUILD]}?)?)?`);re("XRANGEPLAINLOOSE",`[v=\\s]*(${V[w.XRANGEIDENTIFIERLOOSE]})(?:\\.(${V[w.XRANGEIDENTIFIERLOOSE]})(?:\\.(${V[w.XRANGEIDENTIFIERLOOSE]})(?:${V[w.PRERELEASELOOSE]})?${V[w.BUILD]}?)?)?`);re("XRANGE",`^${V[w.GTLT]}\\s*${V[w.XRANGEPLAIN]}$`);re("XRANGELOOSE",`^${V[w.GTLT]}\\s*${V[w.XRANGEPLAINLOOSE]}$`);re("COERCEPLAIN",`(^|[^\\d])(\\d{1,${tT}})(?:\\.(\\d{1,${tT}}))?(?:\\.(\\d{1,${tT}}))?`);re("COERCE",`${V[w.COERCEPLAIN]}(?:$|[^\\d])`);re("COERCEFULL",V[w.COERCEPLAIN]+`(?:${V[w.PRERELEASE]})?(?:${V[w.BUILD]})?(?:$|[^\\d])`);re("COERCERTL",V[w.COERCE],!0);re("COERCERTLFULL",V[w.COERCEFULL],!0);re("LONETILDE","(?:~>?)");re("TILDETRIM",`(\\s*)${V[w.LONETILDE]}\\s+`,!0);Jr.tildeTrimReplace="$1~";re("TILDE",`^${V[w.LONETILDE]}${V[w.XRANGEPLAIN]}$`);re("TILDELOOSE",`^${V[w.LONETILDE]}${V[w.XRANGEPLAINLOOSE]}$`);re("LONECARET","(?:\\^)");re("CARETTRIM",`(\\s*)${V[w.LONECARET]}\\s+`,!0);Jr.caretTrimReplace="$1^";re("CARET",`^${V[w.LONECARET]}${V[w.XRANGEPLAIN]}$`);re("CARETLOOSE",`^${V[w.LONECARET]}${V[w.XRANGEPLAINLOOSE]}$`);re("COMPARATORLOOSE",`^${V[w.GTLT]}\\s*(${V[w.LOOSEPLAIN]})$|^$`);re("COMPARATOR",`^${V[w.GTLT]}\\s*(${V[w.FULLPLAIN]})$|^$`);re("COMPARATORTRIM",`(\\s*)${V[w.GTLT]}\\s*(${V[w.LOOSEPLAIN]}|${V[w.XRANGEPLAIN]})`,!0);Jr.comparatorTrimReplace="$1$2$3";re("HYPHENRANGE",`^\\s*(${V[w.XRANGEPLAIN]})\\s+-\\s+(${V[w.XRANGEPLAIN]})\\s*$`);re("HYPHENRANGELOOSE",`^\\s*(${V[w.XRANGEPLAINLOOSE]})\\s+-\\s+(${V[w.XRANGEPLAINLOOSE]})\\s*$`);re("STAR","(<|>)?=?\\s*\\*");re("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");re("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var qu=h((Hfe,pC)=>{var R3=Object.freeze({loose:!0}),N3=Object.freeze({}),M3=o=>o?typeof o!="object"?R3:o:N3;pC.exports=M3});var nT=h((Yfe,fC)=>{var dC=/^[0-9]+$/,TC=(o,e)=>{let t=dC.test(o),i=dC.test(e);return t&&i&&(o=+o,e=+e),o===e?0:t&&!i?-1:i&&!t?1:o<e?-1:1},P3=(o,e)=>TC(e,o);fC.exports={compareIdentifiers:TC,rcompareIdentifiers:P3}});var at=h((qfe,OC)=>{var Ku=Ia(),{MAX_LENGTH:hC,MAX_SAFE_INTEGER:Wu}=va(),{safeRe:AC,t:mC}=mi(),C3=qu(),{compareIdentifiers:Oi}=nT(),oT=class o{constructor(e,t){if(t=C3(t),e instanceof o){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>hC)throw new TypeError(`version is longer than ${hC} characters`);Ku("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?AC[mC.LOOSE]:AC[mC.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Wu||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Wu||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Wu||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<Wu)return a}return s}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ku("SemVer.compare",this.version,this.options,e),!(e instanceof o)){if(typeof e=="string"&&e===this.version)return 0;e=new o(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof o||(e=new o(e,this.options)),Oi(this.major,e.major)||Oi(this.minor,e.minor)||Oi(this.patch,e.patch)}comparePre(e){if(e instanceof o||(e=new o(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],s=e.prerelease[t];if(Ku("prerelease compare",t,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return Oi(i,s)}while(++t)}compareBuild(e){e instanceof o||(e=new o(e,this.options));let t=0;do{let i=this.build[t],s=e.build[t];if(Ku("build compare",t,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return Oi(i,s)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(i)?1:0;if(!t&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let a=[t,s];i===!1&&(a=[t]),Oi(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};OC.exports=oT});var Ro=h((Kfe,NC)=>{var RC=at(),g3=(o,e,t=!1)=>{if(o instanceof RC)return o;try{return new RC(o,e)}catch(i){if(!t)return null;throw i}};NC.exports=g3});var PC=h((Wfe,MC)=>{var y3=Ro(),L3=(o,e)=>{let t=y3(o,e);return t?t.version:null};MC.exports=L3});var gC=h((jfe,CC)=>{var v3=Ro(),I3=(o,e)=>{let t=v3(o.trim().replace(/^[=v]+/,""),e);return t?t.version:null};CC.exports=I3});var vC=h((zfe,LC)=>{var yC=at(),D3=(o,e,t,i,s)=>{typeof t=="string"&&(s=i,i=t,t=void 0);try{return new yC(o instanceof yC?o.version:o,t).inc(e,i,s).version}catch{return null}};LC.exports=D3});var xC=h(($fe,DC)=>{var IC=Ro(),x3=(o,e)=>{let t=IC(o,null,!0),i=IC(e,null,!0),s=t.compare(i);if(s===0)return null;let a=s>0,n=a?t:i,r=a?i:t,c=!!n.prerelease.length;if(!!r.prerelease.length&&!c)return!r.patch&&!r.minor?"major":n.patch?"patch":n.minor?"minor":"major";let u=c?"pre":"";return t.major!==i.major?u+"major":t.minor!==i.minor?u+"minor":t.patch!==i.patch?u+"patch":"prerelease"};DC.exports=x3});var bC=h((Xfe,UC)=>{var U3=at(),b3=(o,e)=>new U3(o,e).major;UC.exports=b3});var wC=h((Jfe,VC)=>{var V3=at(),w3=(o,e)=>new V3(o,e).minor;VC.exports=w3});var GC=h((Qfe,BC)=>{var B3=at(),G3=(o,e)=>new B3(o,e).patch;BC.exports=G3});var FC=h((Zfe,kC)=>{var k3=Ro(),F3=(o,e)=>{let t=k3(o,e);return t&&t.prerelease.length?t.prerelease:null};kC.exports=F3});var Ht=h((ehe,YC)=>{var HC=at(),H3=(o,e,t)=>new HC(o,t).compare(new HC(e,t));YC.exports=H3});var KC=h((the,qC)=>{var Y3=Ht(),q3=(o,e,t)=>Y3(e,o,t);qC.exports=q3});var jC=h((rhe,WC)=>{var K3=Ht(),W3=(o,e)=>K3(o,e,!0);WC.exports=W3});var ju=h((nhe,$C)=>{var zC=at(),j3=(o,e,t)=>{let i=new zC(o,t),s=new zC(e,t);return i.compare(s)||i.compareBuild(s)};$C.exports=j3});var JC=h((ohe,XC)=>{var z3=ju(),$3=(o,e)=>o.sort((t,i)=>z3(t,i,e));XC.exports=$3});var ZC=h((ihe,QC)=>{var X3=ju(),J3=(o,e)=>o.sort((t,i)=>X3(i,t,e));QC.exports=J3});var Da=h((she,eg)=>{var Q3=Ht(),Z3=(o,e,t)=>Q3(o,e,t)>0;eg.exports=Z3});var zu=h((ahe,tg)=>{var eq=Ht(),tq=(o,e,t)=>eq(o,e,t)<0;tg.exports=tq});var iT=h((che,rg)=>{var rq=Ht(),nq=(o,e,t)=>rq(o,e,t)===0;rg.exports=nq});var sT=h((lhe,ng)=>{var oq=Ht(),iq=(o,e,t)=>oq(o,e,t)!==0;ng.exports=iq});var $u=h((uhe,og)=>{var sq=Ht(),aq=(o,e,t)=>sq(o,e,t)>=0;og.exports=aq});var Xu=h((Ehe,ig)=>{var cq=Ht(),lq=(o,e,t)=>cq(o,e,t)<=0;ig.exports=lq});var aT=h((She,sg)=>{var uq=iT(),Eq=sT(),Sq=Da(),_q=$u(),pq=zu(),dq=Xu(),Tq=(o,e,t,i)=>{switch(e){case"===":return typeof o=="object"&&(o=o.version),typeof t=="object"&&(t=t.version),o===t;case"!==":return typeof o=="object"&&(o=o.version),typeof t=="object"&&(t=t.version),o!==t;case"":case"=":case"==":return uq(o,t,i);case"!=":return Eq(o,t,i);case">":return Sq(o,t,i);case">=":return _q(o,t,i);case"<":return pq(o,t,i);case"<=":return dq(o,t,i);default:throw new TypeError(`Invalid operator: ${e}`)}};sg.exports=Tq});var cg=h((_he,ag)=>{var fq=at(),hq=Ro(),{safeRe:Ju,t:Qu}=mi(),Aq=(o,e)=>{if(o instanceof fq)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;e=e||{};let t=null;if(!e.rtl)t=o.match(e.includePrerelease?Ju[Qu.COERCEFULL]:Ju[Qu.COERCE]);else{let c=e.includePrerelease?Ju[Qu.COERCERTLFULL]:Ju[Qu.COERCERTL],l;for(;(l=c.exec(o))&&(!t||t.index+t[0].length!==o.length);)(!t||l.index+l[0].length!==t.index+t[0].length)&&(t=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(t===null)return null;let i=t[2],s=t[3]||"0",a=t[4]||"0",n=e.includePrerelease&&t[5]?`-${t[5]}`:"",r=e.includePrerelease&&t[6]?`+${t[6]}`:"";return hq(`${i}.${s}.${a}${n}${r}`,e)};ag.exports=Aq});var ug=h((phe,lg)=>{var cT=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,t)}return this}};lg.exports=cT});var Yt=h((dhe,pg)=>{var lT=class o{constructor(e,t){if(t=Oq(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof uT)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(s=>!Sg(s[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&yq(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&Cq)|(this.options.loose&&gq))+":"+e,s=Eg.get(i);if(s)return s;let a=this.options.loose,n=a?Nt[dt.HYPHENRANGELOOSE]:Nt[dt.HYPHENRANGE];e=e.replace(n,Bq(this.options.includePrerelease)),Ce("hyphen replace",e),e=e.replace(Nt[dt.COMPARATORTRIM],Nq),Ce("comparator trim",e),e=e.replace(Nt[dt.TILDETRIM],Mq),Ce("tilde trim",e),e=e.replace(Nt[dt.CARETTRIM],Pq),Ce("caret trim",e);let r=e.split(" ").map(E=>Lq(E,this.options)).join(" ").split(/\s+/).map(E=>wq(E,this.options));a&&(r=r.filter(E=>(Ce("loose invalid filter",E,this.options),!!E.match(Nt[dt.COMPARATORLOOSE])))),Ce("range list",r);let c=new Map,l=r.map(E=>new uT(E,this.options));for(let E of l){if(Sg(E))return[E];c.set(E.value,E)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return Eg.set(i,u),u}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some(i=>_g(i,t)&&e.set.some(s=>_g(s,t)&&i.every(a=>s.every(n=>a.intersects(n,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Rq(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Gq(this.set[t],e,this.options))return!0;return!1}};pg.exports=lT;var mq=ug(),Eg=new mq,Oq=qu(),uT=xa(),Ce=Ia(),Rq=at(),{safeRe:Nt,t:dt,comparatorTrimReplace:Nq,tildeTrimReplace:Mq,caretTrimReplace:Pq}=mi(),{FLAG_INCLUDE_PRERELEASE:Cq,FLAG_LOOSE:gq}=va(),Sg=o=>o.value==="<0.0.0-0",yq=o=>o.value==="",_g=(o,e)=>{let t=!0,i=o.slice(),s=i.pop();for(;t&&i.length;)t=i.every(a=>s.intersects(a,e)),s=i.pop();return t},Lq=(o,e)=>(Ce("comp",o,e),o=Dq(o,e),Ce("caret",o),o=vq(o,e),Ce("tildes",o),o=Uq(o,e),Ce("xrange",o),o=Vq(o,e),Ce("stars",o),o),Tt=o=>!o||o.toLowerCase()==="x"||o==="*",vq=(o,e)=>o.trim().split(/\s+/).map(t=>Iq(t,e)).join(" "),Iq=(o,e)=>{let t=e.loose?Nt[dt.TILDELOOSE]:Nt[dt.TILDE];return o.replace(t,(i,s,a,n,r)=>{Ce("tilde",o,i,s,a,n,r);let c;return Tt(s)?c="":Tt(a)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:Tt(n)?c=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:r?(Ce("replaceTilde pr",r),c=`>=${s}.${a}.${n}-${r} <${s}.${+a+1}.0-0`):c=`>=${s}.${a}.${n} <${s}.${+a+1}.0-0`,Ce("tilde return",c),c})},Dq=(o,e)=>o.trim().split(/\s+/).map(t=>xq(t,e)).join(" "),xq=(o,e)=>{Ce("caret",o,e);let t=e.loose?Nt[dt.CARETLOOSE]:Nt[dt.CARET],i=e.includePrerelease?"-0":"";return o.replace(t,(s,a,n,r,c)=>{Ce("caret",o,s,a,n,r,c);let l;return Tt(a)?l="":Tt(n)?l=`>=${a}.0.0${i} <${+a+1}.0.0-0`:Tt(r)?a==="0"?l=`>=${a}.${n}.0${i} <${a}.${+n+1}.0-0`:l=`>=${a}.${n}.0${i} <${+a+1}.0.0-0`:c?(Ce("replaceCaret pr",c),a==="0"?n==="0"?l=`>=${a}.${n}.${r}-${c} <${a}.${n}.${+r+1}-0`:l=`>=${a}.${n}.${r}-${c} <${a}.${+n+1}.0-0`:l=`>=${a}.${n}.${r}-${c} <${+a+1}.0.0-0`):(Ce("no pr"),a==="0"?n==="0"?l=`>=${a}.${n}.${r}${i} <${a}.${n}.${+r+1}-0`:l=`>=${a}.${n}.${r}${i} <${a}.${+n+1}.0-0`:l=`>=${a}.${n}.${r} <${+a+1}.0.0-0`),Ce("caret return",l),l})},Uq=(o,e)=>(Ce("replaceXRanges",o,e),o.split(/\s+/).map(t=>bq(t,e)).join(" ")),bq=(o,e)=>{o=o.trim();let t=e.loose?Nt[dt.XRANGELOOSE]:Nt[dt.XRANGE];return o.replace(t,(i,s,a,n,r,c)=>{Ce("xRange",o,i,s,a,n,r,c);let l=Tt(a),u=l||Tt(n),E=u||Tt(r),T=E;return s==="="&&T&&(s=""),c=e.includePrerelease?"-0":"",l?s===">"||s==="<"?i="<0.0.0-0":i="*":s&&T?(u&&(n=0),r=0,s===">"?(s=">=",u?(a=+a+1,n=0,r=0):(n=+n+1,r=0)):s==="<="&&(s="<",u?a=+a+1:n=+n+1),s==="<"&&(c="-0"),i=`${s+a}.${n}.${r}${c}`):u?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:E&&(i=`>=${a}.${n}.0${c} <${a}.${+n+1}.0-0`),Ce("xRange return",i),i})},Vq=(o,e)=>(Ce("replaceStars",o,e),o.trim().replace(Nt[dt.STAR],"")),wq=(o,e)=>(Ce("replaceGTE0",o,e),o.trim().replace(Nt[e.includePrerelease?dt.GTE0PRE:dt.GTE0],"")),Bq=o=>(e,t,i,s,a,n,r,c,l,u,E,T)=>(Tt(i)?t="":Tt(s)?t=`>=${i}.0.0${o?"-0":""}`:Tt(a)?t=`>=${i}.${s}.0${o?"-0":""}`:n?t=`>=${t}`:t=`>=${t}${o?"-0":""}`,Tt(l)?c="":Tt(u)?c=`<${+l+1}.0.0-0`:Tt(E)?c=`<${l}.${+u+1}.0-0`:T?c=`<=${l}.${u}.${E}-${T}`:o?c=`<${l}.${u}.${+E+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),Gq=(o,e,t)=>{for(let i=0;i<o.length;i++)if(!o[i].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let i=0;i<o.length;i++)if(Ce(o[i].semver),o[i].semver!==uT.ANY&&o[i].semver.prerelease.length>0){let s=o[i].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var xa=h((The,mg)=>{var Ua=Symbol("SemVer ANY"),_T=class o{static get ANY(){return Ua}constructor(e,t){if(t=dg(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),ST("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Ua?this.value="":this.value=this.operator+this.semver.version,ST("comp",this)}parse(e){let t=this.options.loose?Tg[fg.COMPARATORLOOSE]:Tg[fg.COMPARATOR],i=e.match(t);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new hg(i[2],this.options.loose):this.semver=Ua}toString(){return this.value}test(e){if(ST("Comparator.test",e,this.options.loose),this.semver===Ua||e===Ua)return!0;if(typeof e=="string")try{e=new hg(e,this.options)}catch{return!1}return ET(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ag(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Ag(this.value,t).test(e.semver):(t=dg(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||ET(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||ET(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};mg.exports=_T;var dg=qu(),{safeRe:Tg,t:fg}=mi(),ET=aT(),ST=Ia(),hg=at(),Ag=Yt()});var ba=h((fhe,Og)=>{var kq=Yt(),Fq=(o,e,t)=>{try{e=new kq(e,t)}catch{return!1}return e.test(o)};Og.exports=Fq});var Ng=h((hhe,Rg)=>{var Hq=Yt(),Yq=(o,e)=>new Hq(o,e).set.map(t=>t.map(i=>i.value).join(" ").trim().split(" "));Rg.exports=Yq});var Pg=h((Ahe,Mg)=>{var qq=at(),Kq=Yt(),Wq=(o,e,t)=>{let i=null,s=null,a=null;try{a=new Kq(e,t)}catch{return null}return o.forEach(n=>{a.test(n)&&(!i||s.compare(n)===-1)&&(i=n,s=new qq(i,t))}),i};Mg.exports=Wq});var gg=h((mhe,Cg)=>{var jq=at(),zq=Yt(),$q=(o,e,t)=>{let i=null,s=null,a=null;try{a=new zq(e,t)}catch{return null}return o.forEach(n=>{a.test(n)&&(!i||s.compare(n)===1)&&(i=n,s=new jq(i,t))}),i};Cg.exports=$q});var vg=h((Ohe,Lg)=>{var pT=at(),Xq=Yt(),yg=Da(),Jq=(o,e)=>{o=new Xq(o,e);let t=new pT("0.0.0");if(o.test(t)||(t=new pT("0.0.0-0"),o.test(t)))return t;t=null;for(let i=0;i<o.set.length;++i){let s=o.set[i],a=null;s.forEach(n=>{let r=new pT(n.semver.version);switch(n.operator){case">":r.prerelease.length===0?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":(!a||yg(r,a))&&(a=r);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),a&&(!t||yg(t,a))&&(t=a)}return t&&o.test(t)?t:null};Lg.exports=Jq});var Dg=h((Rhe,Ig)=>{var Qq=Yt(),Zq=(o,e)=>{try{return new Qq(o,e).range||"*"}catch{return null}};Ig.exports=Zq});var Zu=h((Nhe,Vg)=>{var eK=at(),bg=xa(),{ANY:tK}=bg,rK=Yt(),nK=ba(),xg=Da(),Ug=zu(),oK=Xu(),iK=$u(),sK=(o,e,t,i)=>{o=new eK(o,i),e=new rK(e,i);let s,a,n,r,c;switch(t){case">":s=xg,a=oK,n=Ug,r=">",c=">=";break;case"<":s=Ug,a=iK,n=xg,r="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(nK(o,e,i))return!1;for(let l=0;l<e.set.length;++l){let u=e.set[l],E=null,T=null;if(u.forEach(f=>{f.semver===tK&&(f=new bg(">=0.0.0")),E=E||f,T=T||f,s(f.semver,E.semver,i)?E=f:n(f.semver,T.semver,i)&&(T=f)}),E.operator===r||E.operator===c||(!T.operator||T.operator===r)&&a(o,T.semver))return!1;if(T.operator===c&&n(o,T.semver))return!1}return!0};Vg.exports=sK});var Bg=h((Mhe,wg)=>{var aK=Zu(),cK=(o,e,t)=>aK(o,e,">",t);wg.exports=cK});var kg=h((Phe,Gg)=>{var lK=Zu(),uK=(o,e,t)=>lK(o,e,"<",t);Gg.exports=uK});var Yg=h((Che,Hg)=>{var Fg=Yt(),EK=(o,e,t)=>(o=new Fg(o,t),e=new Fg(e,t),o.intersects(e,t));Hg.exports=EK});var Kg=h((ghe,qg)=>{var SK=ba(),_K=Ht();qg.exports=(o,e,t)=>{let i=[],s=null,a=null,n=o.sort((u,E)=>_K(u,E,t));for(let u of n)SK(u,e,t)?(a=u,s||(s=u)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);let r=[];for(let[u,E]of i)u===E?r.push(u):!E&&u===n[0]?r.push("*"):E?u===n[0]?r.push(`<=${E}`):r.push(`${u} - ${E}`):r.push(`>=${u}`);let c=r.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e}});var Jg=h((yhe,Xg)=>{var Wg=Yt(),TT=xa(),{ANY:dT}=TT,Va=ba(),fT=Ht(),pK=(o,e,t={})=>{if(o===e)return!0;o=new Wg(o,t),e=new Wg(e,t);let i=!1;e:for(let s of o.set){for(let a of e.set){let n=TK(s,a,t);if(i=i||n!==null,n)continue e}if(i)return!1}return!0},dK=[new TT(">=0.0.0-0")],jg=[new TT(">=0.0.0")],TK=(o,e,t)=>{if(o===e)return!0;if(o.length===1&&o[0].semver===dT){if(e.length===1&&e[0].semver===dT)return!0;t.includePrerelease?o=dK:o=jg}if(e.length===1&&e[0].semver===dT){if(t.includePrerelease)return!0;e=jg}let i=new Set,s,a;for(let f of o)f.operator===">"||f.operator===">="?s=zg(s,f,t):f.operator==="<"||f.operator==="<="?a=$g(a,f,t):i.add(f.semver);if(i.size>1)return null;let n;if(s&&a){if(n=fT(s.semver,a.semver,t),n>0)return null;if(n===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let f of i){if(s&&!Va(f,String(s),t)||a&&!Va(f,String(a),t))return null;for(let N of e)if(!Va(f,String(N),t))return!1;return!0}let r,c,l,u,E=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,T=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;E&&E.prerelease.length===1&&a.operator==="<"&&E.prerelease[0]===0&&(E=!1);for(let f of e){if(u=u||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(T&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===T.major&&f.semver.minor===T.minor&&f.semver.patch===T.patch&&(T=!1),f.operator===">"||f.operator===">="){if(r=zg(s,f,t),r===f&&r!==s)return!1}else if(s.operator===">="&&!Va(s.semver,String(f),t))return!1}if(a){if(E&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===E.major&&f.semver.minor===E.minor&&f.semver.patch===E.patch&&(E=!1),f.operator==="<"||f.operator==="<="){if(c=$g(a,f,t),c===f&&c!==a)return!1}else if(a.operator==="<="&&!Va(a.semver,String(f),t))return!1}if(!f.operator&&(a||s)&&n!==0)return!1}return!(s&&l&&!a&&n!==0||a&&u&&!s&&n!==0||T||E)},zg=(o,e,t)=>{if(!o)return e;let i=fT(o.semver,e.semver,t);return i>0?o:i<0||e.operator===">"&&o.operator===">="?e:o},$g=(o,e,t)=>{if(!o)return e;let i=fT(o.semver,e.semver,t);return i<0?o:i>0||e.operator==="<"&&o.operator==="<="?e:o};Xg.exports=pK});var AT=h((Lhe,ey)=>{var hT=mi(),Qg=va(),fK=at(),Zg=nT(),hK=Ro(),AK=PC(),mK=gC(),OK=vC(),RK=xC(),NK=bC(),MK=wC(),PK=GC(),CK=FC(),gK=Ht(),yK=KC(),LK=jC(),vK=ju(),IK=JC(),DK=ZC(),xK=Da(),UK=zu(),bK=iT(),VK=sT(),wK=$u(),BK=Xu(),GK=aT(),kK=cg(),FK=xa(),HK=Yt(),YK=ba(),qK=Ng(),KK=Pg(),WK=gg(),jK=vg(),zK=Dg(),$K=Zu(),XK=Bg(),JK=kg(),QK=Yg(),ZK=Kg(),eW=Jg();ey.exports={parse:hK,valid:AK,clean:mK,inc:OK,diff:RK,major:NK,minor:MK,patch:PK,prerelease:CK,compare:gK,rcompare:yK,compareLoose:LK,compareBuild:vK,sort:IK,rsort:DK,gt:xK,lt:UK,eq:bK,neq:VK,gte:wK,lte:BK,cmp:GK,coerce:kK,Comparator:FK,Range:HK,satisfies:YK,toComparators:qK,maxSatisfying:KK,minSatisfying:WK,minVersion:jK,validRange:zK,outside:$K,gtr:XK,ltr:JK,intersects:QK,simplifyRange:ZK,subset:eW,SemVer:fK,re:hT.re,src:hT.src,tokens:hT.t,SEMVER_SPEC_VERSION:Qg.SEMVER_SPEC_VERSION,RELEASE_TYPES:Qg.RELEASE_TYPES,compareIdentifiers:Zg.compareIdentifiers,rcompareIdentifiers:Zg.rcompareIdentifiers}});function nW(o){var e=decodeURIComponent(o).split(":");if(e.length!==4)return null;var t=ry(e,4),i=t[0],s=t[1],a=t[3],n=i.padStart(32,"0"),r=s.padStart(16,"0"),c=rW.test(a)?parseInt(a,16)&1:1;return{traceId:n,spanId:r,isRemote:!0,traceFlags:c}}var ty,ry,ny,mT,tW,rW,oy=p(()=>{U();$();ty=function(o){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&o[e],i=0;if(t)return t.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ry=function(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return a},ny="uber-trace-id",mT="uberctx",tW=function(){function o(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=mT):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||ny,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||mT)}return o.prototype.inject=function(e,t,i){var s,a,n=Se.getSpanContext(e),r=Rt.getBaggage(e);if(n&&St(e)===!1){var c="0"+(n.traceFlags||de.NONE).toString(16);i.set(t,this._jaegerTraceHeader,n.traceId+":"+n.spanId+":0:"+c)}if(r)try{for(var l=ty(r.getAllEntries()),u=l.next();!u.done;u=l.next()){var E=ry(u.value,2),T=E[0],f=E[1];i.set(t,this._jaegerBaggageHeaderPrefix+"-"+T,encodeURIComponent(f.value))}}catch(N){s={error:N}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}},o.prototype.extract=function(e,t,i){var s,a,n=this,r,c=i.get(t,this._jaegerTraceHeader),l=Array.isArray(c)?c[0]:c,u=i.keys(t).filter(function(M){return M.startsWith(n._jaegerBaggageHeaderPrefix+"-")}).map(function(M){var g=i.get(t,M);return{key:M.substring(n._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(g)?g[0]:g}}),E=e;if(typeof l=="string"){var T=nW(l);T&&(E=Se.setSpanContext(E,T))}if(u.length===0)return E;var f=(r=Rt.getBaggage(e))!==null&&r!==void 0?r:Rt.createBaggage();try{for(var N=ty(u),m=N.next();!m.done;m=N.next()){var P=m.value;P.value!==void 0&&(f=f.setEntry(P.key,{value:decodeURIComponent(P.value)}))}}catch(M){s={error:M}}finally{try{m&&!m.done&&(a=N.return)&&a.call(N)}finally{if(s)throw s.error}}return E=Rt.setBaggage(E,f),E},o.prototype.fields=function(){return[this._jaegerTraceHeader]},o}(),rW=/^[0-9a-f]{1,2}$/i});var iy={};Ie(iy,{JaegerPropagator:()=>tW,UBER_BAGGAGE_HEADER_PREFIX:()=>mT,UBER_TRACE_ID_HEADER:()=>ny});var sy=p(()=>{oy()});var ly=h(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.NodeTracerProvider=void 0;var ay=vP(),eE=(VP(),ee(bP)),cy=(Oo(),ee(Ai)),oW=AT(),iW=(sy(),ee(iy)),tE=class extends cy.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=oW.gte(process.version,"14.8.0")?ay.AsyncLocalStorageContextManager:ay.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};rE.NodeTracerProvider=tE;tE._registeredPropagators=new Map([...cy.BasicTracerProvider._registeredPropagators,["b3",()=>new eE.B3Propagator({injectEncoding:eE.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new eE.B3Propagator({injectEncoding:eE.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new iW.JaegerPropagator]])});var nE=h(Nn=>{"use strict";var sW=Nn&&Nn.__createBinding||(Object.create?function(o,e,t,i){i===void 0&&(i=t),Object.defineProperty(o,i,{enumerable:!0,get:function(){return e[t]}})}:function(o,e,t,i){i===void 0&&(i=t),o[i]=e[t]}),uy=Nn&&Nn.__exportStar||function(o,e){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sW(e,o,t)};Object.defineProperty(Nn,"__esModule",{value:!0});uy(ly(),Nn);uy((Oo(),ee(Ai)),Nn)});function Ey(o,e,t,i){for(let s=0,a=o.length;s<a;s++){let n=o[s];e&&n.setTracerProvider(e),t&&n.setMeterProvider(t),i&&n.setLoggerProvider&&n.setLoggerProvider(i),n.getConfig().enabled||n.enable()}}function Sy(o){o.forEach(e=>e.disable())}var _y=p(()=>{});function py(o){var e,t;let i=o.tracerProvider||Se.getTracerProvider(),s=o.meterProvider||no.getMeterProvider(),a=o.loggerProvider||na.getLoggerProvider(),n=(t=(e=o.instrumentations)===null||e===void 0?void 0:e.flat())!==null&&t!==void 0?t:[];return Ey(n,i,s,a),()=>{Sy(n)}}var dy=p(()=>{U();oa();_y()});var RT=h((Fhe,hy)=>{"use strict";function OT(o){return typeof o=="function"}var ft=console.error.bind(console);function wa(o,e,t){var i=!!o[e]&&o.propertyIsEnumerable(e);Object.defineProperty(o,e,{configurable:!0,enumerable:i,writable:!0,value:t})}function Ba(o){o&&o.logger&&(OT(o.logger)?ft=o.logger:ft("new logger isn't a function, not replacing"))}function Ty(o,e,t){if(!o||!o[e]){ft("no original function "+e+" to wrap");return}if(!t){ft("no wrapper function"),ft(new Error().stack);return}if(!OT(o[e])||!OT(t)){ft("original object and wrapper must be functions");return}var i=o[e],s=t(i,e);return wa(s,"__original",i),wa(s,"__unwrap",function(){o[e]===s&&wa(o,e,i)}),wa(s,"__wrapped",!0),wa(o,e,s),s}function aW(o,e,t){if(o)Array.isArray(o)||(o=[o]);else{ft("must provide one or more modules to patch"),ft(new Error().stack);return}if(!(e&&Array.isArray(e))){ft("must provide one or more functions to wrap on modules");return}o.forEach(function(i){e.forEach(function(s){Ty(i,s,t)})})}function fy(o,e){if(!o||!o[e]){ft("no function to unwrap."),ft(new Error().stack);return}if(!o[e].__unwrap)ft("no original to unwrap to -- has "+e+" already been unwrapped?");else return o[e].__unwrap()}function cW(o,e){if(o)Array.isArray(o)||(o=[o]);else{ft("must provide one or more modules to patch"),ft(new Error().stack);return}if(!(e&&Array.isArray(e))){ft("must provide one or more functions to unwrap on modules");return}o.forEach(function(t){e.forEach(function(i){fy(t,i)})})}Ba.wrap=Ty;Ba.massWrap=aW;Ba.unwrap=fy;Ba.massUnwrap=cW;hy.exports=Ba});var Mn,oE,Ay=p(()=>{U();oa();Mn=En(RT()),oE=class{constructor(e,t,i){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Mn.wrap,this._unwrap=Mn.unwrap,this._massWrap=Mn.massWrap,this._massUnwrap=Mn.massUnwrap,this._config=Object.assign({enabled:!0},i),this._diag=R.createComponentLogger({namespace:e}),this._tracer=Se.getTracer(e,t),this._meter=no.getMeter(e,t),this._logger=na.getLogger(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var e;let t=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(t)?t:[t]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,i,s){if(e)try{e(i,s)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},a)}}}});var NT=h((Khe,my)=>{"use strict";var lW=B("os");my.exports=lW.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var MT=h((Whe,Oy)=>{Oy.exports=function(){var o=Error.prepareStackTrace;Error.prepareStackTrace=function(t,i){return i};var e=new Error().stack;return Error.prepareStackTrace=o,e[2].getFileName()}});var Ry=h((jhe,Ga)=>{"use strict";var uW=process.platform==="win32",EW=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,PT={};function SW(o){return EW.exec(o).slice(1)}PT.parse=function(o){if(typeof o!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var e=SW(o);if(!e||e.length!==5)throw new TypeError("Invalid path '"+o+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var _W=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,CT={};function pW(o){return _W.exec(o).slice(1)}CT.parse=function(o){if(typeof o!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var e=pW(o);if(!e||e.length!==5)throw new TypeError("Invalid path '"+o+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};uW?Ga.exports=PT.parse:Ga.exports=CT.parse;Ga.exports.posix=CT.parse;Ga.exports.win32=PT.parse});var gT=h((zhe,Cy)=>{var Py=B("path"),Ny=Py.parse||Ry(),My=function(e,t){var i="/";/^([A-Za-z]:)/.test(e)?i="":/^\\\\/.test(e)&&(i="\\\\");for(var s=[e],a=Ny(e);a.dir!==s[s.length-1];)s.push(a.dir),a=Ny(a.dir);return s.reduce(function(n,r){return n.concat(t.map(function(c){return Py.resolve(i,r,c)}))},[])};Cy.exports=function(e,t,i){var s=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(i,e,function(){return My(e,s)},t);var a=My(e,s);return t&&t.paths?a.concat(t.paths):a}});var yT=h(($he,gy)=>{gy.exports=function(o,e){return e||{}}});var Ly=h((Xhe,yy)=>{"use strict";var dW="Function.prototype.bind called on incompatible ",LT=Array.prototype.slice,TW=Object.prototype.toString,fW="[object Function]";yy.exports=function(e){var t=this;if(typeof t!="function"||TW.call(t)!==fW)throw new TypeError(dW+t);for(var i=LT.call(arguments,1),s,a=function(){if(this instanceof s){var u=t.apply(this,i.concat(LT.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,i.concat(LT.call(arguments)))},n=Math.max(0,t.length-i.length),r=[],c=0;c<n;c++)r.push("$"+c);if(s=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var l=function(){};l.prototype=t.prototype,s.prototype=new l,l.prototype=null}return s}});var Iy=h((Jhe,vy)=>{"use strict";var hW=Ly();vy.exports=Function.prototype.bind||hW});var xy=h((Qhe,Dy)=>{"use strict";var AW=Iy();Dy.exports=AW.call(Function.call,Object.prototype.hasOwnProperty)});var Uy=h((Zhe,mW)=>{mW.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":[">= 19.9",">= 20"],"node:test/reporters":[">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 20"],"node:wasi":">= 20",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var ka=h((eAe,wy)=>{"use strict";var OW=xy();function RW(o,e){for(var t=o.split("."),i=e.split(" "),s=i.length>1?i[0]:"=",a=(i.length>1?i[1]:i[0]).split("."),n=0;n<3;++n){var r=parseInt(t[n]||0,10),c=parseInt(a[n]||0,10);if(r!==c)return s==="<"?r<c:s===">="?r>=c:!1}return s===">="}function by(o,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var i=0;i<t.length;++i)if(!RW(o,t[i]))return!1;return!0}function NW(o,e){if(typeof e=="boolean")return e;var t=typeof o>"u"?process.versions&&process.versions.node:o;if(typeof t!="string")throw new TypeError(typeof o>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var i=0;i<e.length;++i)if(by(t,e[i]))return!0;return!1}return by(t,e)}var Vy=Uy();wy.exports=function(e,t){return OW(Vy,e)&&NW(t,Vy[e])}});var ky=h((tAe,Gy)=>{var No=B("fs"),MW=NT(),Ge=B("path"),PW=MT(),CW=gT(),gW=yT(),yW=ka(),LW=process.platform!=="win32"&&No.realpath&&typeof No.realpath.native=="function"?No.realpath.native:No.realpath,By=MW(),vW=function(){return[Ge.join(By,".node_modules"),Ge.join(By,".node_libraries")]},IW=function(e,t){No.stat(e,function(i,s){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?t(null,!1):t(i):t(null,s.isFile()||s.isFIFO())})},DW=function(e,t){No.stat(e,function(i,s){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?t(null,!1):t(i):t(null,s.isDirectory())})},xW=function(e,t){LW(e,function(i,s){i&&i.code!=="ENOENT"?t(i):t(null,i?e:s)})},Fa=function(e,t,i,s){i&&i.preserveSymlinks===!1?e(t,s):s(null,t)},UW=function(e,t,i){e(t,function(s,a){if(s)i(s);else try{var n=JSON.parse(a);i(null,n)}catch{i(null)}})},bW=function(e,t,i){for(var s=CW(t,i,e),a=0;a<s.length;a++)s[a]=Ge.join(s[a],e);return s};Gy.exports=function(e,t,i){var s=i,a=t;if(typeof t=="function"&&(s=a,a={}),typeof e!="string"){var n=new TypeError("Path must be a string.");return process.nextTick(function(){s(n)})}a=gW(e,a);var r=a.isFile||IW,c=a.isDirectory||DW,l=a.readFile||No.readFile,u=a.realpath||xW,E=a.readPackage||UW;if(a.readFile&&a.readPackage){var T=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(T)})}var f=a.packageIterator,N=a.extensions||[".js"],m=a.includeCoreModules!==!1,P=a.basedir||Ge.dirname(PW()),M=a.filename||P;a.paths=a.paths||vW();var g=Ge.resolve(P);Fa(u,g,a,function(O,G){O?s(O):I(G)});var x;function I(O){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))x=Ge.resolve(O,e),(e==="."||e===".."||e.slice(-1)==="/")&&(x+="/"),/\/$/.test(e)&&x===O?ie(x,a.package,K):q(x,a.package,K);else{if(m&&yW(e))return s(null,e);ce(e,O,function(G,C,d){if(G)s(G);else{if(C)return Fa(u,C,a,function(J,Q){J?s(J):s(null,Q,d)});var v=new Error("Cannot find module '"+e+"' from '"+M+"'");v.code="MODULE_NOT_FOUND",s(v)}})}}function K(O,G,C){O?s(O):G?s(null,G,C):ie(x,function(d,v,J){if(d)s(d);else if(v)Fa(u,v,a,function(z,ue){z?s(z):s(null,ue,J)});else{var Q=new Error("Cannot find module '"+e+"' from '"+M+"'");Q.code="MODULE_NOT_FOUND",s(Q)}})}function q(O,G,C){var d=G,v=C;typeof d=="function"&&(v=d,d=void 0);var J=[""].concat(N);Q(J,O,d);function Q(z,ue,Ee){if(z.length===0)return v(null,void 0,Ee);var Le=ue+z[0],Ae=Ee;Ae?se(null,Ae):F(Ge.dirname(Le),se);function se(Oe,Ue,ot){if(Ae=Ue,Oe)return v(Oe);if(ot&&Ae&&a.pathFilter){var be=Ge.relative(ot,Le),L=be.slice(0,be.length-z[0].length),y=a.pathFilter(Ae,ue,L);if(y)return Q([""].concat(N.slice()),Ge.resolve(ot,y),Ae)}r(Le,xe)}function xe(Oe,Ue){if(Oe)return v(Oe);if(Ue)return v(null,Le,Ae);Q(z.slice(1),ue,Ae)}}}function F(O,G){if(O===""||O==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(O)||/[/\\]node_modules[/\\]*$/.test(O))return G(null);Fa(u,O,a,function(C,d){if(C)return F(Ge.dirname(O),G);var v=Ge.join(d,"package.json");r(v,function(J,Q){if(!Q)return F(Ge.dirname(O),G);E(l,v,function(z,ue){z&&G(z);var Ee=ue;Ee&&a.packageFilter&&(Ee=a.packageFilter(Ee,v)),G(null,Ee,O)})})})}function ie(O,G,C){var d=C,v=G;typeof v=="function"&&(d=v,v=a.package),Fa(u,O,a,function(J,Q){if(J)return d(J);var z=Ge.join(Q,"package.json");r(z,function(ue,Ee){if(ue)return d(ue);if(!Ee)return q(Ge.join(O,"index"),v,d);E(l,z,function(Le,Ae){if(Le)return d(Le);var se=Ae;if(se&&a.packageFilter&&(se=a.packageFilter(se,z)),se&&se.main){if(typeof se.main!="string"){var xe=new TypeError("package \u201C"+se.name+"\u201D `main` must be a string");return xe.code="INVALID_PACKAGE_MAIN",d(xe)}(se.main==="."||se.main==="./")&&(se.main="index"),q(Ge.resolve(O,se.main),se,function(Oe,Ue,ot){if(Oe)return d(Oe);if(Ue)return d(null,Ue,ot);if(!ot)return q(Ge.join(O,"index"),ot,d);var be=Ge.resolve(O,ot.main);ie(be,ot,function(L,y,D){if(L)return d(L);if(y)return d(null,y,D);q(Ge.join(O,"index"),D,d)})});return}q(Ge.join(O,"/index"),se,d)})})})}function Z(O,G){if(G.length===0)return O(null,void 0);var C=G[0];c(Ge.dirname(C),d);function d(Q,z){if(Q)return O(Q);if(!z)return Z(O,G.slice(1));q(C,a.package,v)}function v(Q,z,ue){if(Q)return O(Q);if(z)return O(null,z,ue);ie(C,a.package,J)}function J(Q,z,ue){if(Q)return O(Q);if(z)return O(null,z,ue);Z(O,G.slice(1))}}function ce(O,G,C){var d=function(){return bW(O,G,a)};Z(C,f?f(O,G,d,a):d())}}});var Fy=h((rAe,VW)=>{VW.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Ky=h((nAe,qy)=>{"use strict";var wW=ka(),Hy=Fy(),Yy={};for(iE in Hy)Object.prototype.hasOwnProperty.call(Hy,iE)&&(Yy[iE]=wW(iE));var iE;qy.exports=Yy});var jy=h((oAe,Wy)=>{var BW=ka();Wy.exports=function(e){return BW(e)}});var Xy=h((iAe,$y)=>{var GW=ka(),Mo=B("fs"),ct=B("path"),kW=NT(),FW=MT(),HW=gT(),YW=yT(),qW=process.platform!=="win32"&&Mo.realpathSync&&typeof Mo.realpathSync.native=="function"?Mo.realpathSync.native:Mo.realpathSync,zy=kW(),KW=function(){return[ct.join(zy,".node_modules"),ct.join(zy,".node_libraries")]},WW=function(e){try{var t=Mo.statSync(e,{throwIfNoEntry:!1})}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return!1;throw i}return!!t&&(t.isFile()||t.isFIFO())},jW=function(e){try{var t=Mo.statSync(e,{throwIfNoEntry:!1})}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return!1;throw i}return!!t&&t.isDirectory()},zW=function(e){try{return qW(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},Ha=function(e,t,i){return i&&i.preserveSymlinks===!1?e(t):t},$W=function(e,t){var i=e(t);try{var s=JSON.parse(i);return s}catch{}},XW=function(e,t,i){for(var s=HW(t,i,e),a=0;a<s.length;a++)s[a]=ct.join(s[a],e);return s};$y.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var i=YW(e,t),s=i.isFile||WW,a=i.readFileSync||Mo.readFileSync,n=i.isDirectory||jW,r=i.realpathSync||zW,c=i.readPackageSync||$W;if(i.readFileSync&&i.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var l=i.packageIterator,u=i.extensions||[".js"],E=i.includeCoreModules!==!1,T=i.basedir||ct.dirname(FW()),f=i.filename||T;i.paths=i.paths||KW();var N=Ha(r,ct.resolve(T),i);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var m=ct.resolve(N,e);(e==="."||e===".."||e.slice(-1)==="/")&&(m+="/");var P=x(m)||K(m);if(P)return Ha(r,P,i)}else{if(E&&GW(e))return e;var M=q(e,N);if(M)return Ha(r,M,i)}var g=new Error("Cannot find module '"+e+"' from '"+f+"'");throw g.code="MODULE_NOT_FOUND",g;function x(F){var ie=I(ct.dirname(F));if(ie&&ie.dir&&ie.pkg&&i.pathFilter){var Z=ct.relative(ie.dir,F),ce=i.pathFilter(ie.pkg,F,Z);ce&&(F=ct.resolve(ie.dir,ce))}if(s(F))return F;for(var O=0;O<u.length;O++){var G=F+u[O];if(s(G))return G}}function I(F){if(!(F===""||F==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(F))&&!/[/\\]node_modules[/\\]*$/.test(F)){var ie=ct.join(Ha(r,F,i),"package.json");if(!s(ie))return I(ct.dirname(F));var Z=c(a,ie);return Z&&i.packageFilter&&(Z=i.packageFilter(Z,F)),{pkg:Z,dir:F}}}function K(F){var ie=ct.join(Ha(r,F,i),"/package.json");if(s(ie)){try{var Z=c(a,ie)}catch{}if(Z&&i.packageFilter&&(Z=i.packageFilter(Z,F)),Z&&Z.main){if(typeof Z.main!="string"){var ce=new TypeError("package \u201C"+Z.name+"\u201D `main` must be a string");throw ce.code="INVALID_PACKAGE_MAIN",ce}(Z.main==="."||Z.main==="./")&&(Z.main="index");try{var O=x(ct.resolve(F,Z.main));if(O)return O;var G=K(ct.resolve(F,Z.main));if(G)return G}catch{}}}return x(ct.join(F,"/index"))}function q(F,ie){for(var Z=function(){return XW(F,ie,i)},ce=l?l(F,ie,Z,i):Z(),O=0;O<ce.length;O++){var G=ce[O];if(n(ct.dirname(G))){var C=x(G);if(C)return C;var d=K(G);if(d)return d}}}}});var Qy=h((sAe,Jy)=>{var sE=ky();sE.core=Ky();sE.isCore=jy();sE.sync=Xy();Jy.exports=sE});var eL=h((aAe,Zy)=>{var Ri=1e3,Ni=Ri*60,Mi=Ni*60,Po=Mi*24,JW=Po*7,QW=Po*365.25;Zy.exports=function(o,e){e=e||{};var t=typeof o;if(t==="string"&&o.length>0)return ZW(o);if(t==="number"&&isFinite(o))return e.long?t4(o):e4(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function ZW(o){if(o=String(o),!(o.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*QW;case"weeks":case"week":case"w":return t*JW;case"days":case"day":case"d":return t*Po;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Mi;case"minutes":case"minute":case"mins":case"min":case"m":return t*Ni;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ri;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function e4(o){var e=Math.abs(o);return e>=Po?Math.round(o/Po)+"d":e>=Mi?Math.round(o/Mi)+"h":e>=Ni?Math.round(o/Ni)+"m":e>=Ri?Math.round(o/Ri)+"s":o+"ms"}function t4(o){var e=Math.abs(o);return e>=Po?aE(o,e,Po,"day"):e>=Mi?aE(o,e,Mi,"hour"):e>=Ni?aE(o,e,Ni,"minute"):e>=Ri?aE(o,e,Ri,"second"):o+" ms"}function aE(o,e,t,i){var s=e>=t*1.5;return Math.round(o/t)+" "+i+(s?"s":"")}});var vT=h((cAe,tL)=>{function r4(o){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=s,t.enabled=n,t.humanize=eL(),t.destroy=l,Object.keys(o).forEach(u=>{t[u]=o[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let E=0;for(let T=0;T<u.length;T++)E=(E<<5)-E+u.charCodeAt(T),E|=0;return t.colors[Math.abs(E)%t.colors.length]}t.selectColor=e;function t(u){let E,T=null,f,N;function m(...P){if(!m.enabled)return;let M=m,g=Number(new Date),x=g-(E||g);M.diff=x,M.prev=E,M.curr=g,E=g,P[0]=t.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let I=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(q,F)=>{if(q==="%%")return"%";I++;let ie=t.formatters[F];if(typeof ie=="function"){let Z=P[I];q=ie.call(M,Z),P.splice(I,1),I--}return q}),t.formatArgs.call(M,P),(M.log||t.log).apply(M,P)}return m.namespace=u,m.useColors=t.useColors(),m.color=t.selectColor(u),m.extend=i,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>T!==null?T:(f!==t.namespaces&&(f=t.namespaces,N=t.enabled(u)),N),set:P=>{T=P}}),typeof t.init=="function"&&t.init(m),m}function i(u,E){let T=t(this.namespace+(typeof E>"u"?":":E)+u);return T.log=this.log,T}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let E,T=(typeof u=="string"?u:"").split(/[\s,]+/),f=T.length;for(E=0;E<f;E++)T[E]&&(u=T[E].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function a(){let u=[...t.names.map(r),...t.skips.map(r).map(E=>"-"+E)].join(",");return t.enable(""),u}function n(u){if(u[u.length-1]==="*")return!0;let E,T;for(E=0,T=t.skips.length;E<T;E++)if(t.skips[E].test(u))return!1;for(E=0,T=t.names.length;E<T;E++)if(t.names[E].test(u))return!0;return!1}function r(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}tL.exports=r4});var rL=h((It,cE)=>{It.formatArgs=o4;It.save=i4;It.load=s4;It.useColors=n4;It.storage=a4();It.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();It.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n4(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o4(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+cE.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;o.splice(1,0,e,"color: inherit");let t=0,i=0;o[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(i=t))}),o.splice(i,0,e)}It.log=console.debug||console.log||(()=>{});function i4(o){try{o?It.storage.setItem("debug",o):It.storage.removeItem("debug")}catch{}}function s4(){let o;try{o=It.storage.getItem("debug")}catch{}return!o&&typeof process<"u"&&"env"in process&&(o=process.env.DEBUG),o}function a4(){try{return localStorage}catch{}}cE.exports=vT()(It);var{formatters:c4}=cE.exports;c4.j=function(o){try{return JSON.stringify(o)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var oL=h((lAe,nL)=>{"use strict";nL.exports=(o,e=process.argv)=>{let t=o.startsWith("-")?"":o.length===1?"-":"--",i=e.indexOf(t+o),s=e.indexOf("--");return i!==-1&&(s===-1||i<s)}});var aL=h((uAe,sL)=>{"use strict";var l4=B("os"),iL=B("tty"),qt=oL(),{env:Ke}=process,Pn;qt("no-color")||qt("no-colors")||qt("color=false")||qt("color=never")?Pn=0:(qt("color")||qt("colors")||qt("color=true")||qt("color=always"))&&(Pn=1);"FORCE_COLOR"in Ke&&(Ke.FORCE_COLOR==="true"?Pn=1:Ke.FORCE_COLOR==="false"?Pn=0:Pn=Ke.FORCE_COLOR.length===0?1:Math.min(parseInt(Ke.FORCE_COLOR,10),3));function IT(o){return o===0?!1:{level:o,hasBasic:!0,has256:o>=2,has16m:o>=3}}function DT(o,e){if(Pn===0)return 0;if(qt("color=16m")||qt("color=full")||qt("color=truecolor"))return 3;if(qt("color=256"))return 2;if(o&&!e&&Pn===void 0)return 0;let t=Pn||0;if(Ke.TERM==="dumb")return t;if(process.platform==="win32"){let i=l4.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in Ke)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in Ke)||Ke.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Ke)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ke.TEAMCITY_VERSION)?1:0;if(Ke.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ke){let i=parseInt((Ke.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ke.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ke.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ke.TERM)||"COLORTERM"in Ke?1:t}function u4(o){let e=DT(o,o&&o.isTTY);return IT(e)}sL.exports={supportsColor:u4,stdout:IT(DT(!0,iL.isatty(1))),stderr:IT(DT(!0,iL.isatty(2)))}});var lL=h((et,uE)=>{var E4=B("tty"),lE=B("util");et.init=h4;et.log=d4;et.formatArgs=_4;et.save=T4;et.load=f4;et.useColors=S4;et.destroy=lE.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");et.colors=[6,2,3,4,5,1];try{let o=aL();o&&(o.stderr||o).level>=2&&(et.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}et.inspectOpts=Object.keys(process.env).filter(o=>/^debug_/i.test(o)).reduce((o,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),o[t]=i,o},{});function S4(){return"colors"in et.inspectOpts?!!et.inspectOpts.colors:E4.isatty(process.stderr.fd)}function _4(o){let{namespace:e,useColors:t}=this;if(t){let i=this.color,s="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${s};1m${e} \x1B[0m`;o[0]=a+o[0].split(`
`).join(`
`+a),o.push(s+"m+"+uE.exports.humanize(this.diff)+"\x1B[0m")}else o[0]=p4()+e+" "+o[0]}function p4(){return et.inspectOpts.hideDate?"":new Date().toISOString()+" "}function d4(...o){return process.stderr.write(lE.format(...o)+`
`)}function T4(o){o?process.env.DEBUG=o:delete process.env.DEBUG}function f4(){return process.env.DEBUG}function h4(o){o.inspectOpts={};let e=Object.keys(et.inspectOpts);for(let t=0;t<e.length;t++)o.inspectOpts[e[t]]=et.inspectOpts[e[t]]}uE.exports=vT()(et);var{formatters:cL}=uE.exports;cL.o=function(o){return this.inspectOpts.colors=this.useColors,lE.inspect(o,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};cL.O=function(o){return this.inspectOpts.colors=this.useColors,lE.inspect(o,this.inspectOpts)}});var uL=h((EAe,xT)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?xT.exports=rL():xT.exports=lL()});var bT=h((SAe,EL)=>{"use strict";var UT=B("path");EL.exports=function(o){var e=o.split(UT.sep),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){var i=e[t+1][0]==="@",s=i?e[t+1]+"/"+e[t+2]:e[t+1],a=i?3:2;return{name:s,basedir:e.slice(0,t+a).join(UT.sep),path:e.slice(t+a).join(UT.sep)}}}});var SL=h((_Ae,A4)=>{A4.exports={name:"require-in-the-middle",version:"7.3.0",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var GT=h((pAe,BT)=>{"use strict";var Pi=B("path"),Qr=B("module"),VT=Qy(),tt=uL()("require-in-the-middle"),m4=bT();BT.exports=qa;BT.exports.Hook=qa;var Ya;if(Qr.isBuiltin)Ya=Qr.isBuiltin;else{let[o,e]=process.versions.node.split(".").map(Number);o===8&&e<8?Ya=t=>t==="http2"?!0:!!VT.core[t]:Ya=t=>!!VT.core[t]}var O4=/([/\\]index)?(\.js)?$/,wT=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{let i=B.cache[e];return!!(i&&this._kRitmExports in i)}}get(e,t){let i=this._localCache.get(e);if(i!==void 0)return i;if(!t){let s=B.cache[e];return s&&s[this._kRitmExports]}}set(e,t,i){i?this._localCache.set(e,t):e in B.cache?B.cache[e][this._kRitmExports]=t:(tt('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}};function qa(o,e,t){if(!(this instanceof qa))return new qa(o,e,t);if(typeof o=="function"?(t=o,o=null,e=null):typeof e=="function"&&(t=e,e=null),typeof Qr._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof Qr._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,SL().bugs.url);return}this._cache=new wT,this._unhooked=!1,this._origRequire=Qr.prototype.require;let i=this,s=new Set,a=e?e.internals===!0:!1,n=Array.isArray(o);tt("registering require hook"),this._require=Qr.prototype.require=function(r){if(i._unhooked===!0)return tt("ignoring require call - module is soft-unhooked"),i._origRequire.apply(this,arguments);let c=Ya(r),l;if(c){if(l=r,r.startsWith("node:")){let m=r.slice(5);Ya(m)&&(l=m)}}else try{l=Qr._resolveFilename(r,this)}catch(m){return tt('Module._resolveFilename("%s") threw %j, calling original Module.require',r,m.message),i._origRequire.apply(this,arguments)}let u,E;if(tt("processing %s module require('%s'): %s",c===!0?"core":"non-core",r,l),i._cache.has(l,c)===!0)return tt("returning already patched cached module: %s",l),i._cache.get(l,c);let T=s.has(l);T===!1&&s.add(l);let f=i._origRequire.apply(this,arguments);if(T===!0)return tt("module is in the process of being patched already - ignoring: %s",l),f;if(s.delete(l),c===!0){if(n===!0&&o.includes(l)===!1)return tt("ignoring core module not on whitelist: %s",l),f;u=l}else if(n===!0&&o.includes(l)){let m=Pi.parse(l);u=m.name,E=m.dir}else{let m=m4(l);if(m===void 0)return tt("could not parse filename: %s",l),f;u=m.name,E=m.basedir;let P=R4(m);tt("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",u,r,P,E);let M=!1;if(n){if(!r.startsWith(".")&&o.includes(r)&&(u=r,M=!0),!o.includes(u)&&!o.includes(P))return f;o.includes(P)&&P!==u&&(u=P,M=!0)}if(!M){let g;try{g=VT.sync(u,{basedir:E})}catch{return tt("could not resolve module: %s",u),i._cache.set(l,f,c),f}if(g!==l)if(a===!0)u=u+Pi.sep+Pi.relative(E,l),tt("preparing to process require of internal file: %s",u);else return tt("ignoring require of non-main module file: %s",g),i._cache.set(l,f,c),f}}i._cache.set(l,f,c),tt("calling require hook: %s",u);let N=t(f,u,E);return i._cache.set(l,N,c),tt("returning module: %s",u),N}}qa.prototype.unhook=function(){this._unhooked=!0,this._require===Qr.prototype.require?(Qr.prototype.require=this._origRequire,tt("unhook successful")):tt("unhook unsuccessful")};function R4(o){let e=Pi.sep!=="/"?o.path.split(Pi.sep).join("/"):o.path;return Pi.posix.join(o.name,e).replace(O4,"")}});var Ka,EE,SE,_L=p(()=>{Ka="/",EE=class{constructor(){this.hooks=[],this.children=new Map}},SE=class{constructor(){this._trie=new EE,this._counter=0}insert(e){let t=this._trie;for(let i of e.moduleName.split(Ka)){let s=t.children.get(i);s||(s=new EE,t.children.set(i,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:i}={}){let s=this._trie,a=[],n=!0;for(let r of e.split(Ka)){let c=s.children.get(r);if(!c){n=!1;break}i||a.push(...c.hooks),s=c}return i&&n&&a.push(...s.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(t&&a.sort((r,c)=>r.insertedId-c.insertedId),a.map(({hook:r})=>r))}}});import*as kT from"path";function M4(o){return kT.sep!==Ka?o.split(kT.sep).join(Ka):o}var pL,N4,_E,dL=p(()=>{pL=En(GT());_L();N4=["afterEach","after","beforeEach","before","describe","it"].every(o=>typeof global[o]=="function"),_E=class o{constructor(){this._moduleNameTrie=new SE,this._initialize()}_initialize(){new pL.Hook(null,{internals:!0},(e,t,i)=>{let s=M4(t),a=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:i===void 0});for(let{onRequire:n}of a)e=n(e,t,i);return e})}register(e,t){let i={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(i),i}static getInstance(){var e;return N4?new o:this._instance=(e=this._instance)!==null&&e!==void 0?e:new o}}});var AL=h(Wa=>{var TL=[],FT=new WeakMap,fL=new Map,hL=[],P4={set(o,e,t){return FT.get(o)[e](t)},defineProperty(o,e,t){if(!("value"in t))throw new Error("Getters/setters are not supported for exports property descriptors.");return FT.get(o)[e](t.value)}};function C4(o,e,t,i){fL.set(o,i),FT.set(e,t);let s=new Proxy(e,P4);TL.forEach(a=>a(o,s)),hL.push([o,s])}Wa.register=C4;Wa.importHooks=TL;Wa.specifiers=fL;Wa.toHook=hL});var PL=h((mAe,za)=>{var mL=B("path"),g4=bT(),{fileURLToPath:OL}=B("url"),{importHooks:HT,specifiers:y4,toHook:L4}=AL();function NL(o){HT.push(o),L4.forEach(([e,t])=>o(e,t))}function ML(o){let e=HT.indexOf(o);e>-1&&HT.splice(e,1)}function RL(o,e,t,i){let s=o(e,t,i);s&&s!==e&&(e.default=s)}function ja(o,e,t){if(!(this instanceof ja))return new ja(o,e,t);typeof o=="function"?(t=o,o=null,e=null):typeof e=="function"&&(t=e,e=null);let i=e?e.internals===!0:!1;this._iitmHook=(s,a)=>{let n=s,r=s.startsWith("node:"),c;if(r)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=OL(s)}catch{}let l=g4(s);l&&(s=l.name,c=l.basedir)}if(o){for(let l of o)if(l===s){if(c){if(i)s=s+mL.sep+mL.relative(c,OL(n));else if(!c.endsWith(y4.get(n)))continue}RL(t,a,s,c)}}else RL(t,a,s,c)},NL(this._iitmHook)}ja.prototype.unhook=function(){ML(this._iitmHook)};za.exports=ja;za.exports.Hook=ja;za.exports.addHook=NL;za.exports.removeHook=ML});function v4(o,e,t){let i,s;try{s=o()}catch(a){i=a}finally{if(e(i,s),i&&!t)throw i;return s}}async function I4(o,e,t){let i,s;try{s=await o()}catch(a){i=a}finally{if(e(i,s),i&&!t)throw i;return s}}function YT(o){return typeof o=="function"&&typeof o.__original=="function"&&typeof o.__unwrap=="function"&&o.__wrapped===!0}var qT=p(()=>{});import*as gi from"path";import{types as CL}from"util";import{readFileSync as D4}from"fs";function gL(o,e,t){return typeof e>"u"?o.includes("*"):o.some(i=>(0,yL.satisfies)(e,i,{includePrerelease:t}))}var yL,$a,LL,vL,Ci,IL=p(()=>{yL=En(AT()),$a=En(RT());Ay();dL();LL=En(PL());U();vL=En(GT());qT();Ci=class extends oE{constructor(e,t,i){super(e,t,i),this._hooks=[],this._requireInTheMiddleSingleton=_E.getInstance(),this._enabled=!1,this._wrap=(a,n,r)=>{if(YT(a[n])&&this._unwrap(a,n),CL.isProxy(a)){let c=(0,$a.wrap)(Object.assign({},a),n,r);return Object.defineProperty(a,n,{value:c})}else return(0,$a.wrap)(a,n,r)},this._unwrap=(a,n)=>CL.isProxy(a)?Object.defineProperty(a,n,{value:a[n]}):(0,$a.unwrap)(a,n),this._massWrap=(a,n,r)=>{if(a)Array.isArray(a)||(a=[a]);else{R.error("must provide one or more modules to patch");return}if(!(n&&Array.isArray(n))){R.error("must provide one or more functions to wrap on modules");return}a.forEach(c=>{n.forEach(l=>{this._wrap(c,l,r)})})},this._massUnwrap=(a,n)=>{if(a)Array.isArray(a)||(a=[a]);else{R.error("must provide one or more modules to patch");return}if(!(n&&Array.isArray(n))){R.error("must provide one or more functions to wrap on modules");return}a.forEach(r=>{n.forEach(c=>{this._unwrap(r,c)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&R.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let i=B.resolve(t);B.cache[i]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=D4(gi.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(t).version;return typeof i=="string"?i:void 0}catch{R.warn("Failed extracting version",e)}}_onRequire(e,t,i,s){var a;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;let n=this._extractPackageVersion(s);if(e.moduleVersion=n,e.name===i)return gL(e.supportedVersions,n,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:s}),e.patch(t,e.moduleVersion)):t;let r=(a=e.files)!==null&&a!==void 0?a:[],c=gi.normalize(i);return r.filter(u=>u.name===c).filter(u=>gL(u.supportedVersions,n,e.includePrerelease)).reduce((u,E)=>(E.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:E.name,baseDir:s}),E.patch(u,e.moduleVersion)):u),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.patch(t.moduleExports,e.moduleVersion))}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(n,r,c)=>this._onRequire(e,n,r,c),i=(n,r,c)=>this._onRequire(e,n,r,c),s=gi.isAbsolute(e.name)?new vL.Hook([e.name],{internals:!0},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(s);let a=new LL.Hook([e.name],{internals:!1},t);this._hooks.push(a)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.unpatch(t.moduleExports,e.moduleVersion))}}}isEnabled(){return this._enabled}}});import{normalize as pE}from"path";var DL=p(()=>{});var xL=p(()=>{IL();DL()});var KT=p(()=>{xL()});var dE,UL=p(()=>{dE=class{constructor(e,t,i,s,a){this.name=e,this.supportedVersions=t,this.patch=i,this.unpatch=s,this.files=a||[]}}});var TE,bL=p(()=>{KT();TE=class{constructor(e,t,i,s){this.supportedVersions=t,this.patch=i,this.unpatch=s,this.name=pE(e)}}});var VL=p(()=>{});var wL=p(()=>{});var BL={};Ie(BL,{InstrumentationBase:()=>Ci,InstrumentationNodeModuleDefinition:()=>dE,InstrumentationNodeModuleFile:()=>TE,isWrapped:()=>YT,registerInstrumentations:()=>py,safeExecuteInTheMiddle:()=>v4,safeExecuteInTheMiddleAsync:()=>I4});var GL=p(()=>{dy();KT();UL();bL();VL();wL();qT()});function Ve(o){let e={},t=o.length;for(let i=0;i<t;i++){let s=o[i];s&&(e[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return e}var WT=p(()=>{});var kL,FL,HL,YL,qL,KL,WL,jL,zL,$L,XL,JL,QL,ZL,ev,tv,rv,nv,ov,iv,sv,av,cv,lv,uv,Ev,Sv,_v,pv,dv,Tv,fv,hv,Av,mv,Ov,Rv,Nv,Mv,Pv,Cv,gv,yv,Lv,vv,Iv,Dv,xv,Uv,bv,Vv,wv,Bv,Gv,kv,Fv,Hv,Yv,qv,Kv,Wv,jv,zv,$v,Xv,Jv,Qv,Zv,eI,tI,rI,nI,oI,iI,sI,aI,cI,lI,uI,EI,SI,_I,pI,dI,TI,fI,hI,AI,mI,OI,RI,NI,MI,PI,CI,gI,yI,LI,vI,II,DI,xI,UI,bI,VI,wI,BI,GI,kI,FI,HI,YI,qI,KI,WI,jI,zI,$I,XI,JI,QI,ZI,eD,tD,rD,nD,oD,iD,x4,U4,b4,V4,w4,B4,G4,k4,F4,H4,Y4,q4,K4,W4,j4,z4,$4,X4,J4,Q4,Z4,e6,t6,r6,n6,o6,i6,s6,a6,c6,l6,u6,E6,S6,_6,p6,d6,T6,f6,h6,A6,m6,O6,R6,N6,M6,P6,C6,g6,y6,L6,v6,I6,D6,x6,U6,b6,V6,w6,B6,G6,k6,F6,H6,Y6,q6,K6,W6,j6,z6,$6,X6,J6,Q6,Z6,e8,t8,r8,n8,o8,i8,s8,a8,c8,l8,u8,E8,S8,_8,p8,d8,T8,f8,h8,A8,m8,O8,R8,N8,M8,P8,C8,g8,y8,L8,v8,I8,D8,x8,U8,b8,V8,w8,B8,G8,k8,F8,H8,Y8,q8,K8,W8,j8,z8,$8,X8,J8,Q8,Z8,sD,aD,cD,lD,uD,ED,SD,_D,pD,dD,TD,fD,hD,AD,mD,OD,RD,ND,MD,PD,CD,gD,yD,LD,vD,ID,DD,xD,UD,bD,VD,wD,BD,GD,kD,FD,HD,YD,qD,KD,WD,jD,zD,$D,XD,JD,QD,ej,tj,rj,nj,oj,ij,sj,aj,cj,lj,uj,Ej,Sj,_j,pj,dj,Tj,fj,hj,Aj,mj,Oj,Rj,Nj,Mj,Pj,Cj,gj,yj,Lj,vj,Ij,Dj,xj,Uj,bj,Vj,wj,Bj,Gj,kj,Fj,Hj,Yj,qj,Kj,Wj,jj,ZD,ex,tx,rx,nx,ox,ix,sx,ax,cx,lx,zj,$j,Xj,Jj,Qj,Zj,ez,tz,rz,nz,oz,iz,ux,Ex,Sx,_x,px,sz,az,cz,lz,uz,Ez,dx,Tx,fx,Sz,_z,pz,dz,hx,Ax,mx,Ox,Tz,fz,hz,Az,mz,Rx,Nx,Mx,Px,Cx,gx,yx,Oz,Rz,Nz,Mz,Pz,Cz,gz,yz,Lx,vx,Ix,Dx,xx,Lz,vz,Iz,Dz,xz,Uz,Ux,bx,Vx,wx,Bx,Gx,kx,Fx,Hx,Yx,qx,Kx,Wx,jx,zx,$x,Xx,Jx,Qx,Zx,eU,bz,Vz,wz,Bz,Gz,kz,Fz,Hz,Yz,qz,Kz,Wz,jz,zz,$z,Xz,Jz,Qz,Zz,e$,t$,r$,tU,rU,nU,oU,iU,n$,o$,i$,s$,a$,c$,sU,aU,l$,u$,E$,cU,lU,S$,_$,p$,uU,EU,SU,_U,pU,dU,TU,fU,hU,AU,mU,OU,RU,NU,MU,PU,CU,d$,T$,f$,h$,A$,m$,O$,R$,N$,M$,P$,C$,g$,y$,L$,v$,I$,D$,gU,yU,x$,U$,b$,LU=p(()=>{WT();kL="aws.lambda.invoked_arn",FL="db.system",HL="db.connection_string",YL="db.user",qL="db.jdbc.driver_classname",KL="db.name",WL="db.statement",jL="db.operation",zL="db.mssql.instance_name",$L="db.cassandra.keyspace",XL="db.cassandra.page_size",JL="db.cassandra.consistency_level",QL="db.cassandra.table",ZL="db.cassandra.idempotence",ev="db.cassandra.speculative_execution_count",tv="db.cassandra.coordinator.id",rv="db.cassandra.coordinator.dc",nv="db.hbase.namespace",ov="db.redis.database_index",iv="db.mongodb.collection",sv="db.sql.table",av="exception.type",cv="exception.message",lv="exception.stacktrace",uv="exception.escaped",Ev="faas.trigger",Sv="faas.execution",_v="faas.document.collection",pv="faas.document.operation",dv="faas.document.time",Tv="faas.document.name",fv="faas.time",hv="faas.cron",Av="faas.coldstart",mv="faas.invoked_name",Ov="faas.invoked_provider",Rv="faas.invoked_region",Nv="net.transport",Mv="net.peer.ip",Pv="net.peer.port",Cv="net.peer.name",gv="net.host.ip",yv="net.host.port",Lv="net.host.name",vv="net.host.connection.type",Iv="net.host.connection.subtype",Dv="net.host.carrier.name",xv="net.host.carrier.mcc",Uv="net.host.carrier.mnc",bv="net.host.carrier.icc",Vv="peer.service",wv="enduser.id",Bv="enduser.role",Gv="enduser.scope",kv="thread.id",Fv="thread.name",Hv="code.function",Yv="code.namespace",qv="code.filepath",Kv="code.lineno",Wv="http.method",jv="http.url",zv="http.target",$v="http.host",Xv="http.scheme",Jv="http.status_code",Qv="http.flavor",Zv="http.user_agent",eI="http.request_content_length",tI="http.request_content_length_uncompressed",rI="http.response_content_length",nI="http.response_content_length_uncompressed",oI="http.server_name",iI="http.route",sI="http.client_ip",aI="aws.dynamodb.table_names",cI="aws.dynamodb.consumed_capacity",lI="aws.dynamodb.item_collection_metrics",uI="aws.dynamodb.provisioned_read_capacity",EI="aws.dynamodb.provisioned_write_capacity",SI="aws.dynamodb.consistent_read",_I="aws.dynamodb.projection",pI="aws.dynamodb.limit",dI="aws.dynamodb.attributes_to_get",TI="aws.dynamodb.index_name",fI="aws.dynamodb.select",hI="aws.dynamodb.global_secondary_indexes",AI="aws.dynamodb.local_secondary_indexes",mI="aws.dynamodb.exclusive_start_table",OI="aws.dynamodb.table_count",RI="aws.dynamodb.scan_forward",NI="aws.dynamodb.segment",MI="aws.dynamodb.total_segments",PI="aws.dynamodb.count",CI="aws.dynamodb.scanned_count",gI="aws.dynamodb.attribute_definitions",yI="aws.dynamodb.global_secondary_index_updates",LI="messaging.system",vI="messaging.destination",II="messaging.destination_kind",DI="messaging.temp_destination",xI="messaging.protocol",UI="messaging.protocol_version",bI="messaging.url",VI="messaging.message_id",wI="messaging.conversation_id",BI="messaging.message_payload_size_bytes",GI="messaging.message_payload_compressed_size_bytes",kI="messaging.operation",FI="messaging.consumer_id",HI="messaging.rabbitmq.routing_key",YI="messaging.kafka.message_key",qI="messaging.kafka.consumer_group",KI="messaging.kafka.client_id",WI="messaging.kafka.partition",jI="messaging.kafka.tombstone",zI="rpc.system",$I="rpc.service",XI="rpc.method",JI="rpc.grpc.status_code",QI="rpc.jsonrpc.version",ZI="rpc.jsonrpc.request_id",eD="rpc.jsonrpc.error_code",tD="rpc.jsonrpc.error_message",rD="message.type",nD="message.id",oD="message.compressed_size",iD="message.uncompressed_size",x4=kL,U4=FL,b4=HL,V4=YL,w4=qL,B4=KL,G4=WL,k4=jL,F4=zL,H4=$L,Y4=XL,q4=JL,K4=QL,W4=ZL,j4=ev,z4=tv,$4=rv,X4=nv,J4=ov,Q4=iv,Z4=sv,e6=av,t6=cv,r6=lv,n6=uv,o6=Ev,i6=Sv,s6=_v,a6=pv,c6=dv,l6=Tv,u6=fv,E6=hv,S6=Av,_6=mv,p6=Ov,d6=Rv,T6=Nv,f6=Mv,h6=Pv,A6=Cv,m6=gv,O6=yv,R6=Lv,N6=vv,M6=Iv,P6=Dv,C6=xv,g6=Uv,y6=bv,L6=Vv,v6=wv,I6=Bv,D6=Gv,x6=kv,U6=Fv,b6=Hv,V6=Yv,w6=qv,B6=Kv,G6=Wv,k6=jv,F6=zv,H6=$v,Y6=Xv,q6=Jv,K6=Qv,W6=Zv,j6=eI,z6=tI,$6=rI,X6=nI,J6=oI,Q6=iI,Z6=sI,e8=aI,t8=cI,r8=lI,n8=uI,o8=EI,i8=SI,s8=_I,a8=pI,c8=dI,l8=TI,u8=fI,E8=hI,S8=AI,_8=mI,p8=OI,d8=RI,T8=NI,f8=MI,h8=PI,A8=CI,m8=gI,O8=yI,R8=LI,N8=vI,M8=II,P8=DI,C8=xI,g8=UI,y8=bI,L8=VI,v8=wI,I8=BI,D8=GI,x8=kI,U8=FI,b8=HI,V8=YI,w8=qI,B8=KI,G8=WI,k8=jI,F8=zI,H8=$I,Y8=XI,q8=JI,K8=QI,W8=ZI,j8=eD,z8=tD,$8=rD,X8=nD,J8=oD,Q8=iD,Z8=Ve([kL,FL,HL,YL,qL,KL,WL,jL,zL,$L,XL,JL,QL,ZL,ev,tv,rv,nv,ov,iv,sv,av,cv,lv,uv,Ev,Sv,_v,pv,dv,Tv,fv,hv,Av,mv,Ov,Rv,Nv,Mv,Pv,Cv,gv,yv,Lv,vv,Iv,Dv,xv,Uv,bv,Vv,wv,Bv,Gv,kv,Fv,Hv,Yv,qv,Kv,Wv,jv,zv,$v,Xv,Jv,Qv,Zv,eI,tI,rI,nI,oI,iI,sI,aI,cI,lI,uI,EI,SI,_I,pI,dI,TI,fI,hI,AI,mI,OI,RI,NI,MI,PI,CI,gI,yI,LI,vI,II,DI,xI,UI,bI,VI,wI,BI,GI,kI,FI,HI,YI,qI,KI,WI,jI,zI,$I,XI,JI,QI,ZI,eD,tD,rD,nD,oD,iD]),sD="other_sql",aD="mssql",cD="mysql",lD="oracle",uD="db2",ED="postgresql",SD="redshift",_D="hive",pD="cloudscape",dD="hsqldb",TD="progress",fD="maxdb",hD="hanadb",AD="ingres",mD="firstsql",OD="edb",RD="cache",ND="adabas",MD="firebird",PD="derby",CD="filemaker",gD="informix",yD="instantdb",LD="interbase",vD="mariadb",ID="netezza",DD="pervasive",xD="pointbase",UD="sqlite",bD="sybase",VD="teradata",wD="vertica",BD="h2",GD="coldfusion",kD="cassandra",FD="hbase",HD="mongodb",YD="redis",qD="couchbase",KD="couchdb",WD="cosmosdb",jD="dynamodb",zD="neo4j",$D="geode",XD="elasticsearch",JD="memcached",QD="cockroachdb",ej=sD,tj=aD,rj=cD,nj=lD,oj=uD,ij=ED,sj=SD,aj=_D,cj=pD,lj=dD,uj=TD,Ej=fD,Sj=hD,_j=AD,pj=mD,dj=OD,Tj=RD,fj=ND,hj=MD,Aj=PD,mj=CD,Oj=gD,Rj=yD,Nj=LD,Mj=vD,Pj=ID,Cj=DD,gj=xD,yj=UD,Lj=bD,vj=VD,Ij=wD,Dj=BD,xj=GD,Uj=kD,bj=FD,Vj=HD,wj=YD,Bj=qD,Gj=KD,kj=WD,Fj=jD,Hj=zD,Yj=$D,qj=XD,Kj=JD,Wj=QD,jj=Ve([sD,aD,cD,lD,uD,ED,SD,_D,pD,dD,TD,fD,hD,AD,mD,OD,RD,ND,MD,PD,CD,gD,yD,LD,vD,ID,DD,xD,UD,bD,VD,wD,BD,GD,kD,FD,HD,YD,qD,KD,WD,jD,zD,$D,XD,JD,QD]),ZD="all",ex="each_quorum",tx="quorum",rx="local_quorum",nx="one",ox="two",ix="three",sx="local_one",ax="any",cx="serial",lx="local_serial",zj=ZD,$j=ex,Xj=tx,Jj=rx,Qj=nx,Zj=ox,ez=ix,tz=sx,rz=ax,nz=cx,oz=lx,iz=Ve([ZD,ex,tx,rx,nx,ox,ix,sx,ax,cx,lx]),ux="datasource",Ex="http",Sx="pubsub",_x="timer",px="other",sz=ux,az=Ex,cz=Sx,lz=_x,uz=px,Ez=Ve([ux,Ex,Sx,_x,px]),dx="insert",Tx="edit",fx="delete",Sz=dx,_z=Tx,pz=fx,dz=Ve([dx,Tx,fx]),hx="alibaba_cloud",Ax="aws",mx="azure",Ox="gcp",Tz=hx,fz=Ax,hz=mx,Az=Ox,mz=Ve([hx,Ax,mx,Ox]),Rx="ip_tcp",Nx="ip_udp",Mx="ip",Px="unix",Cx="pipe",gx="inproc",yx="other",Oz=Rx,Rz=Nx,Nz=Mx,Mz=Px,Pz=Cx,Cz=gx,gz=yx,yz=Ve([Rx,Nx,Mx,Px,Cx,gx,yx]),Lx="wifi",vx="wired",Ix="cell",Dx="unavailable",xx="unknown",Lz=Lx,vz=vx,Iz=Ix,Dz=Dx,xz=xx,Uz=Ve([Lx,vx,Ix,Dx,xx]),Ux="gprs",bx="edge",Vx="umts",wx="cdma",Bx="evdo_0",Gx="evdo_a",kx="cdma2000_1xrtt",Fx="hsdpa",Hx="hsupa",Yx="hspa",qx="iden",Kx="evdo_b",Wx="lte",jx="ehrpd",zx="hspap",$x="gsm",Xx="td_scdma",Jx="iwlan",Qx="nr",Zx="nrnsa",eU="lte_ca",bz=Ux,Vz=bx,wz=Vx,Bz=wx,Gz=Bx,kz=Gx,Fz=kx,Hz=Fx,Yz=Hx,qz=Yx,Kz=qx,Wz=Kx,jz=Wx,zz=jx,$z=zx,Xz=$x,Jz=Xx,Qz=Jx,Zz=Qx,e$=Zx,t$=eU,r$=Ve([Ux,bx,Vx,wx,Bx,Gx,kx,Fx,Hx,Yx,qx,Kx,Wx,jx,zx,$x,Xx,Jx,Qx,Zx,eU]),tU="1.0",rU="1.1",nU="2.0",oU="SPDY",iU="QUIC",n$=tU,o$=rU,i$=nU,s$=oU,a$=iU,c$={HTTP_1_0:tU,HTTP_1_1:rU,HTTP_2_0:nU,SPDY:oU,QUIC:iU},sU="queue",aU="topic",l$=sU,u$=aU,E$=Ve([sU,aU]),cU="receive",lU="process",S$=cU,_$=lU,p$=Ve([cU,lU]),uU=0,EU=1,SU=2,_U=3,pU=4,dU=5,TU=6,fU=7,hU=8,AU=9,mU=10,OU=11,RU=12,NU=13,MU=14,PU=15,CU=16,d$=uU,T$=EU,f$=SU,h$=_U,A$=pU,m$=dU,O$=TU,R$=fU,N$=hU,M$=AU,P$=mU,C$=OU,g$=RU,y$=NU,L$=MU,v$=PU,I$=CU,D$={OK:uU,CANCELLED:EU,UNKNOWN:SU,INVALID_ARGUMENT:_U,DEADLINE_EXCEEDED:pU,NOT_FOUND:dU,ALREADY_EXISTS:TU,PERMISSION_DENIED:fU,RESOURCE_EXHAUSTED:hU,FAILED_PRECONDITION:AU,ABORTED:mU,OUT_OF_RANGE:OU,UNIMPLEMENTED:RU,INTERNAL:NU,UNAVAILABLE:MU,DATA_LOSS:PU,UNAUTHENTICATED:CU},gU="SENT",yU="RECEIVED",x$=gU,U$=yU,b$=Ve([gU,yU])});var vU=p(()=>{LU()});var IU,DU,xU,UU,bU,VU,wU,BU,GU,kU,FU,HU,YU,qU,KU,WU,jU,zU,$U,XU,JU,QU,ZU,eb,tb,rb,nb,ob,ib,sb,ab,cb,lb,ub,Eb,Sb,_b,pb,db,Tb,fb,hb,Ab,mb,Ob,Rb,Nb,Mb,Pb,Cb,gb,yb,Lb,vb,Ib,Db,xb,Ub,bb,Vb,wb,Bb,Gb,kb,Fb,Hb,Yb,qb,Kb,Wb,jb,zb,$b,Xb,Jb,Qb,Zb,e0,t0,r0,n0,V$,w$,B$,G$,k$,F$,H$,Y$,q$,K$,W$,j$,z$,$$,X$,J$,Q$,Z$,eX,tX,rX,nX,oX,iX,sX,aX,cX,lX,uX,EX,SX,_X,pX,dX,TX,fX,hX,AX,mX,OX,RX,NX,MX,PX,CX,gX,yX,LX,vX,IX,DX,xX,UX,bX,VX,wX,BX,GX,kX,FX,HX,YX,qX,KX,WX,jX,zX,$X,XX,JX,QX,ZX,e5,t5,r5,n5,o5,i5,s5,a5,c5,l5,o0,i0,s0,a0,u5,E5,S5,_5,p5,c0,l0,u0,E0,S0,_0,p0,d0,T0,f0,h0,A0,m0,O0,R0,N0,M0,d5,T5,f5,h5,A5,m5,O5,R5,N5,M5,P5,C5,g5,y5,L5,v5,I5,D5,P0,C0,x5,U5,b5,g0,y0,L0,v0,I0,D0,x0,V5,w5,B5,G5,k5,F5,H5,Y5,U0,b0,V0,w0,B0,G0,k0,F0,H0,Y0,q0,q5,K5,W5,j5,z5,$5,X5,J5,Q5,Z5,eJ,tJ,K0,W0,j0,z0,$0,X0,J0,Q0,Z0,eV,rJ,nJ,oJ,iJ,sJ,aJ,cJ,lJ,uJ,EJ,SJ,tV=p(()=>{WT();IU="cloud.provider",DU="cloud.account.id",xU="cloud.region",UU="cloud.availability_zone",bU="cloud.platform",VU="aws.ecs.container.arn",wU="aws.ecs.cluster.arn",BU="aws.ecs.launchtype",GU="aws.ecs.task.arn",kU="aws.ecs.task.family",FU="aws.ecs.task.revision",HU="aws.eks.cluster.arn",YU="aws.log.group.names",qU="aws.log.group.arns",KU="aws.log.stream.names",WU="aws.log.stream.arns",jU="container.name",zU="container.id",$U="container.runtime",XU="container.image.name",JU="container.image.tag",QU="deployment.environment",ZU="device.id",eb="device.model.identifier",tb="device.model.name",rb="faas.name",nb="faas.id",ob="faas.version",ib="faas.instance",sb="faas.max_memory",ab="host.id",cb="host.name",lb="host.type",ub="host.arch",Eb="host.image.name",Sb="host.image.id",_b="host.image.version",pb="k8s.cluster.name",db="k8s.node.name",Tb="k8s.node.uid",fb="k8s.namespace.name",hb="k8s.pod.uid",Ab="k8s.pod.name",mb="k8s.container.name",Ob="k8s.replicaset.uid",Rb="k8s.replicaset.name",Nb="k8s.deployment.uid",Mb="k8s.deployment.name",Pb="k8s.statefulset.uid",Cb="k8s.statefulset.name",gb="k8s.daemonset.uid",yb="k8s.daemonset.name",Lb="k8s.job.uid",vb="k8s.job.name",Ib="k8s.cronjob.uid",Db="k8s.cronjob.name",xb="os.type",Ub="os.description",bb="os.name",Vb="os.version",wb="process.pid",Bb="process.executable.name",Gb="process.executable.path",kb="process.command",Fb="process.command_line",Hb="process.command_args",Yb="process.owner",qb="process.runtime.name",Kb="process.runtime.version",Wb="process.runtime.description",jb="service.name",zb="service.namespace",$b="service.instance.id",Xb="service.version",Jb="telemetry.sdk.name",Qb="telemetry.sdk.language",Zb="telemetry.sdk.version",e0="telemetry.auto.version",t0="webengine.name",r0="webengine.version",n0="webengine.description",V$=IU,w$=DU,B$=xU,G$=UU,k$=bU,F$=VU,H$=wU,Y$=BU,q$=GU,K$=kU,W$=FU,j$=HU,z$=YU,$$=qU,X$=KU,J$=WU,Q$=jU,Z$=zU,eX=$U,tX=XU,rX=JU,nX=QU,oX=ZU,iX=eb,sX=tb,aX=rb,cX=nb,lX=ob,uX=ib,EX=sb,SX=ab,_X=cb,pX=lb,dX=ub,TX=Eb,fX=Sb,hX=_b,AX=pb,mX=db,OX=Tb,RX=fb,NX=hb,MX=Ab,PX=mb,CX=Ob,gX=Rb,yX=Nb,LX=Mb,vX=Pb,IX=Cb,DX=gb,xX=yb,UX=Lb,bX=vb,VX=Ib,wX=Db,BX=xb,GX=Ub,kX=bb,FX=Vb,HX=wb,YX=Bb,qX=Gb,KX=kb,WX=Fb,jX=Hb,zX=Yb,$X=qb,XX=Kb,JX=Wb,QX=jb,ZX=zb,e5=$b,t5=Xb,r5=Jb,n5=Qb,o5=Zb,i5=e0,s5=t0,a5=r0,c5=n0,l5=Ve([IU,DU,xU,UU,bU,VU,wU,BU,GU,kU,FU,HU,YU,qU,KU,WU,jU,zU,$U,XU,JU,QU,ZU,eb,tb,rb,nb,ob,ib,sb,ab,cb,lb,ub,Eb,Sb,_b,pb,db,Tb,fb,hb,Ab,mb,Ob,Rb,Nb,Mb,Pb,Cb,gb,yb,Lb,vb,Ib,Db,xb,Ub,bb,Vb,wb,Bb,Gb,kb,Fb,Hb,Yb,qb,Kb,Wb,jb,zb,$b,Xb,Jb,Qb,Zb,e0,t0,r0,n0]),o0="alibaba_cloud",i0="aws",s0="azure",a0="gcp",u5=o0,E5=i0,S5=s0,_5=a0,p5=Ve([o0,i0,s0,a0]),c0="alibaba_cloud_ecs",l0="alibaba_cloud_fc",u0="aws_ec2",E0="aws_ecs",S0="aws_eks",_0="aws_lambda",p0="aws_elastic_beanstalk",d0="azure_vm",T0="azure_container_instances",f0="azure_aks",h0="azure_functions",A0="azure_app_service",m0="gcp_compute_engine",O0="gcp_cloud_run",R0="gcp_kubernetes_engine",N0="gcp_cloud_functions",M0="gcp_app_engine",d5=c0,T5=l0,f5=u0,h5=E0,A5=S0,m5=_0,O5=p0,R5=d0,N5=T0,M5=f0,P5=h0,C5=A0,g5=m0,y5=O0,L5=R0,v5=N0,I5=M0,D5=Ve([c0,l0,u0,E0,S0,_0,p0,d0,T0,f0,h0,A0,m0,O0,R0,N0,M0]),P0="ec2",C0="fargate",x5=P0,U5=C0,b5=Ve([P0,C0]),g0="amd64",y0="arm32",L0="arm64",v0="ia64",I0="ppc32",D0="ppc64",x0="x86",V5=g0,w5=y0,B5=L0,G5=v0,k5=I0,F5=D0,H5=x0,Y5=Ve([g0,y0,L0,v0,I0,D0,x0]),U0="windows",b0="linux",V0="darwin",w0="freebsd",B0="netbsd",G0="openbsd",k0="dragonflybsd",F0="hpux",H0="aix",Y0="solaris",q0="z_os",q5=U0,K5=b0,W5=V0,j5=w0,z5=B0,$5=G0,X5=k0,J5=F0,Q5=H0,Z5=Y0,eJ=q0,tJ=Ve([U0,b0,V0,w0,B0,G0,k0,F0,H0,Y0,q0]),K0="cpp",W0="dotnet",j0="erlang",z0="go",$0="java",X0="nodejs",J0="php",Q0="python",Z0="ruby",eV="webjs",rJ=K0,nJ=W0,oJ=j0,iJ=z0,sJ=$0,aJ=X0,cJ=J0,lJ=Q0,uJ=Z0,EJ=eV,SJ=Ve([K0,W0,j0,z0,$0,X0,J0,Q0,Z0,eV])});var rV=p(()=>{tV()});var nV={};Ie(nV,{AWSECSLAUNCHTYPEVALUES_EC2:()=>x5,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>U5,AwsEcsLaunchtypeValues:()=>b5,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>d5,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>T5,CLOUDPLATFORMVALUES_AWS_EC2:()=>f5,CLOUDPLATFORMVALUES_AWS_ECS:()=>h5,CLOUDPLATFORMVALUES_AWS_EKS:()=>A5,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>O5,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>m5,CLOUDPLATFORMVALUES_AZURE_AKS:()=>M5,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>C5,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>N5,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>P5,CLOUDPLATFORMVALUES_AZURE_VM:()=>R5,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>I5,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>v5,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>y5,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>g5,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>L5,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>u5,CLOUDPROVIDERVALUES_AWS:()=>E5,CLOUDPROVIDERVALUES_AZURE:()=>S5,CLOUDPROVIDERVALUES_GCP:()=>_5,CloudPlatformValues:()=>D5,CloudProviderValues:()=>p5,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>zj,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>rz,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>$j,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>tz,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>Jj,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>oz,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>Qj,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>Xj,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>nz,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>ez,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>Zj,DBSYSTEMVALUES_ADABAS:()=>fj,DBSYSTEMVALUES_CACHE:()=>Tj,DBSYSTEMVALUES_CASSANDRA:()=>Uj,DBSYSTEMVALUES_CLOUDSCAPE:()=>cj,DBSYSTEMVALUES_COCKROACHDB:()=>Wj,DBSYSTEMVALUES_COLDFUSION:()=>xj,DBSYSTEMVALUES_COSMOSDB:()=>kj,DBSYSTEMVALUES_COUCHBASE:()=>Bj,DBSYSTEMVALUES_COUCHDB:()=>Gj,DBSYSTEMVALUES_DB2:()=>oj,DBSYSTEMVALUES_DERBY:()=>Aj,DBSYSTEMVALUES_DYNAMODB:()=>Fj,DBSYSTEMVALUES_EDB:()=>dj,DBSYSTEMVALUES_ELASTICSEARCH:()=>qj,DBSYSTEMVALUES_FILEMAKER:()=>mj,DBSYSTEMVALUES_FIREBIRD:()=>hj,DBSYSTEMVALUES_FIRSTSQL:()=>pj,DBSYSTEMVALUES_GEODE:()=>Yj,DBSYSTEMVALUES_H2:()=>Dj,DBSYSTEMVALUES_HANADB:()=>Sj,DBSYSTEMVALUES_HBASE:()=>bj,DBSYSTEMVALUES_HIVE:()=>aj,DBSYSTEMVALUES_HSQLDB:()=>lj,DBSYSTEMVALUES_INFORMIX:()=>Oj,DBSYSTEMVALUES_INGRES:()=>_j,DBSYSTEMVALUES_INSTANTDB:()=>Rj,DBSYSTEMVALUES_INTERBASE:()=>Nj,DBSYSTEMVALUES_MARIADB:()=>Mj,DBSYSTEMVALUES_MAXDB:()=>Ej,DBSYSTEMVALUES_MEMCACHED:()=>Kj,DBSYSTEMVALUES_MONGODB:()=>Vj,DBSYSTEMVALUES_MSSQL:()=>tj,DBSYSTEMVALUES_MYSQL:()=>rj,DBSYSTEMVALUES_NEO4J:()=>Hj,DBSYSTEMVALUES_NETEZZA:()=>Pj,DBSYSTEMVALUES_ORACLE:()=>nj,DBSYSTEMVALUES_OTHER_SQL:()=>ej,DBSYSTEMVALUES_PERVASIVE:()=>Cj,DBSYSTEMVALUES_POINTBASE:()=>gj,DBSYSTEMVALUES_POSTGRESQL:()=>ij,DBSYSTEMVALUES_PROGRESS:()=>uj,DBSYSTEMVALUES_REDIS:()=>wj,DBSYSTEMVALUES_REDSHIFT:()=>sj,DBSYSTEMVALUES_SQLITE:()=>yj,DBSYSTEMVALUES_SYBASE:()=>Lj,DBSYSTEMVALUES_TERADATA:()=>vj,DBSYSTEMVALUES_VERTICA:()=>Ij,DbCassandraConsistencyLevelValues:()=>iz,DbSystemValues:()=>jj,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>pz,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>_z,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>Sz,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>Tz,FAASINVOKEDPROVIDERVALUES_AWS:()=>fz,FAASINVOKEDPROVIDERVALUES_AZURE:()=>hz,FAASINVOKEDPROVIDERVALUES_GCP:()=>Az,FAASTRIGGERVALUES_DATASOURCE:()=>sz,FAASTRIGGERVALUES_HTTP:()=>az,FAASTRIGGERVALUES_OTHER:()=>uz,FAASTRIGGERVALUES_PUBSUB:()=>cz,FAASTRIGGERVALUES_TIMER:()=>lz,FaasDocumentOperationValues:()=>dz,FaasInvokedProviderValues:()=>mz,FaasTriggerValues:()=>Ez,HOSTARCHVALUES_AMD64:()=>V5,HOSTARCHVALUES_ARM32:()=>w5,HOSTARCHVALUES_ARM64:()=>B5,HOSTARCHVALUES_IA64:()=>G5,HOSTARCHVALUES_PPC32:()=>k5,HOSTARCHVALUES_PPC64:()=>F5,HOSTARCHVALUES_X86:()=>H5,HTTPFLAVORVALUES_HTTP_1_0:()=>n$,HTTPFLAVORVALUES_HTTP_1_1:()=>o$,HTTPFLAVORVALUES_HTTP_2_0:()=>i$,HTTPFLAVORVALUES_QUIC:()=>a$,HTTPFLAVORVALUES_SPDY:()=>s$,HostArchValues:()=>Y5,HttpFlavorValues:()=>c$,MESSAGETYPEVALUES_RECEIVED:()=>U$,MESSAGETYPEVALUES_SENT:()=>x$,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>l$,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>u$,MESSAGINGOPERATIONVALUES_PROCESS:()=>_$,MESSAGINGOPERATIONVALUES_RECEIVE:()=>S$,MessageTypeValues:()=>b$,MessagingDestinationKindValues:()=>E$,MessagingOperationValues:()=>p$,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>Bz,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>Fz,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>Vz,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>zz,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>Gz,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>kz,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>Wz,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>bz,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>Xz,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>Hz,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>qz,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>$z,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>Yz,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>Kz,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>Qz,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>jz,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>t$,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>Zz,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>e$,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>Jz,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>wz,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>Iz,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>Dz,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>xz,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>Lz,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>vz,NETTRANSPORTVALUES_INPROC:()=>Cz,NETTRANSPORTVALUES_IP:()=>Nz,NETTRANSPORTVALUES_IP_TCP:()=>Oz,NETTRANSPORTVALUES_IP_UDP:()=>Rz,NETTRANSPORTVALUES_OTHER:()=>gz,NETTRANSPORTVALUES_PIPE:()=>Pz,NETTRANSPORTVALUES_UNIX:()=>Mz,NetHostConnectionSubtypeValues:()=>r$,NetHostConnectionTypeValues:()=>Uz,NetTransportValues:()=>yz,OSTYPEVALUES_AIX:()=>Q5,OSTYPEVALUES_DARWIN:()=>W5,OSTYPEVALUES_DRAGONFLYBSD:()=>X5,OSTYPEVALUES_FREEBSD:()=>j5,OSTYPEVALUES_HPUX:()=>J5,OSTYPEVALUES_LINUX:()=>K5,OSTYPEVALUES_NETBSD:()=>z5,OSTYPEVALUES_OPENBSD:()=>$5,OSTYPEVALUES_SOLARIS:()=>Z5,OSTYPEVALUES_WINDOWS:()=>q5,OSTYPEVALUES_Z_OS:()=>eJ,OsTypeValues:()=>tJ,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>P$,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>O$,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>T$,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>v$,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>A$,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>M$,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>y$,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>h$,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>m$,RPCGRPCSTATUSCODEVALUES_OK:()=>d$,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>C$,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>R$,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>N$,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>I$,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>L$,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>g$,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>f$,RpcGrpcStatusCodeValues:()=>D$,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>c8,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>m8,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>i8,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>t8,SEMATTRS_AWS_DYNAMODB_COUNT:()=>h8,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>_8,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>E8,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>O8,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>l8,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>r8,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>a8,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>S8,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>s8,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>n8,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>o8,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>A8,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>d8,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>T8,SEMATTRS_AWS_DYNAMODB_SELECT:()=>u8,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>p8,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>e8,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>f8,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>x4,SEMATTRS_CODE_FILEPATH:()=>w6,SEMATTRS_CODE_FUNCTION:()=>b6,SEMATTRS_CODE_LINENO:()=>B6,SEMATTRS_CODE_NAMESPACE:()=>V6,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>q4,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>$4,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>z4,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>W4,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>H4,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>Y4,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>j4,SEMATTRS_DB_CASSANDRA_TABLE:()=>K4,SEMATTRS_DB_CONNECTION_STRING:()=>b4,SEMATTRS_DB_HBASE_NAMESPACE:()=>X4,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>w4,SEMATTRS_DB_MONGODB_COLLECTION:()=>Q4,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>F4,SEMATTRS_DB_NAME:()=>B4,SEMATTRS_DB_OPERATION:()=>k4,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>J4,SEMATTRS_DB_SQL_TABLE:()=>Z4,SEMATTRS_DB_STATEMENT:()=>G4,SEMATTRS_DB_SYSTEM:()=>U4,SEMATTRS_DB_USER:()=>V4,SEMATTRS_ENDUSER_ID:()=>v6,SEMATTRS_ENDUSER_ROLE:()=>I6,SEMATTRS_ENDUSER_SCOPE:()=>D6,SEMATTRS_EXCEPTION_ESCAPED:()=>n6,SEMATTRS_EXCEPTION_MESSAGE:()=>t6,SEMATTRS_EXCEPTION_STACKTRACE:()=>r6,SEMATTRS_EXCEPTION_TYPE:()=>e6,SEMATTRS_FAAS_COLDSTART:()=>S6,SEMATTRS_FAAS_CRON:()=>E6,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>s6,SEMATTRS_FAAS_DOCUMENT_NAME:()=>l6,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>a6,SEMATTRS_FAAS_DOCUMENT_TIME:()=>c6,SEMATTRS_FAAS_EXECUTION:()=>i6,SEMATTRS_FAAS_INVOKED_NAME:()=>_6,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>p6,SEMATTRS_FAAS_INVOKED_REGION:()=>d6,SEMATTRS_FAAS_TIME:()=>u6,SEMATTRS_FAAS_TRIGGER:()=>o6,SEMATTRS_HTTP_CLIENT_IP:()=>Z6,SEMATTRS_HTTP_FLAVOR:()=>K6,SEMATTRS_HTTP_HOST:()=>H6,SEMATTRS_HTTP_METHOD:()=>G6,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>j6,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>z6,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>$6,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>X6,SEMATTRS_HTTP_ROUTE:()=>Q6,SEMATTRS_HTTP_SCHEME:()=>Y6,SEMATTRS_HTTP_SERVER_NAME:()=>J6,SEMATTRS_HTTP_STATUS_CODE:()=>q6,SEMATTRS_HTTP_TARGET:()=>F6,SEMATTRS_HTTP_URL:()=>k6,SEMATTRS_HTTP_USER_AGENT:()=>W6,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>J8,SEMATTRS_MESSAGE_ID:()=>X8,SEMATTRS_MESSAGE_TYPE:()=>$8,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>Q8,SEMATTRS_MESSAGING_CONSUMER_ID:()=>U8,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>v8,SEMATTRS_MESSAGING_DESTINATION:()=>N8,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>M8,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>B8,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>w8,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>V8,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>G8,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>k8,SEMATTRS_MESSAGING_MESSAGE_ID:()=>L8,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>D8,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>I8,SEMATTRS_MESSAGING_OPERATION:()=>x8,SEMATTRS_MESSAGING_PROTOCOL:()=>C8,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>g8,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>b8,SEMATTRS_MESSAGING_SYSTEM:()=>R8,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>P8,SEMATTRS_MESSAGING_URL:()=>y8,SEMATTRS_NET_HOST_CARRIER_ICC:()=>y6,SEMATTRS_NET_HOST_CARRIER_MCC:()=>C6,SEMATTRS_NET_HOST_CARRIER_MNC:()=>g6,SEMATTRS_NET_HOST_CARRIER_NAME:()=>P6,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>M6,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>N6,SEMATTRS_NET_HOST_IP:()=>m6,SEMATTRS_NET_HOST_NAME:()=>R6,SEMATTRS_NET_HOST_PORT:()=>O6,SEMATTRS_NET_PEER_IP:()=>f6,SEMATTRS_NET_PEER_NAME:()=>A6,SEMATTRS_NET_PEER_PORT:()=>h6,SEMATTRS_NET_TRANSPORT:()=>T6,SEMATTRS_PEER_SERVICE:()=>L6,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>q8,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>j8,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>z8,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>W8,SEMATTRS_RPC_JSONRPC_VERSION:()=>K8,SEMATTRS_RPC_METHOD:()=>Y8,SEMATTRS_RPC_SERVICE:()=>H8,SEMATTRS_RPC_SYSTEM:()=>F8,SEMATTRS_THREAD_ID:()=>x6,SEMATTRS_THREAD_NAME:()=>U6,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>H$,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>F$,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>Y$,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>q$,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>K$,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>W$,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>j$,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>$$,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>z$,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>J$,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>X$,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>w$,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>G$,SEMRESATTRS_CLOUD_PLATFORM:()=>k$,SEMRESATTRS_CLOUD_PROVIDER:()=>V$,SEMRESATTRS_CLOUD_REGION:()=>B$,SEMRESATTRS_CONTAINER_ID:()=>Z$,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>tX,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>rX,SEMRESATTRS_CONTAINER_NAME:()=>Q$,SEMRESATTRS_CONTAINER_RUNTIME:()=>eX,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>nX,SEMRESATTRS_DEVICE_ID:()=>oX,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>iX,SEMRESATTRS_DEVICE_MODEL_NAME:()=>sX,SEMRESATTRS_FAAS_ID:()=>cX,SEMRESATTRS_FAAS_INSTANCE:()=>uX,SEMRESATTRS_FAAS_MAX_MEMORY:()=>EX,SEMRESATTRS_FAAS_NAME:()=>aX,SEMRESATTRS_FAAS_VERSION:()=>lX,SEMRESATTRS_HOST_ARCH:()=>dX,SEMRESATTRS_HOST_ID:()=>SX,SEMRESATTRS_HOST_IMAGE_ID:()=>fX,SEMRESATTRS_HOST_IMAGE_NAME:()=>TX,SEMRESATTRS_HOST_IMAGE_VERSION:()=>hX,SEMRESATTRS_HOST_NAME:()=>_X,SEMRESATTRS_HOST_TYPE:()=>pX,SEMRESATTRS_K8S_CLUSTER_NAME:()=>AX,SEMRESATTRS_K8S_CONTAINER_NAME:()=>PX,SEMRESATTRS_K8S_CRONJOB_NAME:()=>wX,SEMRESATTRS_K8S_CRONJOB_UID:()=>VX,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>xX,SEMRESATTRS_K8S_DAEMONSET_UID:()=>DX,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>LX,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>yX,SEMRESATTRS_K8S_JOB_NAME:()=>bX,SEMRESATTRS_K8S_JOB_UID:()=>UX,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>RX,SEMRESATTRS_K8S_NODE_NAME:()=>mX,SEMRESATTRS_K8S_NODE_UID:()=>OX,SEMRESATTRS_K8S_POD_NAME:()=>MX,SEMRESATTRS_K8S_POD_UID:()=>NX,SEMRESATTRS_K8S_REPLICASET_NAME:()=>gX,SEMRESATTRS_K8S_REPLICASET_UID:()=>CX,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>IX,SEMRESATTRS_K8S_STATEFULSET_UID:()=>vX,SEMRESATTRS_OS_DESCRIPTION:()=>GX,SEMRESATTRS_OS_NAME:()=>kX,SEMRESATTRS_OS_TYPE:()=>BX,SEMRESATTRS_OS_VERSION:()=>FX,SEMRESATTRS_PROCESS_COMMAND:()=>KX,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>jX,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>WX,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>YX,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>qX,SEMRESATTRS_PROCESS_OWNER:()=>zX,SEMRESATTRS_PROCESS_PID:()=>HX,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>JX,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>$X,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>XX,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>e5,SEMRESATTRS_SERVICE_NAME:()=>QX,SEMRESATTRS_SERVICE_NAMESPACE:()=>ZX,SEMRESATTRS_SERVICE_VERSION:()=>t5,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>i5,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>n5,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>r5,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>o5,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>c5,SEMRESATTRS_WEBENGINE_NAME:()=>s5,SEMRESATTRS_WEBENGINE_VERSION:()=>a5,SemanticAttributes:()=>Z8,SemanticResourceAttributes:()=>l5,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>rJ,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>nJ,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>oJ,TELEMETRYSDKLANGUAGEVALUES_GO:()=>iJ,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>sJ,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>aJ,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>cJ,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>lJ,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>uJ,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>EJ,TelemetrySdkLanguageValues:()=>SJ});var oV=p(()=>{vU();rV()});function Mr(o={}){let e={};return Object.entries(o).forEach(([t,i])=>{typeof i<"u"?e[t]=String(i):R.warn(`Header "${t}" has invalid value (${i}) and will be ignored`)}),e}function yi(o,e){return o.endsWith("/")||(o=o+"/"),o+e}function Li(o){try{let e=new URL(o);return e.pathname===""&&(e.pathname=e.pathname+"/"),e.toString()}catch{return R.warn(`Could not parse export URL: '${o}'`),o}}function OE(o){return typeof o=="number"?o<=0?RE(o,iV):o:_J()}function _J(){var o;let e=Number((o=X().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&o!==void 0?o:X().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?RE(e,iV):e}function RE(o,e){return R.warn("Timeout must be greater than 0",o),e}function NE(o){return[429,502,503,504].includes(o)}function ME(o){if(o==null)return-1;let e=Number.parseInt(o,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let t=new Date(o).getTime()-Date.now();return t>=0?t:0}var iV,fE,hE,AE,mE,Co=p(()=>{U();$();iV=1e4,fE=5,hE=1e3,AE=5e3,mE=1.5});var Cn,PE=p(()=>{U();$();Co();Cn=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Qe(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:30,this.timeoutMillis=OE(e.timeoutMillis),this.onInit(e)}export(e,t){if(this._shutdownOnce.isCalled){t({code:te.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:te.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(()=>{t({code:te.SUCCESS})}).catch(i=>{t({code:te.FAILED,error:i})})}_export(e){return new Promise((t,i)=>{try{R.debug("items to be sent",e),this.send(e,t,i)}catch(s){i(s)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return R.debug("shutdown started"),this.onShutdown(),this.forceFlush()}}});var Pr,jT=p(()=>{(function(o){o.NONE="none",o.GZIP="gzip"})(Pr||(Pr={}))});var lt,CE=p(()=>{lt=class extends Error{constructor(e,t,i){super(e),this.name="OTLPExporterError",this.data=i,this.code=t}}});import*as zT from"url";import*as gE from"http";import*as yE from"https";import*as sV from"zlib";import{Readable as pJ}from"stream";function Xa(o,e,t,i,s){let a=o.timeoutMillis,n=new zT.URL(o.url),r=Number(process.versions.node.split(".")[0]),c,l,u=!1,E=setTimeout(()=>{if(clearTimeout(c),u=!0,l.destroyed){let m=new lt("Request Timeout");s(m)}else r>=14?l.destroy():l.abort()},a),T={hostname:n.hostname,port:n.port,path:n.pathname,method:"POST",headers:Object.assign({"Content-Type":t},o.headers),agent:o.agent},f=n.protocol==="http:"?gE.request:yE.request,N=(m=fE,P=hE)=>{switch(l=f(T,M=>{let g="";M.on("data",x=>g+=x),M.on("aborted",()=>{if(u){let x=new lt("Request Timeout");s(x)}}),M.on("end",()=>{if(u===!1)if(M.statusCode&&M.statusCode<299)R.debug(`statusCode: ${M.statusCode}`,g),i(),clearTimeout(E),clearTimeout(c);else if(M.statusCode&&NE(M.statusCode)&&m>0){let x;P=mE*P,M.headers["retry-after"]?x=ME(M.headers["retry-after"]):x=Math.round(Math.random()*(AE-P)+P),c=setTimeout(()=>{N(m-1,P)},x)}else{let x=new lt(M.statusMessage,M.statusCode,g);s(x),clearTimeout(E),clearTimeout(c)}})}),l.on("error",M=>{if(u){let g=new lt("Request Timeout",M.code);s(g)}else s(M);clearTimeout(E),clearTimeout(c)}),l.on("abort",()=>{if(u){let M=new lt("Request Timeout");s(M)}clearTimeout(E),clearTimeout(c)}),o.compression){case Pr.GZIP:{l.setHeader("Content-Encoding","gzip"),dJ(e).on("error",s).pipe(sV.createGzip()).on("error",s).pipe(l);break}default:l.end(Buffer.from(e));break}};N()}function dJ(o){let e=new pJ;return e.push(o),e.push(null),e}function Ja(o){if(o.httpAgentOptions&&o.keepAlive===!1){R.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(o.keepAlive===!1||!o.url))try{let t=new zT.URL(o.url).protocol==="http:"?gE.Agent:yE.Agent;return new t(Object.assign({keepAlive:!0},o.httpAgentOptions))}catch(e){R.error(`collector exporter failed to create http agent. err: ${e.message}`);return}}function Qa(o){return o||((X().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||X().OTEL_EXPORTER_OTLP_COMPRESSION)===Pr.GZIP?Pr.GZIP:Pr.NONE)}var $T=p(()=>{U();jT();$();CE();Co()});var Zr,aV=p(()=>{PE();Co();$T();U();$();Zr=class extends Cn{constructor(e={},t,i){super(e),this.DEFAULT_HEADERS={},this._contentType=i,e.metadata&&R.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,Mr(e.headers),ir.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=Ja(e),this.compression=Qa(e.compression),this._serializer=t}onInit(e){}send(e,t,i){if(this._shutdownOnce.isCalled){R.debug("Shutdown already started. Cannot send objects");return}let s=new Promise((n,r)=>{var c;Xa(this,(c=this._serializer.serializeRequest(e))!==null&&c!==void 0?c:new Uint8Array,this._contentType,n,r)}).then(t,i);this._sendingPromises.push(s);let a=()=>{let n=this._sendingPromises.indexOf(s);this._sendingPromises.splice(n,1)};s.then(a,a)}onShutdown(){}}});var cV=p(()=>{aV();$T();jT()});function lV(o,e,t,i,s){if(navigator.sendBeacon(e,new Blob([o],t)))R.debug("sendBeacon - can send",o),i();else{let a=new lt(`sendBeacon - cannot send ${o}`);s(a)}}function Za(o,e,t,i,s,a){let n,r,c=!1,l=setTimeout(()=>{if(clearTimeout(n),c=!0,r.readyState===XMLHttpRequest.DONE){let E=new lt("Request Timeout");a(E)}else r.abort()},i),u=(E=fE,T=hE)=>{r=new XMLHttpRequest,r.open("POST",e),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),t)).forEach(([N,m])=>{r.setRequestHeader(N,m)}),r.send(o),r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE&&c===!1)if(r.status>=200&&r.status<=299)R.debug("xhr success",o),s(),clearTimeout(l),clearTimeout(n);else if(r.status&&NE(r.status)&&E>0){let N;T=mE*T,r.getResponseHeader("Retry-After")?N=ME(r.getResponseHeader("Retry-After")):N=Math.round(Math.random()*(AE-T)+T),n=setTimeout(()=>{u(E-1,T)},N)}else{let N=new lt(`Failed to export with XHR (status: ${r.status})`,r.status);a(N),clearTimeout(l),clearTimeout(n)}},r.onabort=()=>{if(c){let N=new lt("Request Timeout");a(N)}clearTimeout(l),clearTimeout(n)},r.onerror=()=>{if(c){let N=new lt("Request Timeout");a(N)}clearTimeout(l),clearTimeout(n)}};u()}var XT=p(()=>{U();CE();Co()});var ec,uV=p(()=>{PE();Co();XT();U();$();ec=class extends Cn{constructor(e={},t,i){super(e),this._useXHR=!1,this._serializer=t,this._contentType=i,this._useXHR=!!e.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},Mr(e.headers),ir.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){}onShutdown(){}send(e,t,i){var s;if(this._shutdownOnce.isCalled){R.debug("Shutdown already started. Cannot send objects");return}let a=(s=this._serializer.serializeRequest(e))!==null&&s!==void 0?s:new Uint8Array,n=new Promise((c,l)=>{this._useXHR?Za(a,this.url,Object.assign(Object.assign({},this._headers),{"Content-Type":this._contentType}),this.timeoutMillis,c,l):lV(a,this.url,{type:this._contentType},c,l)}).then(t,i);this._sendingPromises.push(n);let r=()=>{let c=this._sendingPromises.indexOf(n);this._sendingPromises.splice(c,1)};n.then(r,r)}}});var EV=p(()=>{uV();XT()});var SV=p(()=>{cV();EV()});var JT={};Ie(JT,{CompressionAlgorithm:()=>Pr,OTLPExporterBase:()=>Cn,OTLPExporterBrowserBase:()=>ec,OTLPExporterError:()=>lt,OTLPExporterNodeBase:()=>Zr,appendResourcePathToUrl:()=>yi,appendRootPathToUrlIfNeeded:()=>Li,configureCompression:()=>Qa,configureExporterTimeout:()=>OE,createHttpAgent:()=>Ja,invalidTimeout:()=>RE,parseHeaders:()=>Mr,sendWithHttp:()=>Xa,sendWithXhr:()=>Za});var vi=p(()=>{SV();PE();CE();Co()});var _V=p(()=>{});function QT(o){let e=BigInt(1e9);return BigInt(o[0])*e+BigInt(o[1])}function dV(o){let e=Number(BigInt.asUintN(32,o)),t=Number(BigInt.asUintN(32,o>>BigInt(32)));return{low:e,high:t}}function ZT(o){let e=QT(o);return dV(e)}function TV(o){return QT(o).toString()}function pV(o){return o}function fV(o){if(o!==void 0)return so(o)}function go(o){var e,t;if(o===void 0)return fJ;let i=(e=o.useLongBits)!==null&&e!==void 0?e:!0,s=(t=o.useHex)!==null&&t!==void 0?t:!1;return{encodeHrTime:i?ZT:TJ,encodeSpanContext:s?pV:so,encodeOptionalSpanContext:s?pV:fV}}var TJ,fJ,tc=p(()=>{$();TJ=typeof BigInt<"u"?TV:Dp;fJ={encodeHrTime:ZT,encodeSpanContext:so,encodeOptionalSpanContext:fV}});var hV=p(()=>{});var AV=p(()=>{});var ef,mV=p(()=>{(function(o){o[o.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",o[o.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",o[o.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",o[o.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",o[o.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",o[o.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(ef||(ef={}))});var OV=p(()=>{});function Ii(o){return{name:o.name,version:o.version}}function Cr(o){return Object.keys(o).map(e=>LE(e,o[e]))}function LE(o,e){return{key:o,value:vE(e)}}function vE(o){let e=typeof o;return e==="string"?{stringValue:o}:e==="number"?Number.isInteger(o)?{intValue:o}:{doubleValue:o}:e==="boolean"?{boolValue:o}:o instanceof Uint8Array?{bytesValue:o}:Array.isArray(o)?{arrayValue:{values:o.map(vE)}}:e==="object"&&o!=null?{kvlistValue:{values:Object.entries(o).map(([t,i])=>LE(t,i))}}:{}}var Di=p(()=>{});function RV(o,e){var t;let i=o.spanContext(),s=o.status;return{traceId:e.encodeSpanContext(i.traceId),spanId:e.encodeSpanContext(i.spanId),parentSpanId:e.encodeOptionalSpanContext(o.parentSpanId),traceState:(t=i.traceState)===null||t===void 0?void 0:t.serialize(),name:o.name,kind:o.kind==null?0:o.kind+1,startTimeUnixNano:e.encodeHrTime(o.startTime),endTimeUnixNano:e.encodeHrTime(o.endTime),attributes:Cr(o.attributes),droppedAttributesCount:o.droppedAttributesCount,events:o.events.map(a=>AJ(a,e)),droppedEventsCount:o.droppedEventsCount,status:{code:s.code,message:s.message},links:o.links.map(a=>hJ(a,e)),droppedLinksCount:o.droppedLinksCount}}function hJ(o,e){var t;return{attributes:o.attributes?Cr(o.attributes):[],spanId:e.encodeSpanContext(o.context.spanId),traceId:e.encodeSpanContext(o.context.traceId),traceState:(t=o.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:o.droppedAttributesCount||0}}function AJ(o,e){return{attributes:o.attributes?Cr(o.attributes):[],name:o.name,timeUnixNano:e.encodeHrTime(o.time),droppedAttributesCount:o.droppedAttributesCount||0}}var NV=p(()=>{Di()});function xi(o){return{attributes:Cr(o.attributes),droppedAttributesCount:0}}var IE=p(()=>{Di()});function gn(o,e){let t=go(e);return{resourceSpans:OJ(o,t)}}function mJ(o){let e=new Map;for(let t of o){let i=e.get(t.resource);i||(i=new Map,e.set(t.resource,i));let s=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,a=i.get(s);a||(a=[],i.set(s,a)),a.push(t)}return e}function OJ(o,e){let t=mJ(o),i=[],s=t.entries(),a=s.next();for(;!a.done;){let[n,r]=a.value,c=[],l=r.values(),u=l.next();for(;!u.done;){let T=u.value;if(T.length>0){let f=T.map(N=>RV(N,e));c.push({scope:Ii(T[0].instrumentationLibrary),spans:f,schemaUrl:T[0].instrumentationLibrary.schemaUrl})}u=l.next()}let E={resource:xi(n),scopeSpans:c,schemaUrl:void 0};i.push(E),a=s.next()}return i}var DE=p(()=>{NV();tc();Di();IE()});function PV(o,e){let t=go(e);return{resource:xi(o.resource),schemaUrl:void 0,scopeMetrics:RJ(o.scopeMetrics,t)}}function RJ(o,e){return Array.from(o.map(t=>({scope:Ii(t.scope),metrics:t.metrics.map(i=>NJ(i,e)),schemaUrl:t.scope.schemaUrl})))}function NJ(o,e){let t={name:o.descriptor.name,description:o.descriptor.description,unit:o.descriptor.unit},i=gJ(o.aggregationTemporality);switch(o.dataPointType){case Ze.SUM:t.sum={aggregationTemporality:i,isMonotonic:o.isMonotonic,dataPoints:MV(o,e)};break;case Ze.GAUGE:t.gauge={dataPoints:MV(o,e)};break;case Ze.HISTOGRAM:t.histogram={aggregationTemporality:i,dataPoints:PJ(o,e)};break;case Ze.EXPONENTIAL_HISTOGRAM:t.exponentialHistogram={aggregationTemporality:i,dataPoints:CJ(o,e)};break}return t}function MJ(o,e,t){let i={attributes:Cr(o.attributes),startTimeUnixNano:t.encodeHrTime(o.startTime),timeUnixNano:t.encodeHrTime(o.endTime)};switch(e){case mt.INT:i.asInt=o.value;break;case mt.DOUBLE:i.asDouble=o.value;break}return i}function MV(o,e){return o.dataPoints.map(t=>MJ(t,o.descriptor.valueType,e))}function PJ(o,e){return o.dataPoints.map(t=>{let i=t.value;return{attributes:Cr(t.attributes),bucketCounts:i.buckets.counts,explicitBounds:i.buckets.boundaries,count:i.count,sum:i.sum,min:i.min,max:i.max,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function CJ(o,e){return o.dataPoints.map(t=>{let i=t.value;return{attributes:Cr(t.attributes),count:i.count,min:i.min,max:i.max,sum:i.sum,positive:{offset:i.positive.offset,bucketCounts:i.positive.bucketCounts},negative:{offset:i.negative.offset,bucketCounts:i.negative.bucketCounts},scale:i.scale,zeroCount:i.zeroCount,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function gJ(o){switch(o){case sr.DELTA:return 1;case sr.CUMULATIVE:return 2}}var CV=p(()=>{U();yu();tc();Di();IE()});function Ui(o,e){return{resourceMetrics:o.map(t=>PV(t,e))}}var xE=p(()=>{CV()});function bi(o,e){let t=go(e);return{resourceLogs:LJ(o,t)}}function yJ(o){let e=new Map;for(let t of o){let{resource:i,instrumentationScope:{name:s,version:a="",schemaUrl:n=""}}=t,r=e.get(i);r||(r=new Map,e.set(i,r));let c=`${s}@${a}:${n}`,l=r.get(c);l||(l=[],r.set(c,l)),l.push(t)}return e}function LJ(o,e){let t=yJ(o);return Array.from(t,([i,s])=>({resource:xi(i),scopeLogs:Array.from(s,([,a])=>({scope:Ii(a[0].instrumentationScope),logRecords:a.map(n=>vJ(n,e)),schemaUrl:a[0].instrumentationScope.schemaUrl})),schemaUrl:void 0}))}function vJ(o,e){var t,i,s;return{timeUnixNano:e.encodeHrTime(o.hrTime),observedTimeUnixNano:e.encodeHrTime(o.hrTimeObserved),severityNumber:o.severityNumber,severityText:o.severityText,body:vE(o.body),attributes:IJ(o.attributes),droppedAttributesCount:o.droppedAttributesCount,flags:(t=o.spanContext)===null||t===void 0?void 0:t.traceFlags,traceId:e.encodeOptionalSpanContext((i=o.spanContext)===null||i===void 0?void 0:i.traceId),spanId:e.encodeOptionalSpanContext((s=o.spanContext)===null||s===void 0?void 0:s.spanId)}}function IJ(o){return Object.keys(o).map(e=>LE(e,o[e]))}var UE=p(()=>{tc();Di();IE()});var tf=h((OOe,gV)=>{"use strict";gV.exports=DJ;function DJ(o,e){for(var t=new Array(arguments.length-1),i=0,s=2,a=!0;s<arguments.length;)t[i++]=arguments[s++];return new Promise(function(r,c){t[i]=function(u){if(a)if(a=!1,u)c(u);else{for(var E=new Array(arguments.length-1),T=0;T<E.length;)E[T++]=arguments[T];r.apply(null,E)}};try{o.apply(e||null,t)}catch(l){a&&(a=!1,c(l))}})}});var IV=h(vV=>{"use strict";var bE=vV;bE.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&e.charAt(t)==="=";)++i;return Math.ceil(e.length*3)/4-i};var Vi=new Array(64),LV=new Array(123);for(cr=0;cr<64;)LV[Vi[cr]=cr<26?cr+65:cr<52?cr+71:cr<62?cr-4:cr-59|43]=cr++;var cr;bE.encode=function(e,t,i){for(var s=null,a=[],n=0,r=0,c;t<i;){var l=e[t++];switch(r){case 0:a[n++]=Vi[l>>2],c=(l&3)<<4,r=1;break;case 1:a[n++]=Vi[c|l>>4],c=(l&15)<<2,r=2;break;case 2:a[n++]=Vi[c|l>>6],a[n++]=Vi[l&63],r=0;break}n>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),n=0)}return r&&(a[n++]=Vi[c],a[n++]=61,r===1&&(a[n++]=61)),s?(n&&s.push(String.fromCharCode.apply(String,a.slice(0,n))),s.join("")):String.fromCharCode.apply(String,a.slice(0,n))};var yV="invalid encoding";bE.decode=function(e,t,i){for(var s=i,a=0,n,r=0;r<e.length;){var c=e.charCodeAt(r++);if(c===61&&a>1)break;if((c=LV[c])===void 0)throw Error(yV);switch(a){case 0:n=c,a=1;break;case 1:t[i++]=n<<2|(c&48)>>4,n=c,a=2;break;case 2:t[i++]=(n&15)<<4|(c&60)>>2,n=c,a=3;break;case 3:t[i++]=(n&3)<<6|c,a=0;break}}if(a===1)throw Error(yV);return i-s};bE.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var xV=h((NOe,DV)=>{"use strict";DV.exports=VE;function VE(){this._listeners={}}VE.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this};VE.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],s=0;s<i.length;)i[s].fn===t?i.splice(s,1):++s;return this};VE.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],s=1;s<arguments.length;)i.push(arguments[s++]);for(s=0;s<t.length;)t[s].fn.apply(t[s++].ctx,i)}return this}});var kV=h((MOe,GV)=>{"use strict";GV.exports=UV(UV);function UV(o){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),i=t[3]===128;function s(c,l,u){e[0]=c,l[u]=t[0],l[u+1]=t[1],l[u+2]=t[2],l[u+3]=t[3]}function a(c,l,u){e[0]=c,l[u]=t[3],l[u+1]=t[2],l[u+2]=t[1],l[u+3]=t[0]}o.writeFloatLE=i?s:a,o.writeFloatBE=i?a:s;function n(c,l){return t[0]=c[l],t[1]=c[l+1],t[2]=c[l+2],t[3]=c[l+3],e[0]}function r(c,l){return t[3]=c[l],t[2]=c[l+1],t[1]=c[l+2],t[0]=c[l+3],e[0]}o.readFloatLE=i?n:r,o.readFloatBE=i?r:n}():function(){function e(i,s,a,n){var r=s<0?1:0;if(r&&(s=-s),s===0)i(1/s>0?0:2147483648,a,n);else if(isNaN(s))i(2143289344,a,n);else if(s>34028234663852886e22)i((r<<31|2139095040)>>>0,a,n);else if(s<11754943508222875e-54)i((r<<31|Math.round(s/1401298464324817e-60))>>>0,a,n);else{var c=Math.floor(Math.log(s)/Math.LN2),l=Math.round(s*Math.pow(2,-c)*8388608)&8388607;i((r<<31|c+127<<23|l)>>>0,a,n)}}o.writeFloatLE=e.bind(null,bV),o.writeFloatBE=e.bind(null,VV);function t(i,s,a){var n=i(s,a),r=(n>>31)*2+1,c=n>>>23&255,l=n&8388607;return c===255?l?NaN:r*(1/0):c===0?r*1401298464324817e-60*l:r*Math.pow(2,c-150)*(l+8388608)}o.readFloatLE=t.bind(null,wV),o.readFloatBE=t.bind(null,BV)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),i=t[7]===128;function s(c,l,u){e[0]=c,l[u]=t[0],l[u+1]=t[1],l[u+2]=t[2],l[u+3]=t[3],l[u+4]=t[4],l[u+5]=t[5],l[u+6]=t[6],l[u+7]=t[7]}function a(c,l,u){e[0]=c,l[u]=t[7],l[u+1]=t[6],l[u+2]=t[5],l[u+3]=t[4],l[u+4]=t[3],l[u+5]=t[2],l[u+6]=t[1],l[u+7]=t[0]}o.writeDoubleLE=i?s:a,o.writeDoubleBE=i?a:s;function n(c,l){return t[0]=c[l],t[1]=c[l+1],t[2]=c[l+2],t[3]=c[l+3],t[4]=c[l+4],t[5]=c[l+5],t[6]=c[l+6],t[7]=c[l+7],e[0]}function r(c,l){return t[7]=c[l],t[6]=c[l+1],t[5]=c[l+2],t[4]=c[l+3],t[3]=c[l+4],t[2]=c[l+5],t[1]=c[l+6],t[0]=c[l+7],e[0]}o.readDoubleLE=i?n:r,o.readDoubleBE=i?r:n}():function(){function e(i,s,a,n,r,c){var l=n<0?1:0;if(l&&(n=-n),n===0)i(0,r,c+s),i(1/n>0?0:2147483648,r,c+a);else if(isNaN(n))i(0,r,c+s),i(2146959360,r,c+a);else if(n>17976931348623157e292)i(0,r,c+s),i((l<<31|2146435072)>>>0,r,c+a);else{var u;if(n<22250738585072014e-324)u=n/5e-324,i(u>>>0,r,c+s),i((l<<31|u/4294967296)>>>0,r,c+a);else{var E=Math.floor(Math.log(n)/Math.LN2);E===1024&&(E=1023),u=n*Math.pow(2,-E),i(u*4503599627370496>>>0,r,c+s),i((l<<31|E+1023<<20|u*1048576&1048575)>>>0,r,c+a)}}}o.writeDoubleLE=e.bind(null,bV,0,4),o.writeDoubleBE=e.bind(null,VV,4,0);function t(i,s,a,n,r){var c=i(n,r+s),l=i(n,r+a),u=(l>>31)*2+1,E=l>>>20&2047,T=4294967296*(l&1048575)+c;return E===2047?T?NaN:u*(1/0):E===0?u*5e-324*T:u*Math.pow(2,E-1075)*(T+4503599627370496)}o.readDoubleLE=t.bind(null,wV,0,4),o.readDoubleBE=t.bind(null,BV,4,0)}(),o}function bV(o,e,t){e[t]=o&255,e[t+1]=o>>>8&255,e[t+2]=o>>>16&255,e[t+3]=o>>>24}function VV(o,e,t){e[t]=o>>>24,e[t+1]=o>>>16&255,e[t+2]=o>>>8&255,e[t+3]=o&255}function wV(o,e){return(o[e]|o[e+1]<<8|o[e+2]<<16|o[e+3]<<24)>>>0}function BV(o,e){return(o[e]<<24|o[e+1]<<16|o[e+2]<<8|o[e+3])>>>0}});var rf=h((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}});var HV=h(FV=>{"use strict";var nf=FV;nf.length=function(e){for(var t=0,i=0,s=0;s<e.length;++s)i=e.charCodeAt(s),i<128?t+=1:i<2048?t+=2:(i&64512)===55296&&(e.charCodeAt(s+1)&64512)===56320?(++s,t+=4):t+=3;return t};nf.read=function(e,t,i){var s=i-t;if(s<1)return"";for(var a=null,n=[],r=0,c;t<i;)c=e[t++],c<128?n[r++]=c:c>191&&c<224?n[r++]=(c&31)<<6|e[t++]&63:c>239&&c<365?(c=((c&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n[r++]=55296+(c>>10),n[r++]=56320+(c&1023)):n[r++]=(c&15)<<12|(e[t++]&63)<<6|e[t++]&63,r>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,n)),r=0);return a?(r&&a.push(String.fromCharCode.apply(String,n.slice(0,r))),a.join("")):String.fromCharCode.apply(String,n.slice(0,r))};nf.write=function(e,t,i){for(var s=i,a,n,r=0;r<e.length;++r)a=e.charCodeAt(r),a<128?t[i++]=a:a<2048?(t[i++]=a>>6|192,t[i++]=a&63|128):(a&64512)===55296&&((n=e.charCodeAt(r+1))&64512)===56320?(a=65536+((a&1023)<<10)+(n&1023),++r,t[i++]=a>>18|240,t[i++]=a>>12&63|128,t[i++]=a>>6&63|128,t[i++]=a&63|128):(t[i++]=a>>12|224,t[i++]=a>>6&63|128,t[i++]=a&63|128);return i-s}});var qV=h((COe,YV)=>{"use strict";YV.exports=xJ;function xJ(o,e,t){var i=t||8192,s=i>>>1,a=null,n=i;return function(c){if(c<1||c>s)return o(c);n+c>i&&(a=o(i),n=0);var l=e.call(a,n,n+=c);return n&7&&(n=(n|7)+1),l}}});var WV=h((gOe,KV)=>{"use strict";KV.exports=We;var rc=gr();function We(o,e){this.lo=o>>>0,this.hi=e>>>0}var yo=We.zero=new We(0,0);yo.toNumber=function(){return 0};yo.zzEncode=yo.zzDecode=function(){return this};yo.length=function(){return 1};var UJ=We.zeroHash="\0\0\0\0\0\0\0\0";We.fromNumber=function(e){if(e===0)return yo;var t=e<0;t&&(e=-e);var i=e>>>0,s=(e-i)/4294967296>>>0;return t&&(s=~s>>>0,i=~i>>>0,++i>4294967295&&(i=0,++s>4294967295&&(s=0))),new We(i,s)};We.from=function(e){if(typeof e=="number")return We.fromNumber(e);if(rc.isString(e))if(rc.Long)e=rc.Long.fromString(e);else return We.fromNumber(parseInt(e,10));return e.low||e.high?new We(e.low>>>0,e.high>>>0):yo};We.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+i*4294967296)}return this.lo+this.hi*4294967296};We.prototype.toLong=function(e){return rc.Long?new rc.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var yn=String.prototype.charCodeAt;We.fromHash=function(e){return e===UJ?yo:new We((yn.call(e,0)|yn.call(e,1)<<8|yn.call(e,2)<<16|yn.call(e,3)<<24)>>>0,(yn.call(e,4)|yn.call(e,5)<<8|yn.call(e,6)<<16|yn.call(e,7)<<24)>>>0)};We.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};We.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};We.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};We.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}});var gr=h(of=>{"use strict";var H=of;H.asPromise=tf();H.base64=IV();H.EventEmitter=xV();H.float=kV();H.inquire=rf();H.utf8=HV();H.pool=qV();H.LongBits=WV();H.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);H.global=H.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||of;H.emptyArray=Object.freeze?Object.freeze([]):[];H.emptyObject=Object.freeze?Object.freeze({}):{};H.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};H.isString=function(e){return typeof e=="string"||e instanceof String};H.isObject=function(e){return e&&typeof e=="object"};H.isset=H.isSet=function(e,t){var i=e[t];return i!=null&&e.hasOwnProperty(t)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};H.Buffer=function(){try{var o=H.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}();H._Buffer_from=null;H._Buffer_allocUnsafe=null;H.newBuffer=function(e){return typeof e=="number"?H.Buffer?H._Buffer_allocUnsafe(e):new H.Array(e):H.Buffer?H._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};H.Array=typeof Uint8Array<"u"?Uint8Array:Array;H.Long=H.global.dcodeIO&&H.global.dcodeIO.Long||H.global.Long||H.inquire("long");H.key2Re=/^true|false|0|1$/;H.key32Re=/^-?(?:0|[1-9][0-9]*)$/;H.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;H.longToHash=function(e){return e?H.LongBits.from(e).toHash():H.LongBits.zeroHash};H.longFromHash=function(e,t){var i=H.LongBits.fromHash(e);return H.Long?H.Long.fromBits(i.lo,i.hi,t):i.toNumber(!!t)};function jV(o,e,t){for(var i=Object.keys(e),s=0;s<i.length;++s)(o[i[s]]===void 0||!t)&&(o[i[s]]=e[i[s]]);return o}H.merge=jV;H.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function zV(o){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&jV(this,i)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return o},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}H.newError=zV;H.ProtocolError=zV("ProtocolError");H.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var s=Object.keys(this),a=s.length-1;a>-1;--a)if(t[s[a]]===1&&this[s[a]]!==void 0&&this[s[a]]!==null)return s[a]}};H.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}};H.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};H._configure=function(){var o=H.Buffer;if(!o){H._Buffer_from=H._Buffer_allocUnsafe=null;return}H._Buffer_from=o.from!==Uint8Array.from&&o.from||function(t,i){return new o(t,i)},H._Buffer_allocUnsafe=o.allocUnsafe||function(t){return new o(t)}}});var BE=h((LOe,QV)=>{"use strict";QV.exports=fe;var Kt=gr(),sf,wE=Kt.LongBits,$V=Kt.base64,XV=Kt.utf8;function nc(o,e,t){this.fn=o,this.len=e,this.next=void 0,this.val=t}function cf(){}function bJ(o){this.head=o.head,this.tail=o.tail,this.len=o.len,this.next=o.states}function fe(){this.len=0,this.head=new nc(cf,0,0),this.tail=this.head,this.states=null}var JV=function(){return Kt.Buffer?function(){return(fe.create=function(){return new sf})()}:function(){return new fe}};fe.create=JV();fe.alloc=function(e){return new Kt.Array(e)};Kt.Array!==Array&&(fe.alloc=Kt.pool(fe.alloc,Kt.Array.prototype.subarray));fe.prototype._push=function(e,t,i){return this.tail=this.tail.next=new nc(e,t,i),this.len+=t,this};function lf(o,e,t){e[t]=o&255}function VJ(o,e,t){for(;o>127;)e[t++]=o&127|128,o>>>=7;e[t]=o}function uf(o,e){this.len=o,this.next=void 0,this.val=e}uf.prototype=Object.create(nc.prototype);uf.prototype.fn=VJ;fe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new uf((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};fe.prototype.int32=function(e){return e<0?this._push(Ef,10,wE.fromNumber(e)):this.uint32(e)};fe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Ef(o,e,t){for(;o.hi;)e[t++]=o.lo&127|128,o.lo=(o.lo>>>7|o.hi<<25)>>>0,o.hi>>>=7;for(;o.lo>127;)e[t++]=o.lo&127|128,o.lo=o.lo>>>7;e[t++]=o.lo}fe.prototype.uint64=function(e){var t=wE.from(e);return this._push(Ef,t.length(),t)};fe.prototype.int64=fe.prototype.uint64;fe.prototype.sint64=function(e){var t=wE.from(e).zzEncode();return this._push(Ef,t.length(),t)};fe.prototype.bool=function(e){return this._push(lf,1,e?1:0)};function af(o,e,t){e[t]=o&255,e[t+1]=o>>>8&255,e[t+2]=o>>>16&255,e[t+3]=o>>>24}fe.prototype.fixed32=function(e){return this._push(af,4,e>>>0)};fe.prototype.sfixed32=fe.prototype.fixed32;fe.prototype.fixed64=function(e){var t=wE.from(e);return this._push(af,4,t.lo)._push(af,4,t.hi)};fe.prototype.sfixed64=fe.prototype.fixed64;fe.prototype.float=function(e){return this._push(Kt.float.writeFloatLE,4,e)};fe.prototype.double=function(e){return this._push(Kt.float.writeDoubleLE,8,e)};var wJ=Kt.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var s=0;s<e.length;++s)t[i+s]=e[s]};fe.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(lf,1,0);if(Kt.isString(e)){var i=fe.alloc(t=$V.length(e));$V.decode(e,i,0),e=i}return this.uint32(t)._push(wJ,t,e)};fe.prototype.string=function(e){var t=XV.length(e);return t?this.uint32(t)._push(XV.write,t,e):this._push(lf,1,0)};fe.prototype.fork=function(){return this.states=new bJ(this),this.head=this.tail=new nc(cf,0,0),this.len=0,this};fe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new nc(cf,0,0),this.len=0),this};fe.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this};fe.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t};fe._configure=function(o){sf=o,fe.create=JV(),sf._configure()}});var tw=h((vOe,ew)=>{"use strict";ew.exports=yr;var ZV=BE();(yr.prototype=Object.create(ZV.prototype)).constructor=yr;var Ln=gr();function yr(){ZV.call(this)}yr._configure=function(){yr.alloc=Ln._Buffer_allocUnsafe,yr.writeBytesBuffer=Ln.Buffer&&Ln.Buffer.prototype instanceof Uint8Array&&Ln.Buffer.prototype.set.name==="set"?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var s=0;s<e.length;)t[i++]=e[s++]}};yr.prototype.bytes=function(e){Ln.isString(e)&&(e=Ln._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(yr.writeBytesBuffer,t,e),this};function BJ(o,e,t){o.length<40?Ln.utf8.write(o,e,t):e.utf8Write?e.utf8Write(o,t):e.write(o,t)}yr.prototype.string=function(e){var t=Ln.Buffer.byteLength(e);return this.uint32(t),t&&this._push(BJ,t,e),this};yr._configure()});var kE=h((IOe,sw)=>{"use strict";sw.exports=we;var lr=gr(),_f,ow=lr.LongBits,GJ=lr.utf8;function ur(o,e){return RangeError("index out of range: "+o.pos+" + "+(e||1)+" > "+o.len)}function we(o){this.buf=o,this.pos=0,this.len=o.length}var rw=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new we(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new we(e);throw Error("illegal buffer")},iw=function(){return lr.Buffer?function(t){return(we.create=function(s){return lr.Buffer.isBuffer(s)?new _f(s):rw(s)})(t)}:rw};we.create=iw();we.prototype._slice=lr.Array.prototype.subarray||lr.Array.prototype.slice;we.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,ur(this,10);return e}}();we.prototype.int32=function(){return this.uint32()|0};we.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Sf(){var o=new ow(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(o.lo=(o.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return o;if(o.lo=(o.lo|(this.buf[this.pos]&127)<<28)>>>0,o.hi=(o.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return o;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw ur(this);if(o.lo=(o.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return o}return o.lo=(o.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,o}if(this.len-this.pos>4){for(;e<5;++e)if(o.hi=(o.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return o}else for(;e<5;++e){if(this.pos>=this.len)throw ur(this);if(o.hi=(o.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return o}throw Error("invalid varint encoding")}we.prototype.bool=function(){return this.uint32()!==0};function GE(o,e){return(o[e-4]|o[e-3]<<8|o[e-2]<<16|o[e-1]<<24)>>>0}we.prototype.fixed32=function(){if(this.pos+4>this.len)throw ur(this,4);return GE(this.buf,this.pos+=4)};we.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ur(this,4);return GE(this.buf,this.pos+=4)|0};function nw(){if(this.pos+8>this.len)throw ur(this,8);return new ow(GE(this.buf,this.pos+=4),GE(this.buf,this.pos+=4))}we.prototype.float=function(){if(this.pos+4>this.len)throw ur(this,4);var e=lr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};we.prototype.double=function(){if(this.pos+8>this.len)throw ur(this,4);var e=lr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};we.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw ur(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,i);if(t===i){var s=lr.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,i)};we.prototype.string=function(){var e=this.bytes();return GJ.read(e,0,e.length)};we.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw ur(this,e);this.pos+=e}else do if(this.pos>=this.len)throw ur(this);while(this.buf[this.pos++]&128);return this};we.prototype.skipType=function(o){switch(o){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(o=this.uint32()&7)!==4;)this.skipType(o);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+o+" at offset "+this.pos)}return this};we._configure=function(o){_f=o,we.create=iw(),_f._configure();var e=lr.Long?"toLong":"toNumber";lr.merge(we.prototype,{int64:function(){return Sf.call(this)[e](!1)},uint64:function(){return Sf.call(this)[e](!0)},sint64:function(){return Sf.call(this).zzDecode()[e](!1)},fixed64:function(){return nw.call(this)[e](!0)},sfixed64:function(){return nw.call(this)[e](!1)}})}});var uw=h((DOe,lw)=>{"use strict";lw.exports=Lo;var cw=kE();(Lo.prototype=Object.create(cw.prototype)).constructor=Lo;var aw=gr();function Lo(o){cw.call(this,o)}Lo._configure=function(){aw.Buffer&&(Lo.prototype._slice=aw.Buffer.prototype.slice)};Lo.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Lo._configure()});var Sw=h((xOe,Ew)=>{"use strict";Ew.exports=oc;var pf=gr();(oc.prototype=Object.create(pf.EventEmitter.prototype)).constructor=oc;function oc(o,e,t){if(typeof o!="function")throw TypeError("rpcImpl must be a function");pf.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!e,this.responseDelimited=!!t}oc.prototype.rpcCall=function o(e,t,i,s,a){if(!s)throw TypeError("request must be specified");var n=this;if(!a)return pf.asPromise(o,n,e,t,i,s);if(!n.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return n.rpcImpl(e,t[n.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(c,l){if(c)return n.emit("error",c,e),a(c);if(l===null){n.end(!0);return}if(!(l instanceof i))try{l=i[n.responseDelimited?"decodeDelimited":"decode"](l)}catch(u){return n.emit("error",u,e),a(u)}return n.emit("data",l,e),a(null,l)})}catch(r){n.emit("error",r,e),setTimeout(function(){a(r)},0);return}};oc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var df=h(_w=>{"use strict";var kJ=_w;kJ.Service=Sw()});var Tf=h((bOe,pw)=>{"use strict";pw.exports={}});var ff=h(Tw=>{"use strict";var Mt=Tw;Mt.build="minimal";Mt.Writer=BE();Mt.BufferWriter=tw();Mt.Reader=kE();Mt.BufferReader=uw();Mt.util=gr();Mt.rpc=df();Mt.roots=Tf();Mt.configure=dw;function dw(){Mt.util._configure(),Mt.Writer._configure(Mt.BufferWriter),Mt.Reader._configure(Mt.BufferReader)}dw()});var hw=h((wOe,fw)=>{"use strict";fw.exports=ff()});var mw=h((BOe,Aw)=>{"use strict";var W=hw(),A=W.Reader,ne=W.Writer,_=W.util,S=W.roots.default||(W.roots.default={});S.opentelemetry=function(){var o={};return o.proto=function(){var e={};return e.common=function(){var t={};return t.v1=function(){var i={};return i.AnyValue=function(){function s(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var a;return Object.defineProperty(s.prototype,"value",{get:_.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:_.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,c){return c||(c=ne.create()),r.stringValue!=null&&Object.hasOwnProperty.call(r,"stringValue")&&c.uint32(10).string(r.stringValue),r.boolValue!=null&&Object.hasOwnProperty.call(r,"boolValue")&&c.uint32(16).bool(r.boolValue),r.intValue!=null&&Object.hasOwnProperty.call(r,"intValue")&&c.uint32(24).int64(r.intValue),r.doubleValue!=null&&Object.hasOwnProperty.call(r,"doubleValue")&&c.uint32(33).double(r.doubleValue),r.arrayValue!=null&&Object.hasOwnProperty.call(r,"arrayValue")&&S.opentelemetry.proto.common.v1.ArrayValue.encode(r.arrayValue,c.uint32(42).fork()).ldelim(),r.kvlistValue!=null&&Object.hasOwnProperty.call(r,"kvlistValue")&&S.opentelemetry.proto.common.v1.KeyValueList.encode(r.kvlistValue,c.uint32(50).fork()).ldelim(),r.bytesValue!=null&&Object.hasOwnProperty.call(r,"bytesValue")&&c.uint32(58).bytes(r.bytesValue),c},s.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},s.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.common.v1.AnyValue;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.stringValue=r.string();break}case 2:{u.boolValue=r.bool();break}case 3:{u.intValue=r.int64();break}case 4:{u.doubleValue=r.double();break}case 5:{u.arrayValue=S.opentelemetry.proto.common.v1.ArrayValue.decode(r,r.uint32());break}case 6:{u.kvlistValue=S.opentelemetry.proto.common.v1.KeyValueList.decode(r,r.uint32());break}case 7:{u.bytesValue=r.bytes();break}default:r.skipType(E&7);break}}return u},s.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var c={};if(r.stringValue!=null&&r.hasOwnProperty("stringValue")&&(c.value=1,!_.isString(r.stringValue)))return"stringValue: string expected";if(r.boolValue!=null&&r.hasOwnProperty("boolValue")){if(c.value===1)return"value: multiple values";if(c.value=1,typeof r.boolValue!="boolean")return"boolValue: boolean expected"}if(r.intValue!=null&&r.hasOwnProperty("intValue")){if(c.value===1)return"value: multiple values";if(c.value=1,!_.isInteger(r.intValue)&&!(r.intValue&&_.isInteger(r.intValue.low)&&_.isInteger(r.intValue.high)))return"intValue: integer|Long expected"}if(r.doubleValue!=null&&r.hasOwnProperty("doubleValue")){if(c.value===1)return"value: multiple values";if(c.value=1,typeof r.doubleValue!="number")return"doubleValue: number expected"}if(r.arrayValue!=null&&r.hasOwnProperty("arrayValue")){if(c.value===1)return"value: multiple values";c.value=1;{var l=S.opentelemetry.proto.common.v1.ArrayValue.verify(r.arrayValue);if(l)return"arrayValue."+l}}if(r.kvlistValue!=null&&r.hasOwnProperty("kvlistValue")){if(c.value===1)return"value: multiple values";c.value=1;{var l=S.opentelemetry.proto.common.v1.KeyValueList.verify(r.kvlistValue);if(l)return"kvlistValue."+l}}if(r.bytesValue!=null&&r.hasOwnProperty("bytesValue")){if(c.value===1)return"value: multiple values";if(c.value=1,!(r.bytesValue&&typeof r.bytesValue.length=="number"||_.isString(r.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(r){if(r instanceof S.opentelemetry.proto.common.v1.AnyValue)return r;var c=new S.opentelemetry.proto.common.v1.AnyValue;if(r.stringValue!=null&&(c.stringValue=String(r.stringValue)),r.boolValue!=null&&(c.boolValue=!!r.boolValue),r.intValue!=null&&(_.Long?(c.intValue=_.Long.fromValue(r.intValue)).unsigned=!1:typeof r.intValue=="string"?c.intValue=parseInt(r.intValue,10):typeof r.intValue=="number"?c.intValue=r.intValue:typeof r.intValue=="object"&&(c.intValue=new _.LongBits(r.intValue.low>>>0,r.intValue.high>>>0).toNumber())),r.doubleValue!=null&&(c.doubleValue=Number(r.doubleValue)),r.arrayValue!=null){if(typeof r.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");c.arrayValue=S.opentelemetry.proto.common.v1.ArrayValue.fromObject(r.arrayValue)}if(r.kvlistValue!=null){if(typeof r.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");c.kvlistValue=S.opentelemetry.proto.common.v1.KeyValueList.fromObject(r.kvlistValue)}return r.bytesValue!=null&&(typeof r.bytesValue=="string"?_.base64.decode(r.bytesValue,c.bytesValue=_.newBuffer(_.base64.length(r.bytesValue)),0):r.bytesValue.length>=0&&(c.bytesValue=r.bytesValue)),c},s.toObject=function(r,c){c||(c={});var l={};return r.stringValue!=null&&r.hasOwnProperty("stringValue")&&(l.stringValue=r.stringValue,c.oneofs&&(l.value="stringValue")),r.boolValue!=null&&r.hasOwnProperty("boolValue")&&(l.boolValue=r.boolValue,c.oneofs&&(l.value="boolValue")),r.intValue!=null&&r.hasOwnProperty("intValue")&&(typeof r.intValue=="number"?l.intValue=c.longs===String?String(r.intValue):r.intValue:l.intValue=c.longs===String?_.Long.prototype.toString.call(r.intValue):c.longs===Number?new _.LongBits(r.intValue.low>>>0,r.intValue.high>>>0).toNumber():r.intValue,c.oneofs&&(l.value="intValue")),r.doubleValue!=null&&r.hasOwnProperty("doubleValue")&&(l.doubleValue=c.json&&!isFinite(r.doubleValue)?String(r.doubleValue):r.doubleValue,c.oneofs&&(l.value="doubleValue")),r.arrayValue!=null&&r.hasOwnProperty("arrayValue")&&(l.arrayValue=S.opentelemetry.proto.common.v1.ArrayValue.toObject(r.arrayValue,c),c.oneofs&&(l.value="arrayValue")),r.kvlistValue!=null&&r.hasOwnProperty("kvlistValue")&&(l.kvlistValue=S.opentelemetry.proto.common.v1.KeyValueList.toObject(r.kvlistValue,c),c.oneofs&&(l.value="kvlistValue")),r.bytesValue!=null&&r.hasOwnProperty("bytesValue")&&(l.bytesValue=c.bytes===String?_.base64.encode(r.bytesValue,0,r.bytesValue.length):c.bytes===Array?Array.prototype.slice.call(r.bytesValue):r.bytesValue,c.oneofs&&(l.value="bytesValue")),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.common.v1.AnyValue"},s}(),i.ArrayValue=function(){function s(a){if(this.values=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.values=_.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.values!=null&&n.values.length)for(var c=0;c<n.values.length;++c)S.opentelemetry.proto.common.v1.AnyValue.encode(n.values[c],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.common.v1.ArrayValue;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.values&&l.values.length||(l.values=[]),l.values.push(S.opentelemetry.proto.common.v1.AnyValue.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.values!=null&&n.hasOwnProperty("values")){if(!Array.isArray(n.values))return"values: array expected";for(var r=0;r<n.values.length;++r){var c=S.opentelemetry.proto.common.v1.AnyValue.verify(n.values[r]);if(c)return"values."+c}}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.common.v1.ArrayValue)return n;var r=new S.opentelemetry.proto.common.v1.ArrayValue;if(n.values){if(!Array.isArray(n.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");r.values=[];for(var c=0;c<n.values.length;++c){if(typeof n.values[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");r.values[c]=S.opentelemetry.proto.common.v1.AnyValue.fromObject(n.values[c])}}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.values=[]),n.values&&n.values.length){c.values=[];for(var l=0;l<n.values.length;++l)c.values[l]=S.opentelemetry.proto.common.v1.AnyValue.toObject(n.values[l],r)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.ArrayValue"},s}(),i.KeyValueList=function(){function s(a){if(this.values=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.values=_.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.values!=null&&n.values.length)for(var c=0;c<n.values.length;++c)S.opentelemetry.proto.common.v1.KeyValue.encode(n.values[c],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.common.v1.KeyValueList;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.values&&l.values.length||(l.values=[]),l.values.push(S.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.values!=null&&n.hasOwnProperty("values")){if(!Array.isArray(n.values))return"values: array expected";for(var r=0;r<n.values.length;++r){var c=S.opentelemetry.proto.common.v1.KeyValue.verify(n.values[r]);if(c)return"values."+c}}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.common.v1.KeyValueList)return n;var r=new S.opentelemetry.proto.common.v1.KeyValueList;if(n.values){if(!Array.isArray(n.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");r.values=[];for(var c=0;c<n.values.length;++c){if(typeof n.values[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");r.values[c]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(n.values[c])}}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.values=[]),n.values&&n.values.length){c.values=[];for(var l=0;l<n.values.length;++l)c.values[l]=S.opentelemetry.proto.common.v1.KeyValue.toObject(n.values[l],r)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.KeyValueList"},s}(),i.KeyValue=function(){function s(a){if(a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(n){return new s(n)},s.encode=function(n,r){return r||(r=ne.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&S.opentelemetry.proto.common.v1.AnyValue.encode(n.value,r.uint32(18).fork()).ldelim(),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.common.v1.KeyValue;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.key=n.string();break}case 2:{l.value=S.opentelemetry.proto.common.v1.AnyValue.decode(n,n.uint32());break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.key!=null&&n.hasOwnProperty("key")&&!_.isString(n.key))return"key: string expected";if(n.value!=null&&n.hasOwnProperty("value")){var r=S.opentelemetry.proto.common.v1.AnyValue.verify(n.value);if(r)return"value."+r}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.common.v1.KeyValue)return n;var r=new S.opentelemetry.proto.common.v1.KeyValue;if(n.key!=null&&(r.key=String(n.key)),n.value!=null){if(typeof n.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");r.value=S.opentelemetry.proto.common.v1.AnyValue.fromObject(n.value)}return r},s.toObject=function(n,r){r||(r={});var c={};return r.defaults&&(c.key="",c.value=null),n.key!=null&&n.hasOwnProperty("key")&&(c.key=n.key),n.value!=null&&n.hasOwnProperty("value")&&(c.value=S.opentelemetry.proto.common.v1.AnyValue.toObject(n.value,r)),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.KeyValue"},s}(),i.InstrumentationScope=function(){function s(a){if(this.attributes=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=_.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&r.uint32(10).string(n.name),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&r.uint32(18).string(n.version),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)S.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],r.uint32(26).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(32).uint32(n.droppedAttributesCount),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.common.v1.InstrumentationScope;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.name=n.string();break}case 2:{l.version=n.string();break}case 3:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 4:{l.droppedAttributesCount=n.uint32();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!_.isString(n.name))return"name: string expected";if(n.version!=null&&n.hasOwnProperty("version")&&!_.isString(n.version))return"version: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var c=S.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!_.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.common.v1.InstrumentationScope)return n;var r=new S.opentelemetry.proto.common.v1.InstrumentationScope;if(n.name!=null&&(r.name=String(n.name)),n.version!=null&&(r.version=String(n.version)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");r.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");r.attributes[c]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.attributes=[]),r.defaults&&(c.name="",c.version="",c.droppedAttributesCount=0),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.version!=null&&n.hasOwnProperty("version")&&(c.version=n.version),n.attributes&&n.attributes.length){c.attributes=[];for(var l=0;l<n.attributes.length;++l)c.attributes[l]=S.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[l],r)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.InstrumentationScope"},s}(),i}(),t}(),e.resource=function(){var t={};return t.v1=function(){var i={};return i.Resource=function(){function s(a){if(this.attributes=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.attributes=_.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)S.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],r.uint32(10).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(16).uint32(n.droppedAttributesCount),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.resource.v1.Resource;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{l.droppedAttributesCount=n.uint32();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var c=S.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!_.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.resource.v1.Resource)return n;var r=new S.opentelemetry.proto.resource.v1.Resource;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");r.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");r.attributes[c]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.attributes=[]),r.defaults&&(c.droppedAttributesCount=0),n.attributes&&n.attributes.length){c.attributes=[];for(var l=0;l<n.attributes.length;++l)c.attributes[l]=S.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[l],r)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.resource.v1.Resource"},s}(),i}(),t}(),e.trace=function(){var t={};return t.v1=function(){var i={};return i.TracesData=function(){function s(a){if(this.resourceSpans=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resourceSpans=_.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resourceSpans!=null&&n.resourceSpans.length)for(var c=0;c<n.resourceSpans.length;++c)S.opentelemetry.proto.trace.v1.ResourceSpans.encode(n.resourceSpans[c],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.trace.v1.TracesData;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.resourceSpans&&l.resourceSpans.length||(l.resourceSpans=[]),l.resourceSpans.push(S.opentelemetry.proto.trace.v1.ResourceSpans.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceSpans!=null&&n.hasOwnProperty("resourceSpans")){if(!Array.isArray(n.resourceSpans))return"resourceSpans: array expected";for(var r=0;r<n.resourceSpans.length;++r){var c=S.opentelemetry.proto.trace.v1.ResourceSpans.verify(n.resourceSpans[r]);if(c)return"resourceSpans."+c}}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.trace.v1.TracesData)return n;var r=new S.opentelemetry.proto.trace.v1.TracesData;if(n.resourceSpans){if(!Array.isArray(n.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");r.resourceSpans=[];for(var c=0;c<n.resourceSpans.length;++c){if(typeof n.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");r.resourceSpans[c]=S.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(n.resourceSpans[c])}}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.resourceSpans=[]),n.resourceSpans&&n.resourceSpans.length){c.resourceSpans=[];for(var l=0;l<n.resourceSpans.length;++l)c.resourceSpans[l]=S.opentelemetry.proto.trace.v1.ResourceSpans.toObject(n.resourceSpans[l],r)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.TracesData"},s}(),i.ResourceSpans=function(){function s(a){if(this.scopeSpans=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resource=null,s.prototype.scopeSpans=_.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&S.opentelemetry.proto.resource.v1.Resource.encode(n.resource,r.uint32(10).fork()).ldelim(),n.scopeSpans!=null&&n.scopeSpans.length)for(var c=0;c<n.scopeSpans.length;++c)S.opentelemetry.proto.trace.v1.ScopeSpans.encode(n.scopeSpans[c],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.trace.v1.ResourceSpans;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.resource=S.opentelemetry.proto.resource.v1.Resource.decode(n,n.uint32());break}case 2:{l.scopeSpans&&l.scopeSpans.length||(l.scopeSpans=[]),l.scopeSpans.push(S.opentelemetry.proto.trace.v1.ScopeSpans.decode(n,n.uint32()));break}case 3:{l.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")){var r=S.opentelemetry.proto.resource.v1.Resource.verify(n.resource);if(r)return"resource."+r}if(n.scopeSpans!=null&&n.hasOwnProperty("scopeSpans")){if(!Array.isArray(n.scopeSpans))return"scopeSpans: array expected";for(var c=0;c<n.scopeSpans.length;++c){var r=S.opentelemetry.proto.trace.v1.ScopeSpans.verify(n.scopeSpans[c]);if(r)return"scopeSpans."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!_.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.trace.v1.ResourceSpans)return n;var r=new S.opentelemetry.proto.trace.v1.ResourceSpans;if(n.resource!=null){if(typeof n.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");r.resource=S.opentelemetry.proto.resource.v1.Resource.fromObject(n.resource)}if(n.scopeSpans){if(!Array.isArray(n.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");r.scopeSpans=[];for(var c=0;c<n.scopeSpans.length;++c){if(typeof n.scopeSpans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");r.scopeSpans[c]=S.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(n.scopeSpans[c])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.scopeSpans=[]),r.defaults&&(c.resource=null,c.schemaUrl=""),n.resource!=null&&n.hasOwnProperty("resource")&&(c.resource=S.opentelemetry.proto.resource.v1.Resource.toObject(n.resource,r)),n.scopeSpans&&n.scopeSpans.length){c.scopeSpans=[];for(var l=0;l<n.scopeSpans.length;++l)c.scopeSpans[l]=S.opentelemetry.proto.trace.v1.ScopeSpans.toObject(n.scopeSpans[l],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(c.schemaUrl=n.schemaUrl),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.ResourceSpans"},s}(),i.ScopeSpans=function(){function s(a){if(this.spans=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.scope=null,s.prototype.spans=_.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.scope!=null&&Object.hasOwnProperty.call(n,"scope")&&S.opentelemetry.proto.common.v1.InstrumentationScope.encode(n.scope,r.uint32(10).fork()).ldelim(),n.spans!=null&&n.spans.length)for(var c=0;c<n.spans.length;++c)S.opentelemetry.proto.trace.v1.Span.encode(n.spans[c],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.trace.v1.ScopeSpans;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.decode(n,n.uint32());break}case 2:{l.spans&&l.spans.length||(l.spans=[]),l.spans.push(S.opentelemetry.proto.trace.v1.Span.decode(n,n.uint32()));break}case 3:{l.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.scope!=null&&n.hasOwnProperty("scope")){var r=S.opentelemetry.proto.common.v1.InstrumentationScope.verify(n.scope);if(r)return"scope."+r}if(n.spans!=null&&n.hasOwnProperty("spans")){if(!Array.isArray(n.spans))return"spans: array expected";for(var c=0;c<n.spans.length;++c){var r=S.opentelemetry.proto.trace.v1.Span.verify(n.spans[c]);if(r)return"spans."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!_.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.trace.v1.ScopeSpans)return n;var r=new S.opentelemetry.proto.trace.v1.ScopeSpans;if(n.scope!=null){if(typeof n.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");r.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(n.scope)}if(n.spans){if(!Array.isArray(n.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");r.spans=[];for(var c=0;c<n.spans.length;++c){if(typeof n.spans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");r.spans[c]=S.opentelemetry.proto.trace.v1.Span.fromObject(n.spans[c])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.spans=[]),r.defaults&&(c.scope=null,c.schemaUrl=""),n.scope!=null&&n.hasOwnProperty("scope")&&(c.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.toObject(n.scope,r)),n.spans&&n.spans.length){c.spans=[];for(var l=0;l<n.spans.length;++l)c.spans[l]=S.opentelemetry.proto.trace.v1.Span.toObject(n.spans[l],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(c.schemaUrl=n.schemaUrl),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.ScopeSpans"},s}(),i.Span=function(){function s(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=_.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=_.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=_.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&r.uint32(10).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&r.uint32(18).bytes(n.spanId),n.traceState!=null&&Object.hasOwnProperty.call(n,"traceState")&&r.uint32(26).string(n.traceState),n.parentSpanId!=null&&Object.hasOwnProperty.call(n,"parentSpanId")&&r.uint32(34).bytes(n.parentSpanId),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&r.uint32(42).string(n.name),n.kind!=null&&Object.hasOwnProperty.call(n,"kind")&&r.uint32(48).int32(n.kind),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&r.uint32(57).fixed64(n.startTimeUnixNano),n.endTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"endTimeUnixNano")&&r.uint32(65).fixed64(n.endTimeUnixNano),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)S.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],r.uint32(74).fork()).ldelim();if(n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(80).uint32(n.droppedAttributesCount),n.events!=null&&n.events.length)for(var c=0;c<n.events.length;++c)S.opentelemetry.proto.trace.v1.Span.Event.encode(n.events[c],r.uint32(90).fork()).ldelim();if(n.droppedEventsCount!=null&&Object.hasOwnProperty.call(n,"droppedEventsCount")&&r.uint32(96).uint32(n.droppedEventsCount),n.links!=null&&n.links.length)for(var c=0;c<n.links.length;++c)S.opentelemetry.proto.trace.v1.Span.Link.encode(n.links[c],r.uint32(106).fork()).ldelim();return n.droppedLinksCount!=null&&Object.hasOwnProperty.call(n,"droppedLinksCount")&&r.uint32(112).uint32(n.droppedLinksCount),n.status!=null&&Object.hasOwnProperty.call(n,"status")&&S.opentelemetry.proto.trace.v1.Status.encode(n.status,r.uint32(122).fork()).ldelim(),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.trace.v1.Span;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.traceId=n.bytes();break}case 2:{l.spanId=n.bytes();break}case 3:{l.traceState=n.string();break}case 4:{l.parentSpanId=n.bytes();break}case 5:{l.name=n.string();break}case 6:{l.kind=n.int32();break}case 7:{l.startTimeUnixNano=n.fixed64();break}case 8:{l.endTimeUnixNano=n.fixed64();break}case 9:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 10:{l.droppedAttributesCount=n.uint32();break}case 11:{l.events&&l.events.length||(l.events=[]),l.events.push(S.opentelemetry.proto.trace.v1.Span.Event.decode(n,n.uint32()));break}case 12:{l.droppedEventsCount=n.uint32();break}case 13:{l.links&&l.links.length||(l.links=[]),l.links.push(S.opentelemetry.proto.trace.v1.Span.Link.decode(n,n.uint32()));break}case 14:{l.droppedLinksCount=n.uint32();break}case 15:{l.status=S.opentelemetry.proto.trace.v1.Status.decode(n,n.uint32());break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||_.isString(n.traceId)))return"traceId: buffer expected";if(n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||_.isString(n.spanId)))return"spanId: buffer expected";if(n.traceState!=null&&n.hasOwnProperty("traceState")&&!_.isString(n.traceState))return"traceState: string expected";if(n.parentSpanId!=null&&n.hasOwnProperty("parentSpanId")&&!(n.parentSpanId&&typeof n.parentSpanId.length=="number"||_.isString(n.parentSpanId)))return"parentSpanId: buffer expected";if(n.name!=null&&n.hasOwnProperty("name")&&!_.isString(n.name))return"name: string expected";if(n.kind!=null&&n.hasOwnProperty("kind"))switch(n.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!_.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&_.isInteger(n.startTimeUnixNano.low)&&_.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.endTimeUnixNano!=null&&n.hasOwnProperty("endTimeUnixNano")&&!_.isInteger(n.endTimeUnixNano)&&!(n.endTimeUnixNano&&_.isInteger(n.endTimeUnixNano.low)&&_.isInteger(n.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var c=S.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(c)return"attributes."+c}}if(n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!_.isInteger(n.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(n.events!=null&&n.hasOwnProperty("events")){if(!Array.isArray(n.events))return"events: array expected";for(var r=0;r<n.events.length;++r){var c=S.opentelemetry.proto.trace.v1.Span.Event.verify(n.events[r]);if(c)return"events."+c}}if(n.droppedEventsCount!=null&&n.hasOwnProperty("droppedEventsCount")&&!_.isInteger(n.droppedEventsCount))return"droppedEventsCount: integer expected";if(n.links!=null&&n.hasOwnProperty("links")){if(!Array.isArray(n.links))return"links: array expected";for(var r=0;r<n.links.length;++r){var c=S.opentelemetry.proto.trace.v1.Span.Link.verify(n.links[r]);if(c)return"links."+c}}if(n.droppedLinksCount!=null&&n.hasOwnProperty("droppedLinksCount")&&!_.isInteger(n.droppedLinksCount))return"droppedLinksCount: integer expected";if(n.status!=null&&n.hasOwnProperty("status")){var c=S.opentelemetry.proto.trace.v1.Status.verify(n.status);if(c)return"status."+c}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.trace.v1.Span)return n;var r=new S.opentelemetry.proto.trace.v1.Span;switch(n.traceId!=null&&(typeof n.traceId=="string"?_.base64.decode(n.traceId,r.traceId=_.newBuffer(_.base64.length(n.traceId)),0):n.traceId.length>=0&&(r.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?_.base64.decode(n.spanId,r.spanId=_.newBuffer(_.base64.length(n.spanId)),0):n.spanId.length>=0&&(r.spanId=n.spanId)),n.traceState!=null&&(r.traceState=String(n.traceState)),n.parentSpanId!=null&&(typeof n.parentSpanId=="string"?_.base64.decode(n.parentSpanId,r.parentSpanId=_.newBuffer(_.base64.length(n.parentSpanId)),0):n.parentSpanId.length>=0&&(r.parentSpanId=n.parentSpanId)),n.name!=null&&(r.name=String(n.name)),n.kind){default:if(typeof n.kind=="number"){r.kind=n.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:r.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:r.kind=1;break;case"SPAN_KIND_SERVER":case 2:r.kind=2;break;case"SPAN_KIND_CLIENT":case 3:r.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:r.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:r.kind=5;break}if(n.startTimeUnixNano!=null&&(_.Long?(r.startTimeUnixNano=_.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?r.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?r.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(r.startTimeUnixNano=new _.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.endTimeUnixNano!=null&&(_.Long?(r.endTimeUnixNano=_.Long.fromValue(n.endTimeUnixNano)).unsigned=!1:typeof n.endTimeUnixNano=="string"?r.endTimeUnixNano=parseInt(n.endTimeUnixNano,10):typeof n.endTimeUnixNano=="number"?r.endTimeUnixNano=n.endTimeUnixNano:typeof n.endTimeUnixNano=="object"&&(r.endTimeUnixNano=new _.LongBits(n.endTimeUnixNano.low>>>0,n.endTimeUnixNano.high>>>0).toNumber())),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");r.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");r.attributes[c]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),n.events){if(!Array.isArray(n.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");r.events=[];for(var c=0;c<n.events.length;++c){if(typeof n.events[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");r.events[c]=S.opentelemetry.proto.trace.v1.Span.Event.fromObject(n.events[c])}}if(n.droppedEventsCount!=null&&(r.droppedEventsCount=n.droppedEventsCount>>>0),n.links){if(!Array.isArray(n.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");r.links=[];for(var c=0;c<n.links.length;++c){if(typeof n.links[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");r.links[c]=S.opentelemetry.proto.trace.v1.Span.Link.fromObject(n.links[c])}}if(n.droppedLinksCount!=null&&(r.droppedLinksCount=n.droppedLinksCount>>>0),n.status!=null){if(typeof n.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");r.status=S.opentelemetry.proto.trace.v1.Status.fromObject(n.status)}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.attributes=[],c.events=[],c.links=[]),r.defaults){if(r.bytes===String?c.traceId="":(c.traceId=[],r.bytes!==Array&&(c.traceId=_.newBuffer(c.traceId))),r.bytes===String?c.spanId="":(c.spanId=[],r.bytes!==Array&&(c.spanId=_.newBuffer(c.spanId))),c.traceState="",r.bytes===String?c.parentSpanId="":(c.parentSpanId=[],r.bytes!==Array&&(c.parentSpanId=_.newBuffer(c.parentSpanId))),c.name="",c.kind=r.enums===String?"SPAN_KIND_UNSPECIFIED":0,_.Long){var l=new _.Long(0,0,!1);c.startTimeUnixNano=r.longs===String?l.toString():r.longs===Number?l.toNumber():l}else c.startTimeUnixNano=r.longs===String?"0":0;if(_.Long){var l=new _.Long(0,0,!1);c.endTimeUnixNano=r.longs===String?l.toString():r.longs===Number?l.toNumber():l}else c.endTimeUnixNano=r.longs===String?"0":0;c.droppedAttributesCount=0,c.droppedEventsCount=0,c.droppedLinksCount=0,c.status=null}if(n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=r.bytes===String?_.base64.encode(n.traceId,0,n.traceId.length):r.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=r.bytes===String?_.base64.encode(n.spanId,0,n.spanId.length):r.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceState!=null&&n.hasOwnProperty("traceState")&&(c.traceState=n.traceState),n.parentSpanId!=null&&n.hasOwnProperty("parentSpanId")&&(c.parentSpanId=r.bytes===String?_.base64.encode(n.parentSpanId,0,n.parentSpanId.length):r.bytes===Array?Array.prototype.slice.call(n.parentSpanId):n.parentSpanId),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.kind!=null&&n.hasOwnProperty("kind")&&(c.kind=r.enums===String?S.opentelemetry.proto.trace.v1.Span.SpanKind[n.kind]===void 0?n.kind:S.opentelemetry.proto.trace.v1.Span.SpanKind[n.kind]:n.kind),n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=r.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=r.longs===String?_.Long.prototype.toString.call(n.startTimeUnixNano):r.longs===Number?new _.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.endTimeUnixNano!=null&&n.hasOwnProperty("endTimeUnixNano")&&(typeof n.endTimeUnixNano=="number"?c.endTimeUnixNano=r.longs===String?String(n.endTimeUnixNano):n.endTimeUnixNano:c.endTimeUnixNano=r.longs===String?_.Long.prototype.toString.call(n.endTimeUnixNano):r.longs===Number?new _.LongBits(n.endTimeUnixNano.low>>>0,n.endTimeUnixNano.high>>>0).toNumber():n.endTimeUnixNano),n.attributes&&n.attributes.length){c.attributes=[];for(var u=0;u<n.attributes.length;++u)c.attributes[u]=S.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],r)}if(n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),n.events&&n.events.length){c.events=[];for(var u=0;u<n.events.length;++u)c.events[u]=S.opentelemetry.proto.trace.v1.Span.Event.toObject(n.events[u],r)}if(n.droppedEventsCount!=null&&n.hasOwnProperty("droppedEventsCount")&&(c.droppedEventsCount=n.droppedEventsCount),n.links&&n.links.length){c.links=[];for(var u=0;u<n.links.length;++u)c.links[u]=S.opentelemetry.proto.trace.v1.Span.Link.toObject(n.links[u],r)}return n.droppedLinksCount!=null&&n.hasOwnProperty("droppedLinksCount")&&(c.droppedLinksCount=n.droppedLinksCount),n.status!=null&&n.hasOwnProperty("status")&&(c.status=S.opentelemetry.proto.trace.v1.Status.toObject(n.status,r)),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=function(){var a={},n=Object.create(a);return n[a[0]="SPAN_KIND_UNSPECIFIED"]=0,n[a[1]="SPAN_KIND_INTERNAL"]=1,n[a[2]="SPAN_KIND_SERVER"]=2,n[a[3]="SPAN_KIND_CLIENT"]=3,n[a[4]="SPAN_KIND_PRODUCER"]=4,n[a[5]="SPAN_KIND_CONSUMER"]=5,n}(),s.Event=function(){function a(n){if(this.attributes=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=_.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(r){return new a(r)},a.encode=function(r,c){if(c||(c=ne.create()),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&c.uint32(9).fixed64(r.timeUnixNano),r.name!=null&&Object.hasOwnProperty.call(r,"name")&&c.uint32(18).string(r.name),r.attributes!=null&&r.attributes.length)for(var l=0;l<r.attributes.length;++l)S.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[l],c.uint32(26).fork()).ldelim();return r.droppedAttributesCount!=null&&Object.hasOwnProperty.call(r,"droppedAttributesCount")&&c.uint32(32).uint32(r.droppedAttributesCount),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.trace.v1.Span.Event;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.timeUnixNano=r.fixed64();break}case 2:{u.name=r.string();break}case 3:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 4:{u.droppedAttributesCount=r.uint32();break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!_.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&_.isInteger(r.timeUnixNano.low)&&_.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.name!=null&&r.hasOwnProperty("name")&&!_.isString(r.name))return"name: string expected";if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var c=0;c<r.attributes.length;++c){var l=S.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[c]);if(l)return"attributes."+l}}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&!_.isInteger(r.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.trace.v1.Span.Event)return r;var c=new S.opentelemetry.proto.trace.v1.Span.Event;if(r.timeUnixNano!=null&&(_.Long?(c.timeUnixNano=_.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?c.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?c.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(c.timeUnixNano=new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.name!=null&&(c.name=String(r.name)),r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");c.attributes=[];for(var l=0;l<r.attributes.length;++l){if(typeof r.attributes[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");c.attributes[l]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[l])}}return r.droppedAttributesCount!=null&&(c.droppedAttributesCount=r.droppedAttributesCount>>>0),c},a.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.attributes=[]),c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.timeUnixNano=c.longs===String?"0":0;l.name="",l.droppedAttributesCount=0}if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(r.timeUnixNano):r.timeUnixNano:l.timeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.timeUnixNano):c.longs===Number?new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.name!=null&&r.hasOwnProperty("name")&&(l.name=r.name),r.attributes&&r.attributes.length){l.attributes=[];for(var E=0;E<r.attributes.length;++E)l.attributes[E]=S.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[E],c)}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=r.droppedAttributesCount),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),s.Link=function(){function a(n){if(this.attributes=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=_.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(r){return new a(r)},a.encode=function(r,c){if(c||(c=ne.create()),r.traceId!=null&&Object.hasOwnProperty.call(r,"traceId")&&c.uint32(10).bytes(r.traceId),r.spanId!=null&&Object.hasOwnProperty.call(r,"spanId")&&c.uint32(18).bytes(r.spanId),r.traceState!=null&&Object.hasOwnProperty.call(r,"traceState")&&c.uint32(26).string(r.traceState),r.attributes!=null&&r.attributes.length)for(var l=0;l<r.attributes.length;++l)S.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[l],c.uint32(34).fork()).ldelim();return r.droppedAttributesCount!=null&&Object.hasOwnProperty.call(r,"droppedAttributesCount")&&c.uint32(40).uint32(r.droppedAttributesCount),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.trace.v1.Span.Link;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.traceId=r.bytes();break}case 2:{u.spanId=r.bytes();break}case 3:{u.traceState=r.string();break}case 4:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 5:{u.droppedAttributesCount=r.uint32();break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.traceId!=null&&r.hasOwnProperty("traceId")&&!(r.traceId&&typeof r.traceId.length=="number"||_.isString(r.traceId)))return"traceId: buffer expected";if(r.spanId!=null&&r.hasOwnProperty("spanId")&&!(r.spanId&&typeof r.spanId.length=="number"||_.isString(r.spanId)))return"spanId: buffer expected";if(r.traceState!=null&&r.hasOwnProperty("traceState")&&!_.isString(r.traceState))return"traceState: string expected";if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var c=0;c<r.attributes.length;++c){var l=S.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[c]);if(l)return"attributes."+l}}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&!_.isInteger(r.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.trace.v1.Span.Link)return r;var c=new S.opentelemetry.proto.trace.v1.Span.Link;if(r.traceId!=null&&(typeof r.traceId=="string"?_.base64.decode(r.traceId,c.traceId=_.newBuffer(_.base64.length(r.traceId)),0):r.traceId.length>=0&&(c.traceId=r.traceId)),r.spanId!=null&&(typeof r.spanId=="string"?_.base64.decode(r.spanId,c.spanId=_.newBuffer(_.base64.length(r.spanId)),0):r.spanId.length>=0&&(c.spanId=r.spanId)),r.traceState!=null&&(c.traceState=String(r.traceState)),r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");c.attributes=[];for(var l=0;l<r.attributes.length;++l){if(typeof r.attributes[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");c.attributes[l]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[l])}}return r.droppedAttributesCount!=null&&(c.droppedAttributesCount=r.droppedAttributesCount>>>0),c},a.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.attributes=[]),c.defaults&&(c.bytes===String?l.traceId="":(l.traceId=[],c.bytes!==Array&&(l.traceId=_.newBuffer(l.traceId))),c.bytes===String?l.spanId="":(l.spanId=[],c.bytes!==Array&&(l.spanId=_.newBuffer(l.spanId))),l.traceState="",l.droppedAttributesCount=0),r.traceId!=null&&r.hasOwnProperty("traceId")&&(l.traceId=c.bytes===String?_.base64.encode(r.traceId,0,r.traceId.length):c.bytes===Array?Array.prototype.slice.call(r.traceId):r.traceId),r.spanId!=null&&r.hasOwnProperty("spanId")&&(l.spanId=c.bytes===String?_.base64.encode(r.spanId,0,r.spanId.length):c.bytes===Array?Array.prototype.slice.call(r.spanId):r.spanId),r.traceState!=null&&r.hasOwnProperty("traceState")&&(l.traceState=r.traceState),r.attributes&&r.attributes.length){l.attributes=[];for(var u=0;u<r.attributes.length;++u)l.attributes[u]=S.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[u],c)}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=r.droppedAttributesCount),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),s}(),i.Status=function(){function s(a){if(a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(n){return new s(n)},s.encode=function(n,r){return r||(r=ne.create()),n.message!=null&&Object.hasOwnProperty.call(n,"message")&&r.uint32(18).string(n.message),n.code!=null&&Object.hasOwnProperty.call(n,"code")&&r.uint32(24).int32(n.code),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.trace.v1.Status;n.pos<c;){var u=n.uint32();switch(u>>>3){case 2:{l.message=n.string();break}case 3:{l.code=n.int32();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.message!=null&&n.hasOwnProperty("message")&&!_.isString(n.message))return"message: string expected";if(n.code!=null&&n.hasOwnProperty("code"))switch(n.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.trace.v1.Status)return n;var r=new S.opentelemetry.proto.trace.v1.Status;switch(n.message!=null&&(r.message=String(n.message)),n.code){default:if(typeof n.code=="number"){r.code=n.code;break}break;case"STATUS_CODE_UNSET":case 0:r.code=0;break;case"STATUS_CODE_OK":case 1:r.code=1;break;case"STATUS_CODE_ERROR":case 2:r.code=2;break}return r},s.toObject=function(n,r){r||(r={});var c={};return r.defaults&&(c.message="",c.code=r.enums===String?"STATUS_CODE_UNSET":0),n.message!=null&&n.hasOwnProperty("message")&&(c.message=n.message),n.code!=null&&n.hasOwnProperty("code")&&(c.code=r.enums===String?S.opentelemetry.proto.trace.v1.Status.StatusCode[n.code]===void 0?n.code:S.opentelemetry.proto.trace.v1.Status.StatusCode[n.code]:n.code),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=function(){var a={},n=Object.create(a);return n[a[0]="STATUS_CODE_UNSET"]=0,n[a[1]="STATUS_CODE_OK"]=1,n[a[2]="STATUS_CODE_ERROR"]=2,n}(),s}(),i}(),t}(),e.collector=function(){var t={};return t.trace=function(){var i={};return i.v1=function(){var s={};return s.TraceService=function(){function a(n,r,c){W.rpc.Service.call(this,n,r,c)}return(a.prototype=Object.create(W.rpc.Service.prototype)).constructor=a,a.create=function(r,c,l){return new this(r,c,l)},Object.defineProperty(a.prototype.export=function n(r,c){return this.rpcCall(n,S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,r,c)},"name",{value:"Export"}),a}(),s.ExportTraceServiceRequest=function(){function a(n){if(this.resourceSpans=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.resourceSpans=_.emptyArray,a.create=function(r){return new a(r)},a.encode=function(r,c){if(c||(c=ne.create()),r.resourceSpans!=null&&r.resourceSpans.length)for(var l=0;l<r.resourceSpans.length;++l)S.opentelemetry.proto.trace.v1.ResourceSpans.encode(r.resourceSpans[l],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.resourceSpans&&u.resourceSpans.length||(u.resourceSpans=[]),u.resourceSpans.push(S.opentelemetry.proto.trace.v1.ResourceSpans.decode(r,r.uint32()));break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.resourceSpans!=null&&r.hasOwnProperty("resourceSpans")){if(!Array.isArray(r.resourceSpans))return"resourceSpans: array expected";for(var c=0;c<r.resourceSpans.length;++c){var l=S.opentelemetry.proto.trace.v1.ResourceSpans.verify(r.resourceSpans[c]);if(l)return"resourceSpans."+l}}return null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return r;var c=new S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(r.resourceSpans){if(!Array.isArray(r.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");c.resourceSpans=[];for(var l=0;l<r.resourceSpans.length;++l){if(typeof r.resourceSpans[l]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");c.resourceSpans[l]=S.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(r.resourceSpans[l])}}return c},a.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.resourceSpans=[]),r.resourceSpans&&r.resourceSpans.length){l.resourceSpans=[];for(var u=0;u<r.resourceSpans.length;++u)l.resourceSpans[u]=S.opentelemetry.proto.trace.v1.ResourceSpans.toObject(r.resourceSpans[u],c)}return l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),s.ExportTraceServiceResponse=function(){function a(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.partialSuccess=null,a.create=function(r){return new a(r)},a.encode=function(r,c){return c||(c=ne.create()),r.partialSuccess!=null&&Object.hasOwnProperty.call(r,"partialSuccess")&&S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(r.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.partialSuccess=S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(r,r.uint32());break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")){var c=S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(r.partialSuccess);if(c)return"partialSuccess."+c}return null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return r;var c=new S.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(r.partialSuccess!=null){if(typeof r.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");c.partialSuccess=S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(r.partialSuccess)}return c},a.toObject=function(r,c){c||(c={});var l={};return c.defaults&&(l.partialSuccess=null),r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")&&(l.partialSuccess=S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(r.partialSuccess,c)),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),s.ExportTracePartialSuccess=function(){function a(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(r){return new a(r)},a.encode=function(r,c){return c||(c=ne.create()),r.rejectedSpans!=null&&Object.hasOwnProperty.call(r,"rejectedSpans")&&c.uint32(8).int64(r.rejectedSpans),r.errorMessage!=null&&Object.hasOwnProperty.call(r,"errorMessage")&&c.uint32(18).string(r.errorMessage),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.rejectedSpans=r.int64();break}case 2:{u.errorMessage=r.string();break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.rejectedSpans!=null&&r.hasOwnProperty("rejectedSpans")&&!_.isInteger(r.rejectedSpans)&&!(r.rejectedSpans&&_.isInteger(r.rejectedSpans.low)&&_.isInteger(r.rejectedSpans.high))?"rejectedSpans: integer|Long expected":r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&!_.isString(r.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return r;var c=new S.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return r.rejectedSpans!=null&&(_.Long?(c.rejectedSpans=_.Long.fromValue(r.rejectedSpans)).unsigned=!1:typeof r.rejectedSpans=="string"?c.rejectedSpans=parseInt(r.rejectedSpans,10):typeof r.rejectedSpans=="number"?c.rejectedSpans=r.rejectedSpans:typeof r.rejectedSpans=="object"&&(c.rejectedSpans=new _.LongBits(r.rejectedSpans.low>>>0,r.rejectedSpans.high>>>0).toNumber())),r.errorMessage!=null&&(c.errorMessage=String(r.errorMessage)),c},a.toObject=function(r,c){c||(c={});var l={};if(c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.rejectedSpans=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.rejectedSpans=c.longs===String?"0":0;l.errorMessage=""}return r.rejectedSpans!=null&&r.hasOwnProperty("rejectedSpans")&&(typeof r.rejectedSpans=="number"?l.rejectedSpans=c.longs===String?String(r.rejectedSpans):r.rejectedSpans:l.rejectedSpans=c.longs===String?_.Long.prototype.toString.call(r.rejectedSpans):c.longs===Number?new _.LongBits(r.rejectedSpans.low>>>0,r.rejectedSpans.high>>>0).toNumber():r.rejectedSpans),r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&(l.errorMessage=r.errorMessage),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),s}(),i}(),t.metrics=function(){var i={};return i.v1=function(){var s={};return s.MetricsService=function(){function a(n,r,c){W.rpc.Service.call(this,n,r,c)}return(a.prototype=Object.create(W.rpc.Service.prototype)).constructor=a,a.create=function(r,c,l){return new this(r,c,l)},Object.defineProperty(a.prototype.export=function n(r,c){return this.rpcCall(n,S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,r,c)},"name",{value:"Export"}),a}(),s.ExportMetricsServiceRequest=function(){function a(n){if(this.resourceMetrics=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.resourceMetrics=_.emptyArray,a.create=function(r){return new a(r)},a.encode=function(r,c){if(c||(c=ne.create()),r.resourceMetrics!=null&&r.resourceMetrics.length)for(var l=0;l<r.resourceMetrics.length;++l)S.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(r.resourceMetrics[l],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.resourceMetrics&&u.resourceMetrics.length||(u.resourceMetrics=[]),u.resourceMetrics.push(S.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(r,r.uint32()));break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.resourceMetrics!=null&&r.hasOwnProperty("resourceMetrics")){if(!Array.isArray(r.resourceMetrics))return"resourceMetrics: array expected";for(var c=0;c<r.resourceMetrics.length;++c){var l=S.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(r.resourceMetrics[c]);if(l)return"resourceMetrics."+l}}return null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return r;var c=new S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(r.resourceMetrics){if(!Array.isArray(r.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");c.resourceMetrics=[];for(var l=0;l<r.resourceMetrics.length;++l){if(typeof r.resourceMetrics[l]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");c.resourceMetrics[l]=S.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(r.resourceMetrics[l])}}return c},a.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.resourceMetrics=[]),r.resourceMetrics&&r.resourceMetrics.length){l.resourceMetrics=[];for(var u=0;u<r.resourceMetrics.length;++u)l.resourceMetrics[u]=S.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(r.resourceMetrics[u],c)}return l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),s.ExportMetricsServiceResponse=function(){function a(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.partialSuccess=null,a.create=function(r){return new a(r)},a.encode=function(r,c){return c||(c=ne.create()),r.partialSuccess!=null&&Object.hasOwnProperty.call(r,"partialSuccess")&&S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(r.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.partialSuccess=S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(r,r.uint32());break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")){var c=S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(r.partialSuccess);if(c)return"partialSuccess."+c}return null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return r;var c=new S.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(r.partialSuccess!=null){if(typeof r.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");c.partialSuccess=S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(r.partialSuccess)}return c},a.toObject=function(r,c){c||(c={});var l={};return c.defaults&&(l.partialSuccess=null),r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")&&(l.partialSuccess=S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(r.partialSuccess,c)),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),s.ExportMetricsPartialSuccess=function(){function a(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(r){return new a(r)},a.encode=function(r,c){return c||(c=ne.create()),r.rejectedDataPoints!=null&&Object.hasOwnProperty.call(r,"rejectedDataPoints")&&c.uint32(8).int64(r.rejectedDataPoints),r.errorMessage!=null&&Object.hasOwnProperty.call(r,"errorMessage")&&c.uint32(18).string(r.errorMessage),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.rejectedDataPoints=r.int64();break}case 2:{u.errorMessage=r.string();break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.rejectedDataPoints!=null&&r.hasOwnProperty("rejectedDataPoints")&&!_.isInteger(r.rejectedDataPoints)&&!(r.rejectedDataPoints&&_.isInteger(r.rejectedDataPoints.low)&&_.isInteger(r.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&!_.isString(r.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return r;var c=new S.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return r.rejectedDataPoints!=null&&(_.Long?(c.rejectedDataPoints=_.Long.fromValue(r.rejectedDataPoints)).unsigned=!1:typeof r.rejectedDataPoints=="string"?c.rejectedDataPoints=parseInt(r.rejectedDataPoints,10):typeof r.rejectedDataPoints=="number"?c.rejectedDataPoints=r.rejectedDataPoints:typeof r.rejectedDataPoints=="object"&&(c.rejectedDataPoints=new _.LongBits(r.rejectedDataPoints.low>>>0,r.rejectedDataPoints.high>>>0).toNumber())),r.errorMessage!=null&&(c.errorMessage=String(r.errorMessage)),c},a.toObject=function(r,c){c||(c={});var l={};if(c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.rejectedDataPoints=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.rejectedDataPoints=c.longs===String?"0":0;l.errorMessage=""}return r.rejectedDataPoints!=null&&r.hasOwnProperty("rejectedDataPoints")&&(typeof r.rejectedDataPoints=="number"?l.rejectedDataPoints=c.longs===String?String(r.rejectedDataPoints):r.rejectedDataPoints:l.rejectedDataPoints=c.longs===String?_.Long.prototype.toString.call(r.rejectedDataPoints):c.longs===Number?new _.LongBits(r.rejectedDataPoints.low>>>0,r.rejectedDataPoints.high>>>0).toNumber():r.rejectedDataPoints),r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&(l.errorMessage=r.errorMessage),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),s}(),i}(),t.logs=function(){var i={};return i.v1=function(){var s={};return s.LogsService=function(){function a(n,r,c){W.rpc.Service.call(this,n,r,c)}return(a.prototype=Object.create(W.rpc.Service.prototype)).constructor=a,a.create=function(r,c,l){return new this(r,c,l)},Object.defineProperty(a.prototype.export=function n(r,c){return this.rpcCall(n,S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,r,c)},"name",{value:"Export"}),a}(),s.ExportLogsServiceRequest=function(){function a(n){if(this.resourceLogs=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.resourceLogs=_.emptyArray,a.create=function(r){return new a(r)},a.encode=function(r,c){if(c||(c=ne.create()),r.resourceLogs!=null&&r.resourceLogs.length)for(var l=0;l<r.resourceLogs.length;++l)S.opentelemetry.proto.logs.v1.ResourceLogs.encode(r.resourceLogs[l],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.resourceLogs&&u.resourceLogs.length||(u.resourceLogs=[]),u.resourceLogs.push(S.opentelemetry.proto.logs.v1.ResourceLogs.decode(r,r.uint32()));break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.resourceLogs!=null&&r.hasOwnProperty("resourceLogs")){if(!Array.isArray(r.resourceLogs))return"resourceLogs: array expected";for(var c=0;c<r.resourceLogs.length;++c){var l=S.opentelemetry.proto.logs.v1.ResourceLogs.verify(r.resourceLogs[c]);if(l)return"resourceLogs."+l}}return null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return r;var c=new S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(r.resourceLogs){if(!Array.isArray(r.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");c.resourceLogs=[];for(var l=0;l<r.resourceLogs.length;++l){if(typeof r.resourceLogs[l]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");c.resourceLogs[l]=S.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(r.resourceLogs[l])}}return c},a.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.resourceLogs=[]),r.resourceLogs&&r.resourceLogs.length){l.resourceLogs=[];for(var u=0;u<r.resourceLogs.length;++u)l.resourceLogs[u]=S.opentelemetry.proto.logs.v1.ResourceLogs.toObject(r.resourceLogs[u],c)}return l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),s.ExportLogsServiceResponse=function(){function a(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.partialSuccess=null,a.create=function(r){return new a(r)},a.encode=function(r,c){return c||(c=ne.create()),r.partialSuccess!=null&&Object.hasOwnProperty.call(r,"partialSuccess")&&S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(r.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.partialSuccess=S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(r,r.uint32());break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")){var c=S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(r.partialSuccess);if(c)return"partialSuccess."+c}return null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return r;var c=new S.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(r.partialSuccess!=null){if(typeof r.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");c.partialSuccess=S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(r.partialSuccess)}return c},a.toObject=function(r,c){c||(c={});var l={};return c.defaults&&(l.partialSuccess=null),r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")&&(l.partialSuccess=S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(r.partialSuccess,c)),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),s.ExportLogsPartialSuccess=function(){function a(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(r){return new a(r)},a.encode=function(r,c){return c||(c=ne.create()),r.rejectedLogRecords!=null&&Object.hasOwnProperty.call(r,"rejectedLogRecords")&&c.uint32(8).int64(r.rejectedLogRecords),r.errorMessage!=null&&Object.hasOwnProperty.call(r,"errorMessage")&&c.uint32(18).string(r.errorMessage),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.rejectedLogRecords=r.int64();break}case 2:{u.errorMessage=r.string();break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.rejectedLogRecords!=null&&r.hasOwnProperty("rejectedLogRecords")&&!_.isInteger(r.rejectedLogRecords)&&!(r.rejectedLogRecords&&_.isInteger(r.rejectedLogRecords.low)&&_.isInteger(r.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&!_.isString(r.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return r;var c=new S.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return r.rejectedLogRecords!=null&&(_.Long?(c.rejectedLogRecords=_.Long.fromValue(r.rejectedLogRecords)).unsigned=!1:typeof r.rejectedLogRecords=="string"?c.rejectedLogRecords=parseInt(r.rejectedLogRecords,10):typeof r.rejectedLogRecords=="number"?c.rejectedLogRecords=r.rejectedLogRecords:typeof r.rejectedLogRecords=="object"&&(c.rejectedLogRecords=new _.LongBits(r.rejectedLogRecords.low>>>0,r.rejectedLogRecords.high>>>0).toNumber())),r.errorMessage!=null&&(c.errorMessage=String(r.errorMessage)),c},a.toObject=function(r,c){c||(c={});var l={};if(c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.rejectedLogRecords=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.rejectedLogRecords=c.longs===String?"0":0;l.errorMessage=""}return r.rejectedLogRecords!=null&&r.hasOwnProperty("rejectedLogRecords")&&(typeof r.rejectedLogRecords=="number"?l.rejectedLogRecords=c.longs===String?String(r.rejectedLogRecords):r.rejectedLogRecords:l.rejectedLogRecords=c.longs===String?_.Long.prototype.toString.call(r.rejectedLogRecords):c.longs===Number?new _.LongBits(r.rejectedLogRecords.low>>>0,r.rejectedLogRecords.high>>>0).toNumber():r.rejectedLogRecords),r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&(l.errorMessage=r.errorMessage),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),s}(),i}(),t}(),e.metrics=function(){var t={};return t.v1=function(){var i={};return i.MetricsData=function(){function s(a){if(this.resourceMetrics=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resourceMetrics=_.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resourceMetrics!=null&&n.resourceMetrics.length)for(var c=0;c<n.resourceMetrics.length;++c)S.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(n.resourceMetrics[c],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.MetricsData;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.resourceMetrics&&l.resourceMetrics.length||(l.resourceMetrics=[]),l.resourceMetrics.push(S.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceMetrics!=null&&n.hasOwnProperty("resourceMetrics")){if(!Array.isArray(n.resourceMetrics))return"resourceMetrics: array expected";for(var r=0;r<n.resourceMetrics.length;++r){var c=S.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(n.resourceMetrics[r]);if(c)return"resourceMetrics."+c}}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.MetricsData)return n;var r=new S.opentelemetry.proto.metrics.v1.MetricsData;if(n.resourceMetrics){if(!Array.isArray(n.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");r.resourceMetrics=[];for(var c=0;c<n.resourceMetrics.length;++c){if(typeof n.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");r.resourceMetrics[c]=S.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(n.resourceMetrics[c])}}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.resourceMetrics=[]),n.resourceMetrics&&n.resourceMetrics.length){c.resourceMetrics=[];for(var l=0;l<n.resourceMetrics.length;++l)c.resourceMetrics[l]=S.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(n.resourceMetrics[l],r)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.MetricsData"},s}(),i.ResourceMetrics=function(){function s(a){if(this.scopeMetrics=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resource=null,s.prototype.scopeMetrics=_.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&S.opentelemetry.proto.resource.v1.Resource.encode(n.resource,r.uint32(10).fork()).ldelim(),n.scopeMetrics!=null&&n.scopeMetrics.length)for(var c=0;c<n.scopeMetrics.length;++c)S.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(n.scopeMetrics[c],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.ResourceMetrics;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.resource=S.opentelemetry.proto.resource.v1.Resource.decode(n,n.uint32());break}case 2:{l.scopeMetrics&&l.scopeMetrics.length||(l.scopeMetrics=[]),l.scopeMetrics.push(S.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(n,n.uint32()));break}case 3:{l.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")){var r=S.opentelemetry.proto.resource.v1.Resource.verify(n.resource);if(r)return"resource."+r}if(n.scopeMetrics!=null&&n.hasOwnProperty("scopeMetrics")){if(!Array.isArray(n.scopeMetrics))return"scopeMetrics: array expected";for(var c=0;c<n.scopeMetrics.length;++c){var r=S.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(n.scopeMetrics[c]);if(r)return"scopeMetrics."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!_.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.ResourceMetrics)return n;var r=new S.opentelemetry.proto.metrics.v1.ResourceMetrics;if(n.resource!=null){if(typeof n.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");r.resource=S.opentelemetry.proto.resource.v1.Resource.fromObject(n.resource)}if(n.scopeMetrics){if(!Array.isArray(n.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");r.scopeMetrics=[];for(var c=0;c<n.scopeMetrics.length;++c){if(typeof n.scopeMetrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");r.scopeMetrics[c]=S.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(n.scopeMetrics[c])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.scopeMetrics=[]),r.defaults&&(c.resource=null,c.schemaUrl=""),n.resource!=null&&n.hasOwnProperty("resource")&&(c.resource=S.opentelemetry.proto.resource.v1.Resource.toObject(n.resource,r)),n.scopeMetrics&&n.scopeMetrics.length){c.scopeMetrics=[];for(var l=0;l<n.scopeMetrics.length;++l)c.scopeMetrics[l]=S.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(n.scopeMetrics[l],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(c.schemaUrl=n.schemaUrl),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s}(),i.ScopeMetrics=function(){function s(a){if(this.metrics=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.scope=null,s.prototype.metrics=_.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.scope!=null&&Object.hasOwnProperty.call(n,"scope")&&S.opentelemetry.proto.common.v1.InstrumentationScope.encode(n.scope,r.uint32(10).fork()).ldelim(),n.metrics!=null&&n.metrics.length)for(var c=0;c<n.metrics.length;++c)S.opentelemetry.proto.metrics.v1.Metric.encode(n.metrics[c],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.ScopeMetrics;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.decode(n,n.uint32());break}case 2:{l.metrics&&l.metrics.length||(l.metrics=[]),l.metrics.push(S.opentelemetry.proto.metrics.v1.Metric.decode(n,n.uint32()));break}case 3:{l.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.scope!=null&&n.hasOwnProperty("scope")){var r=S.opentelemetry.proto.common.v1.InstrumentationScope.verify(n.scope);if(r)return"scope."+r}if(n.metrics!=null&&n.hasOwnProperty("metrics")){if(!Array.isArray(n.metrics))return"metrics: array expected";for(var c=0;c<n.metrics.length;++c){var r=S.opentelemetry.proto.metrics.v1.Metric.verify(n.metrics[c]);if(r)return"metrics."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!_.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.ScopeMetrics)return n;var r=new S.opentelemetry.proto.metrics.v1.ScopeMetrics;if(n.scope!=null){if(typeof n.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");r.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(n.scope)}if(n.metrics){if(!Array.isArray(n.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");r.metrics=[];for(var c=0;c<n.metrics.length;++c){if(typeof n.metrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");r.metrics[c]=S.opentelemetry.proto.metrics.v1.Metric.fromObject(n.metrics[c])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.metrics=[]),r.defaults&&(c.scope=null,c.schemaUrl=""),n.scope!=null&&n.hasOwnProperty("scope")&&(c.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.toObject(n.scope,r)),n.metrics&&n.metrics.length){c.metrics=[];for(var l=0;l<n.metrics.length;++l)c.metrics[l]=S.opentelemetry.proto.metrics.v1.Metric.toObject(n.metrics[l],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(c.schemaUrl=n.schemaUrl),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s}(),i.Metric=function(){function s(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var a;return Object.defineProperty(s.prototype,"data",{get:_.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:_.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,c){return c||(c=ne.create()),r.name!=null&&Object.hasOwnProperty.call(r,"name")&&c.uint32(10).string(r.name),r.description!=null&&Object.hasOwnProperty.call(r,"description")&&c.uint32(18).string(r.description),r.unit!=null&&Object.hasOwnProperty.call(r,"unit")&&c.uint32(26).string(r.unit),r.gauge!=null&&Object.hasOwnProperty.call(r,"gauge")&&S.opentelemetry.proto.metrics.v1.Gauge.encode(r.gauge,c.uint32(42).fork()).ldelim(),r.sum!=null&&Object.hasOwnProperty.call(r,"sum")&&S.opentelemetry.proto.metrics.v1.Sum.encode(r.sum,c.uint32(58).fork()).ldelim(),r.histogram!=null&&Object.hasOwnProperty.call(r,"histogram")&&S.opentelemetry.proto.metrics.v1.Histogram.encode(r.histogram,c.uint32(74).fork()).ldelim(),r.exponentialHistogram!=null&&Object.hasOwnProperty.call(r,"exponentialHistogram")&&S.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(r.exponentialHistogram,c.uint32(82).fork()).ldelim(),r.summary!=null&&Object.hasOwnProperty.call(r,"summary")&&S.opentelemetry.proto.metrics.v1.Summary.encode(r.summary,c.uint32(90).fork()).ldelim(),c},s.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},s.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.metrics.v1.Metric;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.name=r.string();break}case 2:{u.description=r.string();break}case 3:{u.unit=r.string();break}case 5:{u.gauge=S.opentelemetry.proto.metrics.v1.Gauge.decode(r,r.uint32());break}case 7:{u.sum=S.opentelemetry.proto.metrics.v1.Sum.decode(r,r.uint32());break}case 9:{u.histogram=S.opentelemetry.proto.metrics.v1.Histogram.decode(r,r.uint32());break}case 10:{u.exponentialHistogram=S.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(r,r.uint32());break}case 11:{u.summary=S.opentelemetry.proto.metrics.v1.Summary.decode(r,r.uint32());break}default:r.skipType(E&7);break}}return u},s.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var c={};if(r.name!=null&&r.hasOwnProperty("name")&&!_.isString(r.name))return"name: string expected";if(r.description!=null&&r.hasOwnProperty("description")&&!_.isString(r.description))return"description: string expected";if(r.unit!=null&&r.hasOwnProperty("unit")&&!_.isString(r.unit))return"unit: string expected";if(r.gauge!=null&&r.hasOwnProperty("gauge")){c.data=1;{var l=S.opentelemetry.proto.metrics.v1.Gauge.verify(r.gauge);if(l)return"gauge."+l}}if(r.sum!=null&&r.hasOwnProperty("sum")){if(c.data===1)return"data: multiple values";c.data=1;{var l=S.opentelemetry.proto.metrics.v1.Sum.verify(r.sum);if(l)return"sum."+l}}if(r.histogram!=null&&r.hasOwnProperty("histogram")){if(c.data===1)return"data: multiple values";c.data=1;{var l=S.opentelemetry.proto.metrics.v1.Histogram.verify(r.histogram);if(l)return"histogram."+l}}if(r.exponentialHistogram!=null&&r.hasOwnProperty("exponentialHistogram")){if(c.data===1)return"data: multiple values";c.data=1;{var l=S.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(r.exponentialHistogram);if(l)return"exponentialHistogram."+l}}if(r.summary!=null&&r.hasOwnProperty("summary")){if(c.data===1)return"data: multiple values";c.data=1;{var l=S.opentelemetry.proto.metrics.v1.Summary.verify(r.summary);if(l)return"summary."+l}}return null},s.fromObject=function(r){if(r instanceof S.opentelemetry.proto.metrics.v1.Metric)return r;var c=new S.opentelemetry.proto.metrics.v1.Metric;if(r.name!=null&&(c.name=String(r.name)),r.description!=null&&(c.description=String(r.description)),r.unit!=null&&(c.unit=String(r.unit)),r.gauge!=null){if(typeof r.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");c.gauge=S.opentelemetry.proto.metrics.v1.Gauge.fromObject(r.gauge)}if(r.sum!=null){if(typeof r.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");c.sum=S.opentelemetry.proto.metrics.v1.Sum.fromObject(r.sum)}if(r.histogram!=null){if(typeof r.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");c.histogram=S.opentelemetry.proto.metrics.v1.Histogram.fromObject(r.histogram)}if(r.exponentialHistogram!=null){if(typeof r.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");c.exponentialHistogram=S.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(r.exponentialHistogram)}if(r.summary!=null){if(typeof r.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");c.summary=S.opentelemetry.proto.metrics.v1.Summary.fromObject(r.summary)}return c},s.toObject=function(r,c){c||(c={});var l={};return c.defaults&&(l.name="",l.description="",l.unit=""),r.name!=null&&r.hasOwnProperty("name")&&(l.name=r.name),r.description!=null&&r.hasOwnProperty("description")&&(l.description=r.description),r.unit!=null&&r.hasOwnProperty("unit")&&(l.unit=r.unit),r.gauge!=null&&r.hasOwnProperty("gauge")&&(l.gauge=S.opentelemetry.proto.metrics.v1.Gauge.toObject(r.gauge,c),c.oneofs&&(l.data="gauge")),r.sum!=null&&r.hasOwnProperty("sum")&&(l.sum=S.opentelemetry.proto.metrics.v1.Sum.toObject(r.sum,c),c.oneofs&&(l.data="sum")),r.histogram!=null&&r.hasOwnProperty("histogram")&&(l.histogram=S.opentelemetry.proto.metrics.v1.Histogram.toObject(r.histogram,c),c.oneofs&&(l.data="histogram")),r.exponentialHistogram!=null&&r.hasOwnProperty("exponentialHistogram")&&(l.exponentialHistogram=S.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(r.exponentialHistogram,c),c.oneofs&&(l.data="exponentialHistogram")),r.summary!=null&&r.hasOwnProperty("summary")&&(l.summary=S.opentelemetry.proto.metrics.v1.Summary.toObject(r.summary,c),c.oneofs&&(l.data="summary")),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.Metric"},s}(),i.Gauge=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=_.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var c=0;c<n.dataPoints.length;++c)S.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(n.dataPoints[c],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.Gauge;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(S.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var c=S.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(n.dataPoints[r]);if(c)return"dataPoints."+c}}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.Gauge)return n;var r=new S.opentelemetry.proto.metrics.v1.Gauge;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");r.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c){if(typeof n.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");r.dataPoints[c]=S.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(n.dataPoints[c])}}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.dataPoints=[]),n.dataPoints&&n.dataPoints.length){c.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l)c.dataPoints[l]=S.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(n.dataPoints[l],r)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Gauge"},s}(),i.Sum=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=_.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var c=0;c<n.dataPoints.length;++c)S.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(n.dataPoints[c],r.uint32(10).fork()).ldelim();return n.aggregationTemporality!=null&&Object.hasOwnProperty.call(n,"aggregationTemporality")&&r.uint32(16).int32(n.aggregationTemporality),n.isMonotonic!=null&&Object.hasOwnProperty.call(n,"isMonotonic")&&r.uint32(24).bool(n.isMonotonic),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.Sum;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(S.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(n,n.uint32()));break}case 2:{l.aggregationTemporality=n.int32();break}case 3:{l.isMonotonic=n.bool();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var c=S.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(n.dataPoints[r]);if(c)return"dataPoints."+c}}if(n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality"))switch(n.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return n.isMonotonic!=null&&n.hasOwnProperty("isMonotonic")&&typeof n.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.Sum)return n;var r=new S.opentelemetry.proto.metrics.v1.Sum;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");r.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c){if(typeof n.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");r.dataPoints[c]=S.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(n.dataPoints[c])}}switch(n.aggregationTemporality){default:if(typeof n.aggregationTemporality=="number"){r.aggregationTemporality=n.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:r.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:r.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:r.aggregationTemporality=2;break}return n.isMonotonic!=null&&(r.isMonotonic=!!n.isMonotonic),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.dataPoints=[]),r.defaults&&(c.aggregationTemporality=r.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,c.isMonotonic=!1),n.dataPoints&&n.dataPoints.length){c.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l)c.dataPoints[l]=S.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(n.dataPoints[l],r)}return n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=r.enums===String?S.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]===void 0?n.aggregationTemporality:S.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]:n.aggregationTemporality),n.isMonotonic!=null&&n.hasOwnProperty("isMonotonic")&&(c.isMonotonic=n.isMonotonic),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Sum"},s}(),i.Histogram=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=_.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var c=0;c<n.dataPoints.length;++c)S.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(n.dataPoints[c],r.uint32(10).fork()).ldelim();return n.aggregationTemporality!=null&&Object.hasOwnProperty.call(n,"aggregationTemporality")&&r.uint32(16).int32(n.aggregationTemporality),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.Histogram;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(S.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(n,n.uint32()));break}case 2:{l.aggregationTemporality=n.int32();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var c=S.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(n.dataPoints[r]);if(c)return"dataPoints."+c}}if(n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality"))switch(n.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.Histogram)return n;var r=new S.opentelemetry.proto.metrics.v1.Histogram;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");r.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c){if(typeof n.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");r.dataPoints[c]=S.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(n.dataPoints[c])}}switch(n.aggregationTemporality){default:if(typeof n.aggregationTemporality=="number"){r.aggregationTemporality=n.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:r.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:r.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:r.aggregationTemporality=2;break}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.dataPoints=[]),r.defaults&&(c.aggregationTemporality=r.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),n.dataPoints&&n.dataPoints.length){c.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l)c.dataPoints[l]=S.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(n.dataPoints[l],r)}return n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=r.enums===String?S.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]===void 0?n.aggregationTemporality:S.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]:n.aggregationTemporality),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Histogram"},s}(),i.ExponentialHistogram=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=_.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var c=0;c<n.dataPoints.length;++c)S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(n.dataPoints[c],r.uint32(10).fork()).ldelim();return n.aggregationTemporality!=null&&Object.hasOwnProperty.call(n,"aggregationTemporality")&&r.uint32(16).int32(n.aggregationTemporality),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.ExponentialHistogram;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(n,n.uint32()));break}case 2:{l.aggregationTemporality=n.int32();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var c=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(n.dataPoints[r]);if(c)return"dataPoints."+c}}if(n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality"))switch(n.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.ExponentialHistogram)return n;var r=new S.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");r.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c){if(typeof n.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");r.dataPoints[c]=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(n.dataPoints[c])}}switch(n.aggregationTemporality){default:if(typeof n.aggregationTemporality=="number"){r.aggregationTemporality=n.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:r.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:r.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:r.aggregationTemporality=2;break}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.dataPoints=[]),r.defaults&&(c.aggregationTemporality=r.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),n.dataPoints&&n.dataPoints.length){c.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l)c.dataPoints[l]=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(n.dataPoints[l],r)}return n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=r.enums===String?S.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]===void 0?n.aggregationTemporality:S.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]:n.aggregationTemporality),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s}(),i.Summary=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=_.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var c=0;c<n.dataPoints.length;++c)S.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(n.dataPoints[c],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.Summary;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(S.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var c=S.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(n.dataPoints[r]);if(c)return"dataPoints."+c}}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.Summary)return n;var r=new S.opentelemetry.proto.metrics.v1.Summary;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");r.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c){if(typeof n.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");r.dataPoints[c]=S.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(n.dataPoints[c])}}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.dataPoints=[]),n.dataPoints&&n.dataPoints.length){c.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l)c.dataPoints[l]=S.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(n.dataPoints[l],r)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Summary"},s}(),i.AggregationTemporality=function(){var s={},a=Object.create(s);return a[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a}(),i.DataPointFlags=function(){var s={},a=Object.create(s);return a[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a}(),i.NumberDataPoint=function(){function s(n){if(this.attributes=[],this.exemplars=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}s.prototype.attributes=_.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=_.emptyArray,s.prototype.flags=null;var a;return Object.defineProperty(s.prototype,"value",{get:_.oneOfGetter(a=["asDouble","asInt"]),set:_.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,c){if(c||(c=ne.create()),r.startTimeUnixNano!=null&&Object.hasOwnProperty.call(r,"startTimeUnixNano")&&c.uint32(17).fixed64(r.startTimeUnixNano),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&c.uint32(25).fixed64(r.timeUnixNano),r.asDouble!=null&&Object.hasOwnProperty.call(r,"asDouble")&&c.uint32(33).double(r.asDouble),r.exemplars!=null&&r.exemplars.length)for(var l=0;l<r.exemplars.length;++l)S.opentelemetry.proto.metrics.v1.Exemplar.encode(r.exemplars[l],c.uint32(42).fork()).ldelim();if(r.asInt!=null&&Object.hasOwnProperty.call(r,"asInt")&&c.uint32(49).sfixed64(r.asInt),r.attributes!=null&&r.attributes.length)for(var l=0;l<r.attributes.length;++l)S.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[l],c.uint32(58).fork()).ldelim();return r.flags!=null&&Object.hasOwnProperty.call(r,"flags")&&c.uint32(64).uint32(r.flags),c},s.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},s.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.metrics.v1.NumberDataPoint;r.pos<l;){var E=r.uint32();switch(E>>>3){case 7:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.startTimeUnixNano=r.fixed64();break}case 3:{u.timeUnixNano=r.fixed64();break}case 4:{u.asDouble=r.double();break}case 6:{u.asInt=r.sfixed64();break}case 5:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(S.opentelemetry.proto.metrics.v1.Exemplar.decode(r,r.uint32()));break}case 8:{u.flags=r.uint32();break}default:r.skipType(E&7);break}}return u},s.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var c={};if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var l=0;l<r.attributes.length;++l){var u=S.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[l]);if(u)return"attributes."+u}}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&!_.isInteger(r.startTimeUnixNano)&&!(r.startTimeUnixNano&&_.isInteger(r.startTimeUnixNano.low)&&_.isInteger(r.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!_.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&_.isInteger(r.timeUnixNano.low)&&_.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(c.value=1,typeof r.asDouble!="number"))return"asDouble: number expected";if(r.asInt!=null&&r.hasOwnProperty("asInt")){if(c.value===1)return"value: multiple values";if(c.value=1,!_.isInteger(r.asInt)&&!(r.asInt&&_.isInteger(r.asInt.low)&&_.isInteger(r.asInt.high)))return"asInt: integer|Long expected"}if(r.exemplars!=null&&r.hasOwnProperty("exemplars")){if(!Array.isArray(r.exemplars))return"exemplars: array expected";for(var l=0;l<r.exemplars.length;++l){var u=S.opentelemetry.proto.metrics.v1.Exemplar.verify(r.exemplars[l]);if(u)return"exemplars."+u}}return r.flags!=null&&r.hasOwnProperty("flags")&&!_.isInteger(r.flags)?"flags: integer expected":null},s.fromObject=function(r){if(r instanceof S.opentelemetry.proto.metrics.v1.NumberDataPoint)return r;var c=new S.opentelemetry.proto.metrics.v1.NumberDataPoint;if(r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");c.attributes=[];for(var l=0;l<r.attributes.length;++l){if(typeof r.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");c.attributes[l]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[l])}}if(r.startTimeUnixNano!=null&&(_.Long?(c.startTimeUnixNano=_.Long.fromValue(r.startTimeUnixNano)).unsigned=!1:typeof r.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(r.startTimeUnixNano,10):typeof r.startTimeUnixNano=="number"?c.startTimeUnixNano=r.startTimeUnixNano:typeof r.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new _.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber())),r.timeUnixNano!=null&&(_.Long?(c.timeUnixNano=_.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?c.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?c.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(c.timeUnixNano=new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.asDouble!=null&&(c.asDouble=Number(r.asDouble)),r.asInt!=null&&(_.Long?(c.asInt=_.Long.fromValue(r.asInt)).unsigned=!1:typeof r.asInt=="string"?c.asInt=parseInt(r.asInt,10):typeof r.asInt=="number"?c.asInt=r.asInt:typeof r.asInt=="object"&&(c.asInt=new _.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber())),r.exemplars){if(!Array.isArray(r.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");c.exemplars=[];for(var l=0;l<r.exemplars.length;++l){if(typeof r.exemplars[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");c.exemplars[l]=S.opentelemetry.proto.metrics.v1.Exemplar.fromObject(r.exemplars[l])}}return r.flags!=null&&(c.flags=r.flags>>>0),c},s.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.exemplars=[],l.attributes=[]),c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.startTimeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.startTimeUnixNano=c.longs===String?"0":0;if(_.Long){var u=new _.Long(0,0,!1);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.timeUnixNano=c.longs===String?"0":0;l.flags=0}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&(typeof r.startTimeUnixNano=="number"?l.startTimeUnixNano=c.longs===String?String(r.startTimeUnixNano):r.startTimeUnixNano:l.startTimeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.startTimeUnixNano):c.longs===Number?new _.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber():r.startTimeUnixNano),r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(r.timeUnixNano):r.timeUnixNano:l.timeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.timeUnixNano):c.longs===Number?new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(l.asDouble=c.json&&!isFinite(r.asDouble)?String(r.asDouble):r.asDouble,c.oneofs&&(l.value="asDouble")),r.exemplars&&r.exemplars.length){l.exemplars=[];for(var E=0;E<r.exemplars.length;++E)l.exemplars[E]=S.opentelemetry.proto.metrics.v1.Exemplar.toObject(r.exemplars[E],c)}if(r.asInt!=null&&r.hasOwnProperty("asInt")&&(typeof r.asInt=="number"?l.asInt=c.longs===String?String(r.asInt):r.asInt:l.asInt=c.longs===String?_.Long.prototype.toString.call(r.asInt):c.longs===Number?new _.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber():r.asInt,c.oneofs&&(l.value="asInt")),r.attributes&&r.attributes.length){l.attributes=[];for(var E=0;E<r.attributes.length;++E)l.attributes[E]=S.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[E],c)}return r.flags!=null&&r.hasOwnProperty("flags")&&(l.flags=r.flags),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s}(),i.HistogramDataPoint=function(){function s(n){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}s.prototype.attributes=_.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=_.emptyArray,s.prototype.explicitBounds=_.emptyArray,s.prototype.exemplars=_.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:_.oneOfGetter(a=["sum"]),set:_.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:_.oneOfGetter(a=["min"]),set:_.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:_.oneOfGetter(a=["max"]),set:_.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,c){if(c||(c=ne.create()),r.startTimeUnixNano!=null&&Object.hasOwnProperty.call(r,"startTimeUnixNano")&&c.uint32(17).fixed64(r.startTimeUnixNano),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&c.uint32(25).fixed64(r.timeUnixNano),r.count!=null&&Object.hasOwnProperty.call(r,"count")&&c.uint32(33).fixed64(r.count),r.sum!=null&&Object.hasOwnProperty.call(r,"sum")&&c.uint32(41).double(r.sum),r.bucketCounts!=null&&r.bucketCounts.length){c.uint32(50).fork();for(var l=0;l<r.bucketCounts.length;++l)c.fixed64(r.bucketCounts[l]);c.ldelim()}if(r.explicitBounds!=null&&r.explicitBounds.length){c.uint32(58).fork();for(var l=0;l<r.explicitBounds.length;++l)c.double(r.explicitBounds[l]);c.ldelim()}if(r.exemplars!=null&&r.exemplars.length)for(var l=0;l<r.exemplars.length;++l)S.opentelemetry.proto.metrics.v1.Exemplar.encode(r.exemplars[l],c.uint32(66).fork()).ldelim();if(r.attributes!=null&&r.attributes.length)for(var l=0;l<r.attributes.length;++l)S.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[l],c.uint32(74).fork()).ldelim();return r.flags!=null&&Object.hasOwnProperty.call(r,"flags")&&c.uint32(80).uint32(r.flags),r.min!=null&&Object.hasOwnProperty.call(r,"min")&&c.uint32(89).double(r.min),r.max!=null&&Object.hasOwnProperty.call(r,"max")&&c.uint32(97).double(r.max),c},s.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},s.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.metrics.v1.HistogramDataPoint;r.pos<l;){var E=r.uint32();switch(E>>>3){case 9:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.startTimeUnixNano=r.fixed64();break}case 3:{u.timeUnixNano=r.fixed64();break}case 4:{u.count=r.fixed64();break}case 5:{u.sum=r.double();break}case 6:{if(u.bucketCounts&&u.bucketCounts.length||(u.bucketCounts=[]),(E&7)===2)for(var T=r.uint32()+r.pos;r.pos<T;)u.bucketCounts.push(r.fixed64());else u.bucketCounts.push(r.fixed64());break}case 7:{if(u.explicitBounds&&u.explicitBounds.length||(u.explicitBounds=[]),(E&7)===2)for(var T=r.uint32()+r.pos;r.pos<T;)u.explicitBounds.push(r.double());else u.explicitBounds.push(r.double());break}case 8:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(S.opentelemetry.proto.metrics.v1.Exemplar.decode(r,r.uint32()));break}case 10:{u.flags=r.uint32();break}case 11:{u.min=r.double();break}case 12:{u.max=r.double();break}default:r.skipType(E&7);break}}return u},s.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var c={};if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var l=0;l<r.attributes.length;++l){var u=S.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[l]);if(u)return"attributes."+u}}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&!_.isInteger(r.startTimeUnixNano)&&!(r.startTimeUnixNano&&_.isInteger(r.startTimeUnixNano.low)&&_.isInteger(r.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!_.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&_.isInteger(r.timeUnixNano.low)&&_.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.count!=null&&r.hasOwnProperty("count")&&!_.isInteger(r.count)&&!(r.count&&_.isInteger(r.count.low)&&_.isInteger(r.count.high)))return"count: integer|Long expected";if(r.sum!=null&&r.hasOwnProperty("sum")&&(c._sum=1,typeof r.sum!="number"))return"sum: number expected";if(r.bucketCounts!=null&&r.hasOwnProperty("bucketCounts")){if(!Array.isArray(r.bucketCounts))return"bucketCounts: array expected";for(var l=0;l<r.bucketCounts.length;++l)if(!_.isInteger(r.bucketCounts[l])&&!(r.bucketCounts[l]&&_.isInteger(r.bucketCounts[l].low)&&_.isInteger(r.bucketCounts[l].high)))return"bucketCounts: integer|Long[] expected"}if(r.explicitBounds!=null&&r.hasOwnProperty("explicitBounds")){if(!Array.isArray(r.explicitBounds))return"explicitBounds: array expected";for(var l=0;l<r.explicitBounds.length;++l)if(typeof r.explicitBounds[l]!="number")return"explicitBounds: number[] expected"}if(r.exemplars!=null&&r.hasOwnProperty("exemplars")){if(!Array.isArray(r.exemplars))return"exemplars: array expected";for(var l=0;l<r.exemplars.length;++l){var u=S.opentelemetry.proto.metrics.v1.Exemplar.verify(r.exemplars[l]);if(u)return"exemplars."+u}}return r.flags!=null&&r.hasOwnProperty("flags")&&!_.isInteger(r.flags)?"flags: integer expected":r.min!=null&&r.hasOwnProperty("min")&&(c._min=1,typeof r.min!="number")?"min: number expected":r.max!=null&&r.hasOwnProperty("max")&&(c._max=1,typeof r.max!="number")?"max: number expected":null},s.fromObject=function(r){if(r instanceof S.opentelemetry.proto.metrics.v1.HistogramDataPoint)return r;var c=new S.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");c.attributes=[];for(var l=0;l<r.attributes.length;++l){if(typeof r.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");c.attributes[l]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[l])}}if(r.startTimeUnixNano!=null&&(_.Long?(c.startTimeUnixNano=_.Long.fromValue(r.startTimeUnixNano)).unsigned=!1:typeof r.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(r.startTimeUnixNano,10):typeof r.startTimeUnixNano=="number"?c.startTimeUnixNano=r.startTimeUnixNano:typeof r.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new _.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber())),r.timeUnixNano!=null&&(_.Long?(c.timeUnixNano=_.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?c.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?c.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(c.timeUnixNano=new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.count!=null&&(_.Long?(c.count=_.Long.fromValue(r.count)).unsigned=!1:typeof r.count=="string"?c.count=parseInt(r.count,10):typeof r.count=="number"?c.count=r.count:typeof r.count=="object"&&(c.count=new _.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber())),r.sum!=null&&(c.sum=Number(r.sum)),r.bucketCounts){if(!Array.isArray(r.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");c.bucketCounts=[];for(var l=0;l<r.bucketCounts.length;++l)_.Long?(c.bucketCounts[l]=_.Long.fromValue(r.bucketCounts[l])).unsigned=!1:typeof r.bucketCounts[l]=="string"?c.bucketCounts[l]=parseInt(r.bucketCounts[l],10):typeof r.bucketCounts[l]=="number"?c.bucketCounts[l]=r.bucketCounts[l]:typeof r.bucketCounts[l]=="object"&&(c.bucketCounts[l]=new _.LongBits(r.bucketCounts[l].low>>>0,r.bucketCounts[l].high>>>0).toNumber())}if(r.explicitBounds){if(!Array.isArray(r.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");c.explicitBounds=[];for(var l=0;l<r.explicitBounds.length;++l)c.explicitBounds[l]=Number(r.explicitBounds[l])}if(r.exemplars){if(!Array.isArray(r.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");c.exemplars=[];for(var l=0;l<r.exemplars.length;++l){if(typeof r.exemplars[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");c.exemplars[l]=S.opentelemetry.proto.metrics.v1.Exemplar.fromObject(r.exemplars[l])}}return r.flags!=null&&(c.flags=r.flags>>>0),r.min!=null&&(c.min=Number(r.min)),r.max!=null&&(c.max=Number(r.max)),c},s.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.bucketCounts=[],l.explicitBounds=[],l.exemplars=[],l.attributes=[]),c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.startTimeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.startTimeUnixNano=c.longs===String?"0":0;if(_.Long){var u=new _.Long(0,0,!1);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.timeUnixNano=c.longs===String?"0":0;if(_.Long){var u=new _.Long(0,0,!1);l.count=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.count=c.longs===String?"0":0;l.flags=0}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&(typeof r.startTimeUnixNano=="number"?l.startTimeUnixNano=c.longs===String?String(r.startTimeUnixNano):r.startTimeUnixNano:l.startTimeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.startTimeUnixNano):c.longs===Number?new _.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber():r.startTimeUnixNano),r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(r.timeUnixNano):r.timeUnixNano:l.timeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.timeUnixNano):c.longs===Number?new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.count!=null&&r.hasOwnProperty("count")&&(typeof r.count=="number"?l.count=c.longs===String?String(r.count):r.count:l.count=c.longs===String?_.Long.prototype.toString.call(r.count):c.longs===Number?new _.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber():r.count),r.sum!=null&&r.hasOwnProperty("sum")&&(l.sum=c.json&&!isFinite(r.sum)?String(r.sum):r.sum,c.oneofs&&(l._sum="sum")),r.bucketCounts&&r.bucketCounts.length){l.bucketCounts=[];for(var E=0;E<r.bucketCounts.length;++E)typeof r.bucketCounts[E]=="number"?l.bucketCounts[E]=c.longs===String?String(r.bucketCounts[E]):r.bucketCounts[E]:l.bucketCounts[E]=c.longs===String?_.Long.prototype.toString.call(r.bucketCounts[E]):c.longs===Number?new _.LongBits(r.bucketCounts[E].low>>>0,r.bucketCounts[E].high>>>0).toNumber():r.bucketCounts[E]}if(r.explicitBounds&&r.explicitBounds.length){l.explicitBounds=[];for(var E=0;E<r.explicitBounds.length;++E)l.explicitBounds[E]=c.json&&!isFinite(r.explicitBounds[E])?String(r.explicitBounds[E]):r.explicitBounds[E]}if(r.exemplars&&r.exemplars.length){l.exemplars=[];for(var E=0;E<r.exemplars.length;++E)l.exemplars[E]=S.opentelemetry.proto.metrics.v1.Exemplar.toObject(r.exemplars[E],c)}if(r.attributes&&r.attributes.length){l.attributes=[];for(var E=0;E<r.attributes.length;++E)l.attributes[E]=S.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[E],c)}return r.flags!=null&&r.hasOwnProperty("flags")&&(l.flags=r.flags),r.min!=null&&r.hasOwnProperty("min")&&(l.min=c.json&&!isFinite(r.min)?String(r.min):r.min,c.oneofs&&(l._min="min")),r.max!=null&&r.hasOwnProperty("max")&&(l.max=c.json&&!isFinite(r.max)?String(r.max):r.max,c.oneofs&&(l._max="max")),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s}(),i.ExponentialHistogramDataPoint=function(){function s(n){if(this.attributes=[],this.exemplars=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}s.prototype.attributes=_.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=_.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:_.oneOfGetter(a=["sum"]),set:_.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:_.oneOfGetter(a=["min"]),set:_.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:_.oneOfGetter(a=["max"]),set:_.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,c){if(c||(c=ne.create()),r.attributes!=null&&r.attributes.length)for(var l=0;l<r.attributes.length;++l)S.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[l],c.uint32(10).fork()).ldelim();if(r.startTimeUnixNano!=null&&Object.hasOwnProperty.call(r,"startTimeUnixNano")&&c.uint32(17).fixed64(r.startTimeUnixNano),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&c.uint32(25).fixed64(r.timeUnixNano),r.count!=null&&Object.hasOwnProperty.call(r,"count")&&c.uint32(33).fixed64(r.count),r.sum!=null&&Object.hasOwnProperty.call(r,"sum")&&c.uint32(41).double(r.sum),r.scale!=null&&Object.hasOwnProperty.call(r,"scale")&&c.uint32(48).sint32(r.scale),r.zeroCount!=null&&Object.hasOwnProperty.call(r,"zeroCount")&&c.uint32(57).fixed64(r.zeroCount),r.positive!=null&&Object.hasOwnProperty.call(r,"positive")&&S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(r.positive,c.uint32(66).fork()).ldelim(),r.negative!=null&&Object.hasOwnProperty.call(r,"negative")&&S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(r.negative,c.uint32(74).fork()).ldelim(),r.flags!=null&&Object.hasOwnProperty.call(r,"flags")&&c.uint32(80).uint32(r.flags),r.exemplars!=null&&r.exemplars.length)for(var l=0;l<r.exemplars.length;++l)S.opentelemetry.proto.metrics.v1.Exemplar.encode(r.exemplars[l],c.uint32(90).fork()).ldelim();return r.min!=null&&Object.hasOwnProperty.call(r,"min")&&c.uint32(97).double(r.min),r.max!=null&&Object.hasOwnProperty.call(r,"max")&&c.uint32(105).double(r.max),r.zeroThreshold!=null&&Object.hasOwnProperty.call(r,"zeroThreshold")&&c.uint32(113).double(r.zeroThreshold),c},s.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},s.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.startTimeUnixNano=r.fixed64();break}case 3:{u.timeUnixNano=r.fixed64();break}case 4:{u.count=r.fixed64();break}case 5:{u.sum=r.double();break}case 6:{u.scale=r.sint32();break}case 7:{u.zeroCount=r.fixed64();break}case 8:{u.positive=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(r,r.uint32());break}case 9:{u.negative=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(r,r.uint32());break}case 10:{u.flags=r.uint32();break}case 11:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(S.opentelemetry.proto.metrics.v1.Exemplar.decode(r,r.uint32()));break}case 12:{u.min=r.double();break}case 13:{u.max=r.double();break}case 14:{u.zeroThreshold=r.double();break}default:r.skipType(E&7);break}}return u},s.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var c={};if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var l=0;l<r.attributes.length;++l){var u=S.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[l]);if(u)return"attributes."+u}}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&!_.isInteger(r.startTimeUnixNano)&&!(r.startTimeUnixNano&&_.isInteger(r.startTimeUnixNano.low)&&_.isInteger(r.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!_.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&_.isInteger(r.timeUnixNano.low)&&_.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.count!=null&&r.hasOwnProperty("count")&&!_.isInteger(r.count)&&!(r.count&&_.isInteger(r.count.low)&&_.isInteger(r.count.high)))return"count: integer|Long expected";if(r.sum!=null&&r.hasOwnProperty("sum")&&(c._sum=1,typeof r.sum!="number"))return"sum: number expected";if(r.scale!=null&&r.hasOwnProperty("scale")&&!_.isInteger(r.scale))return"scale: integer expected";if(r.zeroCount!=null&&r.hasOwnProperty("zeroCount")&&!_.isInteger(r.zeroCount)&&!(r.zeroCount&&_.isInteger(r.zeroCount.low)&&_.isInteger(r.zeroCount.high)))return"zeroCount: integer|Long expected";if(r.positive!=null&&r.hasOwnProperty("positive")){var u=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(r.positive);if(u)return"positive."+u}if(r.negative!=null&&r.hasOwnProperty("negative")){var u=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(r.negative);if(u)return"negative."+u}if(r.flags!=null&&r.hasOwnProperty("flags")&&!_.isInteger(r.flags))return"flags: integer expected";if(r.exemplars!=null&&r.hasOwnProperty("exemplars")){if(!Array.isArray(r.exemplars))return"exemplars: array expected";for(var l=0;l<r.exemplars.length;++l){var u=S.opentelemetry.proto.metrics.v1.Exemplar.verify(r.exemplars[l]);if(u)return"exemplars."+u}}return r.min!=null&&r.hasOwnProperty("min")&&(c._min=1,typeof r.min!="number")?"min: number expected":r.max!=null&&r.hasOwnProperty("max")&&(c._max=1,typeof r.max!="number")?"max: number expected":r.zeroThreshold!=null&&r.hasOwnProperty("zeroThreshold")&&typeof r.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(r){if(r instanceof S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return r;var c=new S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");c.attributes=[];for(var l=0;l<r.attributes.length;++l){if(typeof r.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");c.attributes[l]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[l])}}if(r.startTimeUnixNano!=null&&(_.Long?(c.startTimeUnixNano=_.Long.fromValue(r.startTimeUnixNano)).unsigned=!1:typeof r.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(r.startTimeUnixNano,10):typeof r.startTimeUnixNano=="number"?c.startTimeUnixNano=r.startTimeUnixNano:typeof r.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new _.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber())),r.timeUnixNano!=null&&(_.Long?(c.timeUnixNano=_.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?c.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?c.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(c.timeUnixNano=new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.count!=null&&(_.Long?(c.count=_.Long.fromValue(r.count)).unsigned=!1:typeof r.count=="string"?c.count=parseInt(r.count,10):typeof r.count=="number"?c.count=r.count:typeof r.count=="object"&&(c.count=new _.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber())),r.sum!=null&&(c.sum=Number(r.sum)),r.scale!=null&&(c.scale=r.scale|0),r.zeroCount!=null&&(_.Long?(c.zeroCount=_.Long.fromValue(r.zeroCount)).unsigned=!1:typeof r.zeroCount=="string"?c.zeroCount=parseInt(r.zeroCount,10):typeof r.zeroCount=="number"?c.zeroCount=r.zeroCount:typeof r.zeroCount=="object"&&(c.zeroCount=new _.LongBits(r.zeroCount.low>>>0,r.zeroCount.high>>>0).toNumber())),r.positive!=null){if(typeof r.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");c.positive=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(r.positive)}if(r.negative!=null){if(typeof r.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");c.negative=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(r.negative)}if(r.flags!=null&&(c.flags=r.flags>>>0),r.exemplars){if(!Array.isArray(r.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");c.exemplars=[];for(var l=0;l<r.exemplars.length;++l){if(typeof r.exemplars[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");c.exemplars[l]=S.opentelemetry.proto.metrics.v1.Exemplar.fromObject(r.exemplars[l])}}return r.min!=null&&(c.min=Number(r.min)),r.max!=null&&(c.max=Number(r.max)),r.zeroThreshold!=null&&(c.zeroThreshold=Number(r.zeroThreshold)),c},s.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.attributes=[],l.exemplars=[]),c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.startTimeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.startTimeUnixNano=c.longs===String?"0":0;if(_.Long){var u=new _.Long(0,0,!1);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.timeUnixNano=c.longs===String?"0":0;if(_.Long){var u=new _.Long(0,0,!1);l.count=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.count=c.longs===String?"0":0;if(l.scale=0,_.Long){var u=new _.Long(0,0,!1);l.zeroCount=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.zeroCount=c.longs===String?"0":0;l.positive=null,l.negative=null,l.flags=0,l.zeroThreshold=0}if(r.attributes&&r.attributes.length){l.attributes=[];for(var E=0;E<r.attributes.length;++E)l.attributes[E]=S.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[E],c)}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&(typeof r.startTimeUnixNano=="number"?l.startTimeUnixNano=c.longs===String?String(r.startTimeUnixNano):r.startTimeUnixNano:l.startTimeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.startTimeUnixNano):c.longs===Number?new _.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber():r.startTimeUnixNano),r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(r.timeUnixNano):r.timeUnixNano:l.timeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.timeUnixNano):c.longs===Number?new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.count!=null&&r.hasOwnProperty("count")&&(typeof r.count=="number"?l.count=c.longs===String?String(r.count):r.count:l.count=c.longs===String?_.Long.prototype.toString.call(r.count):c.longs===Number?new _.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber():r.count),r.sum!=null&&r.hasOwnProperty("sum")&&(l.sum=c.json&&!isFinite(r.sum)?String(r.sum):r.sum,c.oneofs&&(l._sum="sum")),r.scale!=null&&r.hasOwnProperty("scale")&&(l.scale=r.scale),r.zeroCount!=null&&r.hasOwnProperty("zeroCount")&&(typeof r.zeroCount=="number"?l.zeroCount=c.longs===String?String(r.zeroCount):r.zeroCount:l.zeroCount=c.longs===String?_.Long.prototype.toString.call(r.zeroCount):c.longs===Number?new _.LongBits(r.zeroCount.low>>>0,r.zeroCount.high>>>0).toNumber():r.zeroCount),r.positive!=null&&r.hasOwnProperty("positive")&&(l.positive=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(r.positive,c)),r.negative!=null&&r.hasOwnProperty("negative")&&(l.negative=S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(r.negative,c)),r.flags!=null&&r.hasOwnProperty("flags")&&(l.flags=r.flags),r.exemplars&&r.exemplars.length){l.exemplars=[];for(var E=0;E<r.exemplars.length;++E)l.exemplars[E]=S.opentelemetry.proto.metrics.v1.Exemplar.toObject(r.exemplars[E],c)}return r.min!=null&&r.hasOwnProperty("min")&&(l.min=c.json&&!isFinite(r.min)?String(r.min):r.min,c.oneofs&&(l._min="min")),r.max!=null&&r.hasOwnProperty("max")&&(l.max=c.json&&!isFinite(r.max)?String(r.max):r.max,c.oneofs&&(l._max="max")),r.zeroThreshold!=null&&r.hasOwnProperty("zeroThreshold")&&(l.zeroThreshold=c.json&&!isFinite(r.zeroThreshold)?String(r.zeroThreshold):r.zeroThreshold),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=function(){function n(r){if(this.bucketCounts=[],r)for(var c=Object.keys(r),l=0;l<c.length;++l)r[c[l]]!=null&&(this[c[l]]=r[c[l]])}return n.prototype.offset=null,n.prototype.bucketCounts=_.emptyArray,n.create=function(c){return new n(c)},n.encode=function(c,l){if(l||(l=ne.create()),c.offset!=null&&Object.hasOwnProperty.call(c,"offset")&&l.uint32(8).sint32(c.offset),c.bucketCounts!=null&&c.bucketCounts.length){l.uint32(18).fork();for(var u=0;u<c.bucketCounts.length;++u)l.uint64(c.bucketCounts[u]);l.ldelim()}return l},n.encodeDelimited=function(c,l){return this.encode(c,l).ldelim()},n.decode=function(c,l){c instanceof A||(c=A.create(c));for(var u=l===void 0?c.len:c.pos+l,E=new S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;c.pos<u;){var T=c.uint32();switch(T>>>3){case 1:{E.offset=c.sint32();break}case 2:{if(E.bucketCounts&&E.bucketCounts.length||(E.bucketCounts=[]),(T&7)===2)for(var f=c.uint32()+c.pos;c.pos<f;)E.bucketCounts.push(c.uint64());else E.bucketCounts.push(c.uint64());break}default:c.skipType(T&7);break}}return E},n.decodeDelimited=function(c){return c instanceof A||(c=new A(c)),this.decode(c,c.uint32())},n.verify=function(c){if(typeof c!="object"||c===null)return"object expected";if(c.offset!=null&&c.hasOwnProperty("offset")&&!_.isInteger(c.offset))return"offset: integer expected";if(c.bucketCounts!=null&&c.hasOwnProperty("bucketCounts")){if(!Array.isArray(c.bucketCounts))return"bucketCounts: array expected";for(var l=0;l<c.bucketCounts.length;++l)if(!_.isInteger(c.bucketCounts[l])&&!(c.bucketCounts[l]&&_.isInteger(c.bucketCounts[l].low)&&_.isInteger(c.bucketCounts[l].high)))return"bucketCounts: integer|Long[] expected"}return null},n.fromObject=function(c){if(c instanceof S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return c;var l=new S.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(c.offset!=null&&(l.offset=c.offset|0),c.bucketCounts){if(!Array.isArray(c.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");l.bucketCounts=[];for(var u=0;u<c.bucketCounts.length;++u)_.Long?(l.bucketCounts[u]=_.Long.fromValue(c.bucketCounts[u])).unsigned=!0:typeof c.bucketCounts[u]=="string"?l.bucketCounts[u]=parseInt(c.bucketCounts[u],10):typeof c.bucketCounts[u]=="number"?l.bucketCounts[u]=c.bucketCounts[u]:typeof c.bucketCounts[u]=="object"&&(l.bucketCounts[u]=new _.LongBits(c.bucketCounts[u].low>>>0,c.bucketCounts[u].high>>>0).toNumber(!0))}return l},n.toObject=function(c,l){l||(l={});var u={};if((l.arrays||l.defaults)&&(u.bucketCounts=[]),l.defaults&&(u.offset=0),c.offset!=null&&c.hasOwnProperty("offset")&&(u.offset=c.offset),c.bucketCounts&&c.bucketCounts.length){u.bucketCounts=[];for(var E=0;E<c.bucketCounts.length;++E)typeof c.bucketCounts[E]=="number"?u.bucketCounts[E]=l.longs===String?String(c.bucketCounts[E]):c.bucketCounts[E]:u.bucketCounts[E]=l.longs===String?_.Long.prototype.toString.call(c.bucketCounts[E]):l.longs===Number?new _.LongBits(c.bucketCounts[E].low>>>0,c.bucketCounts[E].high>>>0).toNumber(!0):c.bucketCounts[E]}return u},n.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},n.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},n}(),s}(),i.SummaryDataPoint=function(){function s(a){if(this.attributes=[],this.quantileValues=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.attributes=_.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=_.emptyArray,s.prototype.flags=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&r.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&r.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&r.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&r.uint32(41).double(n.sum),n.quantileValues!=null&&n.quantileValues.length)for(var c=0;c<n.quantileValues.length;++c)S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(n.quantileValues[c],r.uint32(50).fork()).ldelim();if(n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)S.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],r.uint32(58).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&r.uint32(64).uint32(n.flags),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.metrics.v1.SummaryDataPoint;n.pos<c;){var u=n.uint32();switch(u>>>3){case 7:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{l.startTimeUnixNano=n.fixed64();break}case 3:{l.timeUnixNano=n.fixed64();break}case 4:{l.count=n.fixed64();break}case 5:{l.sum=n.double();break}case 6:{l.quantileValues&&l.quantileValues.length||(l.quantileValues=[]),l.quantileValues.push(S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(n,n.uint32()));break}case 8:{l.flags=n.uint32();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var c=S.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(c)return"attributes."+c}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!_.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&_.isInteger(n.startTimeUnixNano.low)&&_.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!_.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&_.isInteger(n.timeUnixNano.low)&&_.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!_.isInteger(n.count)&&!(n.count&&_.isInteger(n.count.low)&&_.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&typeof n.sum!="number")return"sum: number expected";if(n.quantileValues!=null&&n.hasOwnProperty("quantileValues")){if(!Array.isArray(n.quantileValues))return"quantileValues: array expected";for(var r=0;r<n.quantileValues.length;++r){var c=S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(n.quantileValues[r]);if(c)return"quantileValues."+c}}return n.flags!=null&&n.hasOwnProperty("flags")&&!_.isInteger(n.flags)?"flags: integer expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.metrics.v1.SummaryDataPoint)return n;var r=new S.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");r.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");r.attributes[c]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(_.Long?(r.startTimeUnixNano=_.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?r.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?r.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(r.startTimeUnixNano=new _.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(_.Long?(r.timeUnixNano=_.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?r.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?r.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(r.timeUnixNano=new _.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(_.Long?(r.count=_.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?r.count=parseInt(n.count,10):typeof n.count=="number"?r.count=n.count:typeof n.count=="object"&&(r.count=new _.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(r.sum=Number(n.sum)),n.quantileValues){if(!Array.isArray(n.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");r.quantileValues=[];for(var c=0;c<n.quantileValues.length;++c){if(typeof n.quantileValues[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");r.quantileValues[c]=S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(n.quantileValues[c])}}return n.flags!=null&&(r.flags=n.flags>>>0),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.quantileValues=[],c.attributes=[]),r.defaults){if(_.Long){var l=new _.Long(0,0,!1);c.startTimeUnixNano=r.longs===String?l.toString():r.longs===Number?l.toNumber():l}else c.startTimeUnixNano=r.longs===String?"0":0;if(_.Long){var l=new _.Long(0,0,!1);c.timeUnixNano=r.longs===String?l.toString():r.longs===Number?l.toNumber():l}else c.timeUnixNano=r.longs===String?"0":0;if(_.Long){var l=new _.Long(0,0,!1);c.count=r.longs===String?l.toString():r.longs===Number?l.toNumber():l}else c.count=r.longs===String?"0":0;c.sum=0,c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=r.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=r.longs===String?_.Long.prototype.toString.call(n.startTimeUnixNano):r.longs===Number?new _.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=r.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=r.longs===String?_.Long.prototype.toString.call(n.timeUnixNano):r.longs===Number?new _.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=r.longs===String?String(n.count):n.count:c.count=r.longs===String?_.Long.prototype.toString.call(n.count):r.longs===Number?new _.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=r.json&&!isFinite(n.sum)?String(n.sum):n.sum),n.quantileValues&&n.quantileValues.length){c.quantileValues=[];for(var u=0;u<n.quantileValues.length;++u)c.quantileValues[u]=S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(n.quantileValues[u],r)}if(n.attributes&&n.attributes.length){c.attributes=[];for(var u=0;u<n.attributes.length;++u)c.attributes[u]=S.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],r)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=function(){function a(n){if(n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(r){return new a(r)},a.encode=function(r,c){return c||(c=ne.create()),r.quantile!=null&&Object.hasOwnProperty.call(r,"quantile")&&c.uint32(9).double(r.quantile),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&c.uint32(17).double(r.value),c},a.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},a.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;r.pos<l;){var E=r.uint32();switch(E>>>3){case 1:{u.quantile=r.double();break}case 2:{u.value=r.double();break}default:r.skipType(E&7);break}}return u},a.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.quantile!=null&&r.hasOwnProperty("quantile")&&typeof r.quantile!="number"?"quantile: number expected":r.value!=null&&r.hasOwnProperty("value")&&typeof r.value!="number"?"value: number expected":null},a.fromObject=function(r){if(r instanceof S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return r;var c=new S.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return r.quantile!=null&&(c.quantile=Number(r.quantile)),r.value!=null&&(c.value=Number(r.value)),c},a.toObject=function(r,c){c||(c={});var l={};return c.defaults&&(l.quantile=0,l.value=0),r.quantile!=null&&r.hasOwnProperty("quantile")&&(l.quantile=c.json&&!isFinite(r.quantile)?String(r.quantile):r.quantile),r.value!=null&&r.hasOwnProperty("value")&&(l.value=c.json&&!isFinite(r.value)?String(r.value):r.value),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),s}(),i.Exemplar=function(){function s(n){if(this.filteredAttributes=[],n)for(var r=Object.keys(n),c=0;c<r.length;++c)n[r[c]]!=null&&(this[r[c]]=n[r[c]])}s.prototype.filteredAttributes=_.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var a;return Object.defineProperty(s.prototype,"value",{get:_.oneOfGetter(a=["asDouble","asInt"]),set:_.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,c){if(c||(c=ne.create()),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&c.uint32(17).fixed64(r.timeUnixNano),r.asDouble!=null&&Object.hasOwnProperty.call(r,"asDouble")&&c.uint32(25).double(r.asDouble),r.spanId!=null&&Object.hasOwnProperty.call(r,"spanId")&&c.uint32(34).bytes(r.spanId),r.traceId!=null&&Object.hasOwnProperty.call(r,"traceId")&&c.uint32(42).bytes(r.traceId),r.asInt!=null&&Object.hasOwnProperty.call(r,"asInt")&&c.uint32(49).sfixed64(r.asInt),r.filteredAttributes!=null&&r.filteredAttributes.length)for(var l=0;l<r.filteredAttributes.length;++l)S.opentelemetry.proto.common.v1.KeyValue.encode(r.filteredAttributes[l],c.uint32(58).fork()).ldelim();return c},s.encodeDelimited=function(r,c){return this.encode(r,c).ldelim()},s.decode=function(r,c){r instanceof A||(r=A.create(r));for(var l=c===void 0?r.len:r.pos+c,u=new S.opentelemetry.proto.metrics.v1.Exemplar;r.pos<l;){var E=r.uint32();switch(E>>>3){case 7:{u.filteredAttributes&&u.filteredAttributes.length||(u.filteredAttributes=[]),u.filteredAttributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.timeUnixNano=r.fixed64();break}case 3:{u.asDouble=r.double();break}case 6:{u.asInt=r.sfixed64();break}case 4:{u.spanId=r.bytes();break}case 5:{u.traceId=r.bytes();break}default:r.skipType(E&7);break}}return u},s.decodeDelimited=function(r){return r instanceof A||(r=new A(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var c={};if(r.filteredAttributes!=null&&r.hasOwnProperty("filteredAttributes")){if(!Array.isArray(r.filteredAttributes))return"filteredAttributes: array expected";for(var l=0;l<r.filteredAttributes.length;++l){var u=S.opentelemetry.proto.common.v1.KeyValue.verify(r.filteredAttributes[l]);if(u)return"filteredAttributes."+u}}if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!_.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&_.isInteger(r.timeUnixNano.low)&&_.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(c.value=1,typeof r.asDouble!="number"))return"asDouble: number expected";if(r.asInt!=null&&r.hasOwnProperty("asInt")){if(c.value===1)return"value: multiple values";if(c.value=1,!_.isInteger(r.asInt)&&!(r.asInt&&_.isInteger(r.asInt.low)&&_.isInteger(r.asInt.high)))return"asInt: integer|Long expected"}return r.spanId!=null&&r.hasOwnProperty("spanId")&&!(r.spanId&&typeof r.spanId.length=="number"||_.isString(r.spanId))?"spanId: buffer expected":r.traceId!=null&&r.hasOwnProperty("traceId")&&!(r.traceId&&typeof r.traceId.length=="number"||_.isString(r.traceId))?"traceId: buffer expected":null},s.fromObject=function(r){if(r instanceof S.opentelemetry.proto.metrics.v1.Exemplar)return r;var c=new S.opentelemetry.proto.metrics.v1.Exemplar;if(r.filteredAttributes){if(!Array.isArray(r.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");c.filteredAttributes=[];for(var l=0;l<r.filteredAttributes.length;++l){if(typeof r.filteredAttributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");c.filteredAttributes[l]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(r.filteredAttributes[l])}}return r.timeUnixNano!=null&&(_.Long?(c.timeUnixNano=_.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?c.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?c.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(c.timeUnixNano=new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.asDouble!=null&&(c.asDouble=Number(r.asDouble)),r.asInt!=null&&(_.Long?(c.asInt=_.Long.fromValue(r.asInt)).unsigned=!1:typeof r.asInt=="string"?c.asInt=parseInt(r.asInt,10):typeof r.asInt=="number"?c.asInt=r.asInt:typeof r.asInt=="object"&&(c.asInt=new _.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber())),r.spanId!=null&&(typeof r.spanId=="string"?_.base64.decode(r.spanId,c.spanId=_.newBuffer(_.base64.length(r.spanId)),0):r.spanId.length>=0&&(c.spanId=r.spanId)),r.traceId!=null&&(typeof r.traceId=="string"?_.base64.decode(r.traceId,c.traceId=_.newBuffer(_.base64.length(r.traceId)),0):r.traceId.length>=0&&(c.traceId=r.traceId)),c},s.toObject=function(r,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.filteredAttributes=[]),c.defaults){if(_.Long){var u=new _.Long(0,0,!1);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u}else l.timeUnixNano=c.longs===String?"0":0;c.bytes===String?l.spanId="":(l.spanId=[],c.bytes!==Array&&(l.spanId=_.newBuffer(l.spanId))),c.bytes===String?l.traceId="":(l.traceId=[],c.bytes!==Array&&(l.traceId=_.newBuffer(l.traceId)))}if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(r.timeUnixNano):r.timeUnixNano:l.timeUnixNano=c.longs===String?_.Long.prototype.toString.call(r.timeUnixNano):c.longs===Number?new _.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(l.asDouble=c.json&&!isFinite(r.asDouble)?String(r.asDouble):r.asDouble,c.oneofs&&(l.value="asDouble")),r.spanId!=null&&r.hasOwnProperty("spanId")&&(l.spanId=c.bytes===String?_.base64.encode(r.spanId,0,r.spanId.length):c.bytes===Array?Array.prototype.slice.call(r.spanId):r.spanId),r.traceId!=null&&r.hasOwnProperty("traceId")&&(l.traceId=c.bytes===String?_.base64.encode(r.traceId,0,r.traceId.length):c.bytes===Array?Array.prototype.slice.call(r.traceId):r.traceId),r.asInt!=null&&r.hasOwnProperty("asInt")&&(typeof r.asInt=="number"?l.asInt=c.longs===String?String(r.asInt):r.asInt:l.asInt=c.longs===String?_.Long.prototype.toString.call(r.asInt):c.longs===Number?new _.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber():r.asInt,c.oneofs&&(l.value="asInt")),r.filteredAttributes&&r.filteredAttributes.length){l.filteredAttributes=[];for(var E=0;E<r.filteredAttributes.length;++E)l.filteredAttributes[E]=S.opentelemetry.proto.common.v1.KeyValue.toObject(r.filteredAttributes[E],c)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.Exemplar"},s}(),i}(),t}(),e.logs=function(){var t={};return t.v1=function(){var i={};return i.LogsData=function(){function s(a){if(this.resourceLogs=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resourceLogs=_.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resourceLogs!=null&&n.resourceLogs.length)for(var c=0;c<n.resourceLogs.length;++c)S.opentelemetry.proto.logs.v1.ResourceLogs.encode(n.resourceLogs[c],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.logs.v1.LogsData;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.resourceLogs&&l.resourceLogs.length||(l.resourceLogs=[]),l.resourceLogs.push(S.opentelemetry.proto.logs.v1.ResourceLogs.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceLogs!=null&&n.hasOwnProperty("resourceLogs")){if(!Array.isArray(n.resourceLogs))return"resourceLogs: array expected";for(var r=0;r<n.resourceLogs.length;++r){var c=S.opentelemetry.proto.logs.v1.ResourceLogs.verify(n.resourceLogs[r]);if(c)return"resourceLogs."+c}}return null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.logs.v1.LogsData)return n;var r=new S.opentelemetry.proto.logs.v1.LogsData;if(n.resourceLogs){if(!Array.isArray(n.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");r.resourceLogs=[];for(var c=0;c<n.resourceLogs.length;++c){if(typeof n.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");r.resourceLogs[c]=S.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(n.resourceLogs[c])}}return r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.resourceLogs=[]),n.resourceLogs&&n.resourceLogs.length){c.resourceLogs=[];for(var l=0;l<n.resourceLogs.length;++l)c.resourceLogs[l]=S.opentelemetry.proto.logs.v1.ResourceLogs.toObject(n.resourceLogs[l],r)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.LogsData"},s}(),i.ResourceLogs=function(){function s(a){if(this.scopeLogs=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resource=null,s.prototype.scopeLogs=_.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&S.opentelemetry.proto.resource.v1.Resource.encode(n.resource,r.uint32(10).fork()).ldelim(),n.scopeLogs!=null&&n.scopeLogs.length)for(var c=0;c<n.scopeLogs.length;++c)S.opentelemetry.proto.logs.v1.ScopeLogs.encode(n.scopeLogs[c],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.logs.v1.ResourceLogs;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.resource=S.opentelemetry.proto.resource.v1.Resource.decode(n,n.uint32());break}case 2:{l.scopeLogs&&l.scopeLogs.length||(l.scopeLogs=[]),l.scopeLogs.push(S.opentelemetry.proto.logs.v1.ScopeLogs.decode(n,n.uint32()));break}case 3:{l.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")){var r=S.opentelemetry.proto.resource.v1.Resource.verify(n.resource);if(r)return"resource."+r}if(n.scopeLogs!=null&&n.hasOwnProperty("scopeLogs")){if(!Array.isArray(n.scopeLogs))return"scopeLogs: array expected";for(var c=0;c<n.scopeLogs.length;++c){var r=S.opentelemetry.proto.logs.v1.ScopeLogs.verify(n.scopeLogs[c]);if(r)return"scopeLogs."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!_.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.logs.v1.ResourceLogs)return n;var r=new S.opentelemetry.proto.logs.v1.ResourceLogs;if(n.resource!=null){if(typeof n.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");r.resource=S.opentelemetry.proto.resource.v1.Resource.fromObject(n.resource)}if(n.scopeLogs){if(!Array.isArray(n.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");r.scopeLogs=[];for(var c=0;c<n.scopeLogs.length;++c){if(typeof n.scopeLogs[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");r.scopeLogs[c]=S.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(n.scopeLogs[c])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.scopeLogs=[]),r.defaults&&(c.resource=null,c.schemaUrl=""),n.resource!=null&&n.hasOwnProperty("resource")&&(c.resource=S.opentelemetry.proto.resource.v1.Resource.toObject(n.resource,r)),n.scopeLogs&&n.scopeLogs.length){c.scopeLogs=[];for(var l=0;l<n.scopeLogs.length;++l)c.scopeLogs[l]=S.opentelemetry.proto.logs.v1.ScopeLogs.toObject(n.scopeLogs[l],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(c.schemaUrl=n.schemaUrl),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.ResourceLogs"},s}(),i.ScopeLogs=function(){function s(a){if(this.logRecords=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.scope=null,s.prototype.logRecords=_.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.scope!=null&&Object.hasOwnProperty.call(n,"scope")&&S.opentelemetry.proto.common.v1.InstrumentationScope.encode(n.scope,r.uint32(10).fork()).ldelim(),n.logRecords!=null&&n.logRecords.length)for(var c=0;c<n.logRecords.length;++c)S.opentelemetry.proto.logs.v1.LogRecord.encode(n.logRecords[c],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.logs.v1.ScopeLogs;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.decode(n,n.uint32());break}case 2:{l.logRecords&&l.logRecords.length||(l.logRecords=[]),l.logRecords.push(S.opentelemetry.proto.logs.v1.LogRecord.decode(n,n.uint32()));break}case 3:{l.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.scope!=null&&n.hasOwnProperty("scope")){var r=S.opentelemetry.proto.common.v1.InstrumentationScope.verify(n.scope);if(r)return"scope."+r}if(n.logRecords!=null&&n.hasOwnProperty("logRecords")){if(!Array.isArray(n.logRecords))return"logRecords: array expected";for(var c=0;c<n.logRecords.length;++c){var r=S.opentelemetry.proto.logs.v1.LogRecord.verify(n.logRecords[c]);if(r)return"logRecords."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!_.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.logs.v1.ScopeLogs)return n;var r=new S.opentelemetry.proto.logs.v1.ScopeLogs;if(n.scope!=null){if(typeof n.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");r.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(n.scope)}if(n.logRecords){if(!Array.isArray(n.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");r.logRecords=[];for(var c=0;c<n.logRecords.length;++c){if(typeof n.logRecords[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");r.logRecords[c]=S.opentelemetry.proto.logs.v1.LogRecord.fromObject(n.logRecords[c])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.logRecords=[]),r.defaults&&(c.scope=null,c.schemaUrl=""),n.scope!=null&&n.hasOwnProperty("scope")&&(c.scope=S.opentelemetry.proto.common.v1.InstrumentationScope.toObject(n.scope,r)),n.logRecords&&n.logRecords.length){c.logRecords=[];for(var l=0;l<n.logRecords.length;++l)c.logRecords[l]=S.opentelemetry.proto.logs.v1.LogRecord.toObject(n.logRecords[l],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(c.schemaUrl=n.schemaUrl),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.ScopeLogs"},s}(),i.SeverityNumber=function(){var s={},a=Object.create(s);return a[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[s[1]="SEVERITY_NUMBER_TRACE"]=1,a[s[2]="SEVERITY_NUMBER_TRACE2"]=2,a[s[3]="SEVERITY_NUMBER_TRACE3"]=3,a[s[4]="SEVERITY_NUMBER_TRACE4"]=4,a[s[5]="SEVERITY_NUMBER_DEBUG"]=5,a[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[s[9]="SEVERITY_NUMBER_INFO"]=9,a[s[10]="SEVERITY_NUMBER_INFO2"]=10,a[s[11]="SEVERITY_NUMBER_INFO3"]=11,a[s[12]="SEVERITY_NUMBER_INFO4"]=12,a[s[13]="SEVERITY_NUMBER_WARN"]=13,a[s[14]="SEVERITY_NUMBER_WARN2"]=14,a[s[15]="SEVERITY_NUMBER_WARN3"]=15,a[s[16]="SEVERITY_NUMBER_WARN4"]=16,a[s[17]="SEVERITY_NUMBER_ERROR"]=17,a[s[18]="SEVERITY_NUMBER_ERROR2"]=18,a[s[19]="SEVERITY_NUMBER_ERROR3"]=19,a[s[20]="SEVERITY_NUMBER_ERROR4"]=20,a[s[21]="SEVERITY_NUMBER_FATAL"]=21,a[s[22]="SEVERITY_NUMBER_FATAL2"]=22,a[s[23]="SEVERITY_NUMBER_FATAL3"]=23,a[s[24]="SEVERITY_NUMBER_FATAL4"]=24,a}(),i.LogRecordFlags=function(){var s={},a=Object.create(s);return a[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a}(),i.LogRecord=function(){function s(a){if(this.attributes=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=_.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&r.uint32(9).fixed64(n.timeUnixNano),n.severityNumber!=null&&Object.hasOwnProperty.call(n,"severityNumber")&&r.uint32(16).int32(n.severityNumber),n.severityText!=null&&Object.hasOwnProperty.call(n,"severityText")&&r.uint32(26).string(n.severityText),n.body!=null&&Object.hasOwnProperty.call(n,"body")&&S.opentelemetry.proto.common.v1.AnyValue.encode(n.body,r.uint32(42).fork()).ldelim(),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)S.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],r.uint32(50).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(56).uint32(n.droppedAttributesCount),n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&r.uint32(69).fixed32(n.flags),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&r.uint32(74).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&r.uint32(82).bytes(n.spanId),n.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"observedTimeUnixNano")&&r.uint32(89).fixed64(n.observedTimeUnixNano),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof A||(n=A.create(n));for(var c=r===void 0?n.len:n.pos+r,l=new S.opentelemetry.proto.logs.v1.LogRecord;n.pos<c;){var u=n.uint32();switch(u>>>3){case 1:{l.timeUnixNano=n.fixed64();break}case 11:{l.observedTimeUnixNano=n.fixed64();break}case 2:{l.severityNumber=n.int32();break}case 3:{l.severityText=n.string();break}case 5:{l.body=S.opentelemetry.proto.common.v1.AnyValue.decode(n,n.uint32());break}case 6:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(S.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 7:{l.droppedAttributesCount=n.uint32();break}case 8:{l.flags=n.fixed32();break}case 9:{l.traceId=n.bytes();break}case 10:{l.spanId=n.bytes();break}default:n.skipType(u&7);break}}return l},s.decodeDelimited=function(n){return n instanceof A||(n=new A(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!_.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&_.isInteger(n.timeUnixNano.low)&&_.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.observedTimeUnixNano!=null&&n.hasOwnProperty("observedTimeUnixNano")&&!_.isInteger(n.observedTimeUnixNano)&&!(n.observedTimeUnixNano&&_.isInteger(n.observedTimeUnixNano.low)&&_.isInteger(n.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(n.severityNumber!=null&&n.hasOwnProperty("severityNumber"))switch(n.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(n.severityText!=null&&n.hasOwnProperty("severityText")&&!_.isString(n.severityText))return"severityText: string expected";if(n.body!=null&&n.hasOwnProperty("body")){var r=S.opentelemetry.proto.common.v1.AnyValue.verify(n.body);if(r)return"body."+r}if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var r=S.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(r)return"attributes."+r}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!_.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":n.flags!=null&&n.hasOwnProperty("flags")&&!_.isInteger(n.flags)?"flags: integer expected":n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||_.isString(n.traceId))?"traceId: buffer expected":n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||_.isString(n.spanId))?"spanId: buffer expected":null},s.fromObject=function(n){if(n instanceof S.opentelemetry.proto.logs.v1.LogRecord)return n;var r=new S.opentelemetry.proto.logs.v1.LogRecord;switch(n.timeUnixNano!=null&&(_.Long?(r.timeUnixNano=_.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?r.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?r.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(r.timeUnixNano=new _.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.observedTimeUnixNano!=null&&(_.Long?(r.observedTimeUnixNano=_.Long.fromValue(n.observedTimeUnixNano)).unsigned=!1:typeof n.observedTimeUnixNano=="string"?r.observedTimeUnixNano=parseInt(n.observedTimeUnixNano,10):typeof n.observedTimeUnixNano=="number"?r.observedTimeUnixNano=n.observedTimeUnixNano:typeof n.observedTimeUnixNano=="object"&&(r.observedTimeUnixNano=new _.LongBits(n.observedTimeUnixNano.low>>>0,n.observedTimeUnixNano.high>>>0).toNumber())),n.severityNumber){default:if(typeof n.severityNumber=="number"){r.severityNumber=n.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:r.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:r.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:r.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:r.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:r.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:r.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:r.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:r.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:r.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:r.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:r.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:r.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:r.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:r.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:r.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:r.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:r.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:r.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:r.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:r.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:r.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:r.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:r.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:r.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:r.severityNumber=24;break}if(n.severityText!=null&&(r.severityText=String(n.severityText)),n.body!=null){if(typeof n.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");r.body=S.opentelemetry.proto.common.v1.AnyValue.fromObject(n.body)}if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");r.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");r.attributes[c]=S.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),n.flags!=null&&(r.flags=n.flags>>>0),n.traceId!=null&&(typeof n.traceId=="string"?_.base64.decode(n.traceId,r.traceId=_.newBuffer(_.base64.length(n.traceId)),0):n.traceId.length>=0&&(r.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?_.base64.decode(n.spanId,r.spanId=_.newBuffer(_.base64.length(n.spanId)),0):n.spanId.length>=0&&(r.spanId=n.spanId)),r},s.toObject=function(n,r){r||(r={});var c={};if((r.arrays||r.defaults)&&(c.attributes=[]),r.defaults){if(_.Long){var l=new _.Long(0,0,!1);c.timeUnixNano=r.longs===String?l.toString():r.longs===Number?l.toNumber():l}else c.timeUnixNano=r.longs===String?"0":0;if(c.severityNumber=r.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,c.severityText="",c.body=null,c.droppedAttributesCount=0,c.flags=0,r.bytes===String?c.traceId="":(c.traceId=[],r.bytes!==Array&&(c.traceId=_.newBuffer(c.traceId))),r.bytes===String?c.spanId="":(c.spanId=[],r.bytes!==Array&&(c.spanId=_.newBuffer(c.spanId))),_.Long){var l=new _.Long(0,0,!1);c.observedTimeUnixNano=r.longs===String?l.toString():r.longs===Number?l.toNumber():l}else c.observedTimeUnixNano=r.longs===String?"0":0}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=r.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=r.longs===String?_.Long.prototype.toString.call(n.timeUnixNano):r.longs===Number?new _.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.severityNumber!=null&&n.hasOwnProperty("severityNumber")&&(c.severityNumber=r.enums===String?S.opentelemetry.proto.logs.v1.SeverityNumber[n.severityNumber]===void 0?n.severityNumber:S.opentelemetry.proto.logs.v1.SeverityNumber[n.severityNumber]:n.severityNumber),n.severityText!=null&&n.hasOwnProperty("severityText")&&(c.severityText=n.severityText),n.body!=null&&n.hasOwnProperty("body")&&(c.body=S.opentelemetry.proto.common.v1.AnyValue.toObject(n.body,r)),n.attributes&&n.attributes.length){c.attributes=[];for(var u=0;u<n.attributes.length;++u)c.attributes[u]=S.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],r)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=r.bytes===String?_.base64.encode(n.traceId,0,n.traceId.length):r.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=r.bytes===String?_.base64.encode(n.spanId,0,n.spanId.length):r.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.observedTimeUnixNano!=null&&n.hasOwnProperty("observedTimeUnixNano")&&(typeof n.observedTimeUnixNano=="number"?c.observedTimeUnixNano=r.longs===String?String(n.observedTimeUnixNano):n.observedTimeUnixNano:c.observedTimeUnixNano=r.longs===String?_.Long.prototype.toString.call(n.observedTimeUnixNano):r.longs===Number?new _.LongBits(n.observedTimeUnixNano.low>>>0,n.observedTimeUnixNano.high>>>0).toNumber():n.observedTimeUnixNano),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.LogRecord"},s}(),i}(),t}(),e}(),o}();Aw.exports=S});var vo,FJ,HJ,YJ,qJ,KJ,WJ,Ow,Rw,FE,Nw=p(()=>{vo=En(mw());DE();xE();UE();FJ=vo.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,HJ=vo.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,YJ=vo.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,qJ=vo.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,KJ=vo.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,WJ=vo.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,Ow={serializeRequest:o=>{let e=bi(o);return HJ.encode(e).finish()},deserializeResponse:o=>FJ.decode(o)},Rw={serializeRequest:o=>{let e=Ui(o);return qJ.encode(e).finish()},deserializeResponse:o=>YJ.decode(o)},FE={serializeRequest:o=>{let e=gn(o);return WJ.encode(e).finish()},deserializeResponse:o=>KJ.decode(o)}});var HE,Mw,Pw,Cw=p(()=>{DE();xE();UE();HE={serializeRequest:o=>{let e=gn(o,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:o=>{let e=new TextDecoder;return JSON.parse(e.decode(o))}},Mw={serializeRequest:o=>{let e=Ui(o,{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:o=>{let e=new TextDecoder;return JSON.parse(e.decode(o))}},Pw={serializeRequest:o=>{let e=bi(o,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:o=>{let e=new TextDecoder;return JSON.parse(e.decode(o))}}});var gw={};Ie(gw,{ESpanKind:()=>ef,JsonLogsSerializer:()=>Pw,JsonMetricsSerializer:()=>Mw,JsonTraceSerializer:()=>HE,ProtobufLogsSerializer:()=>Ow,ProtobufMetricsSerializer:()=>Rw,ProtobufTraceSerializer:()=>FE,createExportLogsServiceRequest:()=>bi,createExportMetricsServiceRequest:()=>Ui,createExportTraceServiceRequest:()=>gn,encodeAsLongBits:()=>ZT,encodeAsString:()=>TV,getOtlpEncoder:()=>go,hrTimeToNanos:()=>QT,toLongBits:()=>dV});var ic=p(()=>{_V();tc();hV();AV();mV();OV();DE();xE();UE();Nw();Cw()});var yw,Lw=p(()=>{yw="0.52.0"});var vw,jJ,zJ,wi,Iw=p(()=>{$();vi();ic();Lw();vw="v1/traces",jJ=`http://localhost:4318/${vw}`,zJ={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${yw}`},wi=class extends Zr{constructor(e={}){super(e,FE,"application/x-protobuf"),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),zJ),ir.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),Mr(e==null?void 0:e.headers))}getDefaultUrl(e){return typeof e.url=="string"?e.url:X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Li(X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):X().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?yi(X().OTEL_EXPORTER_OTLP_ENDPOINT,vw):jJ}}});var Dw=p(()=>{Iw()});var xw=p(()=>{Dw()});var Uw={};Ie(Uw,{OTLPTraceExporter:()=>wi});var bw=p(()=>{xw()});var Vw,ww=p(()=>{Vw="0.52.0"});var Bw,$J,XJ,hf,Gw=p(()=>{$();vi();vi();ww();ic();Bw="v1/traces",$J=`http://localhost:4318/${Bw}`,XJ={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Vw}`},hf=class extends Zr{constructor(e={}){super(e,HE,"application/json"),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),XJ),ir.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),Mr(e==null?void 0:e.headers))}getDefaultUrl(e){return typeof e.url=="string"?e.url:X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Li(X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):X().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?yi(X().OTEL_EXPORTER_OTLP_ENDPOINT,Bw):$J}}});var kw=p(()=>{Gw()});var Fw=p(()=>{kw()});var Hw={};Ie(Hw,{OTLPTraceExporter:()=>hf});var Yw=p(()=>{Fw()});var _e=h(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Wt.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Wt.Propagate=Wt.LogVerbosity=Wt.Status=void 0;var qw;(function(o){o[o.OK=0]="OK",o[o.CANCELLED=1]="CANCELLED",o[o.UNKNOWN=2]="UNKNOWN",o[o.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",o[o.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",o[o.NOT_FOUND=5]="NOT_FOUND",o[o.ALREADY_EXISTS=6]="ALREADY_EXISTS",o[o.PERMISSION_DENIED=7]="PERMISSION_DENIED",o[o.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",o[o.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",o[o.ABORTED=10]="ABORTED",o[o.OUT_OF_RANGE=11]="OUT_OF_RANGE",o[o.UNIMPLEMENTED=12]="UNIMPLEMENTED",o[o.INTERNAL=13]="INTERNAL",o[o.UNAVAILABLE=14]="UNAVAILABLE",o[o.DATA_LOSS=15]="DATA_LOSS",o[o.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(qw||(Wt.Status=qw={}));var Kw;(function(o){o[o.DEBUG=0]="DEBUG",o[o.INFO=1]="INFO",o[o.ERROR=2]="ERROR",o[o.NONE=3]="NONE"})(Kw||(Wt.LogVerbosity=Kw={}));var Ww;(function(o){o[o.DEADLINE=1]="DEADLINE",o[o.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",o[o.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",o[o.CANCELLATION=8]="CANCELLATION",o[o.DEFAULTS=65535]="DEFAULTS"})(Ww||(Wt.Propagate=Ww={}));Wt.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Wt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var Af=h((yRe,JJ)=>{JJ.exports={name:"@grpc/grpc-js",version:"1.10.8",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var De=h(ht=>{"use strict";var mf,Of,Rf,Nf;Object.defineProperty(ht,"__esModule",{value:!0});ht.isTracerEnabled=ht.trace=ht.log=ht.setLoggerVerbosity=ht.setLogger=ht.getLogger=void 0;var vn=_e(),QJ=B("process"),ZJ=Af().version,e7={error:(o,...e)=>{console.error("E "+o,...e)},info:(o,...e)=>{console.error("I "+o,...e)},debug:(o,...e)=>{console.error("D "+o,...e)}},Io=e7,Bi=vn.LogVerbosity.ERROR,t7=(Of=(mf=process.env.GRPC_NODE_VERBOSITY)!==null&&mf!==void 0?mf:process.env.GRPC_VERBOSITY)!==null&&Of!==void 0?Of:"";switch(t7.toUpperCase()){case"DEBUG":Bi=vn.LogVerbosity.DEBUG;break;case"INFO":Bi=vn.LogVerbosity.INFO;break;case"ERROR":Bi=vn.LogVerbosity.ERROR;break;case"NONE":Bi=vn.LogVerbosity.NONE;break;default:}var r7=()=>Io;ht.getLogger=r7;var n7=o=>{Io=o};ht.setLogger=n7;var o7=o=>{Bi=o};ht.setLoggerVerbosity=o7;var i7=(o,...e)=>{let t;if(o>=Bi){switch(o){case vn.LogVerbosity.DEBUG:t=Io.debug;break;case vn.LogVerbosity.INFO:t=Io.info;break;case vn.LogVerbosity.ERROR:t=Io.error;break}t||(t=Io.error),t&&t.bind(Io)(...e)}};ht.log=i7;var s7=(Nf=(Rf=process.env.GRPC_NODE_TRACE)!==null&&Rf!==void 0?Rf:process.env.GRPC_TRACE)!==null&&Nf!==void 0?Nf:"",Mf=new Set,jw=new Set;for(let o of s7.split(","))o.startsWith("-")?jw.add(o.substring(1)):Mf.add(o);var a7=Mf.has("all");function c7(o,e,t){zw(e)&&(0,ht.log)(o,new Date().toISOString()+" | v"+ZJ+" "+QJ.pid+" | "+e+" | "+t)}ht.trace=c7;function zw(o){return!jw.has(o)&&(a7||Mf.has(o))}ht.isTracerEnabled=zw});var YE=h(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.getErrorCode=Gi.getErrorMessage=void 0;function l7(o){return o instanceof Error?o.message:String(o)}Gi.getErrorMessage=l7;function u7(o){return typeof o=="object"&&o!==null&&"code"in o&&typeof o.code=="number"?o.code:null}Gi.getErrorCode=u7});var ut=h(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0});KE.Metadata=void 0;var E7=De(),S7=_e(),_7=YE(),p7=/^[0-9a-z_.-]+$/,d7=/^[ -~]*$/;function T7(o){return p7.test(o)}function f7(o){return d7.test(o)}function Xw(o){return o.endsWith("-bin")}function h7(o){return!o.startsWith("grpc-")}function qE(o){return o.toLowerCase()}function $w(o,e){if(!T7(o))throw new Error('Metadata key "'+o+'" contains illegal characters');if(e!=null)if(Xw(o)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!f7(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var Pf=class o{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=qE(e),$w(e,t),this.internalRepr.set(e,[t])}add(e,t){e=qE(e),$w(e,t);let i=this.internalRepr.get(e);i===void 0?this.internalRepr.set(e,[t]):i.push(t)}remove(e){e=qE(e),this.internalRepr.delete(e)}get(e){return e=qE(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,i]of this.internalRepr)if(i.length>0){let s=i[0];e[t]=Buffer.isBuffer(s)?Buffer.from(s):s}return e}clone(){let e=new o(this.options),t=e.internalRepr;for(let[i,s]of this.internalRepr){let a=s.map(n=>Buffer.isBuffer(n)?Buffer.from(n):n);t.set(i,a)}return e}merge(e){for(let[t,i]of e.internalRepr){let s=(this.internalRepr.get(t)||[]).concat(i);this.internalRepr.set(t,s)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,i]of this.internalRepr)e[t]=i.map(A7);return e}toJSON(){let e={};for(let[t,i]of this.internalRepr)e[t]=i;return e}static fromHttp2Headers(e){let t=new o;for(let i of Object.keys(e)){if(i.charAt(0)===":")continue;let s=e[i];try{Xw(i)?Array.isArray(s)?s.forEach(a=>{t.add(i,Buffer.from(a,"base64"))}):s!==void 0&&(h7(i)?s.split(",").forEach(a=>{t.add(i,Buffer.from(a.trim(),"base64"))}):t.add(i,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(a=>{t.add(i,a)}):s!==void 0&&t.add(i,s)}catch(a){let n=`Failed to add metadata entry ${i}: ${s}. ${(0,_7.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,E7.log)(S7.LogVerbosity.ERROR,n)}}return t}};KE.Metadata=Pf;var A7=o=>Buffer.isBuffer(o)?o.toString("base64"):o});var vf=h(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});WE.CallCredentials=void 0;var Lf=ut();function m7(o){return"getRequestHeaders"in o&&typeof o.getRequestHeaders=="function"}var ki=class o{static createFromMetadataGenerator(e){return new gf(e)}static createFromGoogleCredential(e){return o.createFromMetadataGenerator((t,i)=>{let s;m7(e)?s=e.getRequestHeaders(t.service_url):s=new Promise((a,n)=>{e.getRequestMetadata(t.service_url,(r,c)=>{if(r){n(r);return}if(!c){n(new Error("Headers not set by metadata plugin"));return}a(c)})}),s.then(a=>{let n=new Lf.Metadata;for(let r of Object.keys(a))n.add(r,a[r]);i(null,n)},a=>{i(a)})})}static createEmpty(){return new yf}};WE.CallCredentials=ki;var Cf=class o extends ki{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new Lf.Metadata,i=await Promise.all(this.creds.map(s=>s.generateMetadata(e)));for(let s of i)t.merge(s);return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof o?this.creds.every((t,i)=>t._equals(e.creds[i])):!1}},gf=class o extends ki{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,i)=>{this.metadataGenerator(e,(s,a)=>{a!==void 0?t(a):i(s)})})}compose(e){return new Cf([this,e])}_equals(e){return this===e?!0:e instanceof o?this.metadataGenerator===e.metadataGenerator:!1}},yf=class o extends ki{generateMetadata(e){return Promise.resolve(new Lf.Metadata)}compose(e){return e}_equals(e){return e instanceof o}}});var Df=h(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.getDefaultRootsData=Fi.CIPHER_SUITES=void 0;var O7=B("fs");Fi.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var Jw=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,If=null;function R7(){return Jw?(If===null&&(If=O7.readFileSync(Jw)),If):null}Fi.getDefaultRootsData=R7});var $E=h(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0});zE.ChannelCredentials=void 0;var N7=B("tls"),M7=vf(),Qw=Df();function xf(o,e){if(o&&!(o instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var Hi=class{constructor(e){this.callCredentials=e||M7.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,i,s){var a;if(xf(e,"Root certificate"),xf(t,"Private key"),xf(i,"Certificate chain"),t&&!i)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&i)throw new Error("Certificate chain must be given with accompanying private key");let n=(0,N7.createSecureContext)({ca:(a=e??(0,Qw.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:t??void 0,cert:i??void 0,ciphers:Qw.CIPHER_SUITES});return new jE(n,s??{})}static createFromSecureContext(e,t){return new jE(e,t??{})}static createInsecure(){return new Uf}};zE.ChannelCredentials=Hi;var Uf=class o extends Hi{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof o}},jE=class o extends Hi{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},t!=null&&t.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){let t=this.callCredentials.compose(e);return new bf(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof o?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},bf=class o extends Hi{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new o(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof o?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var Do=h(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.selectLbConfigFromList=je.getDefaultConfig=je.parseLoadBalancingConfig=je.isLoadBalancerNameRegistered=je.createLoadBalancer=je.registerDefaultLoadBalancerType=je.registerLoadBalancerType=je.createChildChannelControlHelper=void 0;var P7=De(),C7=_e();function g7(o,e){var t,i,s,a,n,r,c,l,u,E;return{createSubchannel:(i=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&i!==void 0?i:o.createSubchannel.bind(o),updateState:(a=(s=e.updateState)===null||s===void 0?void 0:s.bind(e))!==null&&a!==void 0?a:o.updateState.bind(o),requestReresolution:(r=(n=e.requestReresolution)===null||n===void 0?void 0:n.bind(e))!==null&&r!==void 0?r:o.requestReresolution.bind(o),addChannelzChild:(l=(c=e.addChannelzChild)===null||c===void 0?void 0:c.bind(e))!==null&&l!==void 0?l:o.addChannelzChild.bind(o),removeChannelzChild:(E=(u=e.removeChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&E!==void 0?E:o.removeChannelzChild.bind(o)}}je.createChildChannelControlHelper=g7;var In={},sc=null;function y7(o,e,t){In[o]={LoadBalancer:e,LoadBalancingConfig:t}}je.registerLoadBalancerType=y7;function L7(o){sc=o}je.registerDefaultLoadBalancerType=L7;function v7(o,e,t){let i=o.getLoadBalancerName();return i in In?new In[i].LoadBalancer(e,t):null}je.createLoadBalancer=v7;function I7(o){return o in In}je.isLoadBalancerNameRegistered=I7;function Zw(o){let e=Object.keys(o);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in In)try{return In[t].LoadBalancingConfig.createFromJson(o[t])}catch(i){throw new Error(`${t}: ${i.message}`)}else throw new Error(`Unrecognized load balancing config name ${t}`)}je.parseLoadBalancingConfig=Zw;function D7(){if(!sc)throw new Error("No default load balancer type registered");return new In[sc].LoadBalancingConfig}je.getDefaultConfig=D7;function x7(o,e=!1){for(let t of o)try{return Zw(t)}catch(i){(0,P7.log)(C7.LogVerbosity.DEBUG,"Config parsing failed with error",i.message);continue}return e&&sc?new In[sc].LoadBalancingConfig:null}je.selectLbConfigFromList=x7});var Vf=h(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.extractAndSelectServiceConfig=Dn.validateServiceConfig=Dn.validateRetryThrottling=void 0;var U7=B("os"),XE=_e(),JE=/^\d+(\.\d{1,9})?s$/,b7="node";function V7(o){if("service"in o&&o.service!==""){if(typeof o.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof o.service}`);if("method"in o&&o.method!==""){if(typeof o.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof o.service}`);return{service:o.service,method:o.method}}else return{service:o.service}}else{if("method"in o&&o.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function w7(o){if(!("maxAttempts"in o)||!Number.isInteger(o.maxAttempts)||o.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in o)||typeof o.initialBackoff!="string"||!JE.test(o.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in o)||typeof o.maxBackoff!="string"||!JE.test(o.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in o)||typeof o.backoffMultiplier!="number"||o.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in o&&Array.isArray(o.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(o.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of o.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(XE.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(XE.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:o.maxAttempts,initialBackoff:o.initialBackoff,maxBackoff:o.maxBackoff,backoffMultiplier:o.backoffMultiplier,retryableStatusCodes:o.retryableStatusCodes}}function B7(o){if(!("maxAttempts"in o)||!Number.isInteger(o.maxAttempts)||o.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in o&&(typeof o.hedgingDelay!="string"||!JE.test(o.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in o&&Array.isArray(o.nonFatalStatusCodes))for(let t of o.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(XE.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(XE.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:o.maxAttempts};return o.hedgingDelay&&(e.hedgingDelay=o.hedgingDelay),o.nonFatalStatusCodes&&(e.nonFatalStatusCodes=o.nonFatalStatusCodes),e}function G7(o){var e;let t={name:[]};if(!("name"in o)||!Array.isArray(o.name))throw new Error("Invalid method config: invalid name array");for(let i of o.name)t.name.push(V7(i));if("waitForReady"in o){if(typeof o.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=o.waitForReady}if("timeout"in o)if(typeof o.timeout=="object"){if(!("seconds"in o.timeout)||typeof o.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in o.timeout)||typeof o.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=o.timeout}else if(typeof o.timeout=="string"&&JE.test(o.timeout)){let i=o.timeout.substring(0,o.timeout.length-1).split(".");t.timeout={seconds:i[0]|0,nanos:((e=i[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in o){if(typeof o.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=o.maxRequestBytes}if("maxResponseBytes"in o){if(typeof o.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=o.maxResponseBytes}if("retryPolicy"in o){if("hedgingPolicy"in o)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=w7(o.retryPolicy)}else"hedgingPolicy"in o&&(t.hedgingPolicy=B7(o.hedgingPolicy));return t}function e1(o){if(!("maxTokens"in o)||typeof o.maxTokens!="number"||o.maxTokens<=0||o.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in o)||typeof o.tokenRatio!="number"||o.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+o.maxTokens.toFixed(3),tokenRatio:+o.tokenRatio.toFixed(3)}}Dn.validateRetryThrottling=e1;function k7(o){if(!(typeof o=="object"&&o!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof o}`);let e=Object.keys(o);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[e[0]]:o[e[0]]}}function t1(o){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in o)if(typeof o.loadBalancingPolicy=="string")e.loadBalancingPolicy=o.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in o)if(Array.isArray(o.loadBalancingConfig))for(let i of o.loadBalancingConfig)e.loadBalancingConfig.push(k7(i));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in o&&Array.isArray(o.methodConfig))for(let i of o.methodConfig)e.methodConfig.push(G7(i));"retryThrottling"in o&&(e.retryThrottling=e1(o.retryThrottling));let t=[];for(let i of e.methodConfig)for(let s of i.name){for(let a of t)if(s.service===a.service&&s.method===a.method)throw new Error(`Invalid service config: duplicate name ${s.service}/${s.method}`);t.push(s)}return e}Dn.validateServiceConfig=t1;function F7(o){if(!("serviceConfig"in o))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:t1(o.serviceConfig)};if("clientLanguage"in o)if(Array.isArray(o.clientLanguage)){e.clientLanguage=[];for(let i of o.clientLanguage)if(typeof i=="string")e.clientLanguage.push(i);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in o)if(Array.isArray(o.clientHostname)){e.clientHostname=[];for(let i of o.clientHostname)if(typeof i=="string")e.clientHostname.push(i);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in o)if(typeof o.percentage=="number"&&0<=o.percentage&&o.percentage<=100)e.percentage=o.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let i in o)if(!t.includes(i))throw new Error(`Invalid service config choice: unexpected field ${i}`);return e}function H7(o,e){if(!Array.isArray(o))throw new Error("Invalid service config list");for(let t of o){let i=F7(t);if(!(typeof i.percentage=="number"&&e>i.percentage)){if(Array.isArray(i.clientHostname)){let s=!1;for(let a of i.clientHostname)a===U7.hostname()&&(s=!0);if(!s)continue}if(Array.isArray(i.clientLanguage)){let s=!1;for(let a of i.clientLanguage)a===b7&&(s=!0);if(!s)continue}return i.serviceConfig}}throw new Error("No matching service config found")}function Y7(o,e){for(let t of o)if(t.length>0&&t[0].startsWith("grpc_config=")){let i=t.join("").substring(12),s=JSON.parse(i);return H7(s,e)}return null}Dn.extractAndSelectServiceConfig=Y7});var jt=h(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});QE.ConnectivityState=void 0;var r1;(function(o){o[o.IDLE=0]="IDLE",o[o.CONNECTING=1]="CONNECTING",o[o.READY=2]="READY",o[o.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",o[o.SHUTDOWN=4]="SHUTDOWN"})(r1||(QE.ConnectivityState=r1={}))});var Dt=h(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.uriToString=Lr.combineHostPort=Lr.splitHostPort=Lr.parseUri=void 0;var q7=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function K7(o){let e=q7.exec(o);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}Lr.parseUri=K7;var n1=/^\d+$/;function W7(o){if(o.startsWith("[")){let e=o.indexOf("]");if(e===-1)return null;let t=o.substring(1,e);if(t.indexOf(":")===-1)return null;if(o.length>e+1)if(o[e+1]===":"){let i=o.substring(e+2);return n1.test(i)?{host:t,port:+i}:null}else return null;else return{host:t}}else{let e=o.split(":");return e.length===2?n1.test(e[1])?{host:e[0],port:+e[1]}:null:{host:o}}}Lr.splitHostPort=W7;function j7(o){return o.port===void 0?o.host:o.host.includes(":")?`[${o.host}]:${o.port}`:`${o.host}:${o.port}`}Lr.combineHostPort=j7;function z7(o){let e="";return o.scheme!==void 0&&(e+=o.scheme+":"),o.authority!==void 0&&(e+="//"+o.authority+"/"),e+=o.path,e}Lr.uriToString=z7});var vr=h(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.mapUriDefaultScheme=zt.getDefaultAuthority=zt.createResolver=zt.registerDefaultScheme=zt.registerResolver=void 0;var Bf=Dt(),Yi={},wf=null;function $7(o,e){Yi[o]=e}zt.registerResolver=$7;function X7(o){wf=o}zt.registerDefaultScheme=X7;function J7(o,e,t){if(o.scheme!==void 0&&o.scheme in Yi)return new Yi[o.scheme](o,e,t);throw new Error(`No resolver could be created for target ${(0,Bf.uriToString)(o)}`)}zt.createResolver=J7;function Q7(o){if(o.scheme!==void 0&&o.scheme in Yi)return Yi[o.scheme].getDefaultAuthority(o);throw new Error(`Invalid target ${(0,Bf.uriToString)(o)}`)}zt.getDefaultAuthority=Q7;function Z7(o){return o.scheme===void 0||!(o.scheme in Yi)?wf!==null?{scheme:wf,authority:void 0,path:(0,Bf.uriToString)(o)}:null:o}zt.mapUriDefaultScheme=Z7});var Un=h(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.QueuePicker=xn.UnavailablePicker=xn.PickResultType=void 0;var e9=ut(),t9=_e(),ZE;(function(o){o[o.COMPLETE=0]="COMPLETE",o[o.QUEUE=1]="QUEUE",o[o.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",o[o.DROP=3]="DROP"})(ZE||(xn.PickResultType=ZE={}));var Gf=class{constructor(e){this.status=Object.assign({code:t9.Status.UNAVAILABLE,details:"No connection established",metadata:new e9.Metadata},e)}pick(e){return{pickResultType:ZE.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};xn.UnavailablePicker=Gf;var kf=class{constructor(e,t){this.loadBalancer=e,this.childPicker=t,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:ZE.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};xn.QueuePicker=kf});var ac=h(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.BackoffTimeout=void 0;var r9=1e3,n9=1.6,o9=12e4,i9=.2;function s9(o,e){return Math.random()*(e-o)+o}var Ff=class{constructor(e,t){this.callback=e,this.initialDelay=r9,this.multiplier=n9,this.maxDelay=o9,this.jitter=i9,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,i;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(i=(t=this.timerId).unref)===null||i===void 0||i.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+s9(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};eS.BackoffTimeout=Ff});var rS=h(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.ChildLoadBalancerHandler=void 0;var a9=Do(),c9=jt(),l9="child_load_balancer_helper",Hf=class{constructor(e,t){this.channelControlHelper=e,this.options=t,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(i){this.parent=i,this.child=null}createSubchannel(i,s){return this.parent.channelControlHelper.createSubchannel(i,s)}updateState(i,s){var a;if(this.calledByPendingChild()){if(i===c9.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(i,s)}requestReresolution(){var i;let s=(i=this.parent.pendingChild)!==null&&i!==void 0?i:this.parent.currentChild;this.child===s&&this.parent.channelControlHelper.requestReresolution()}setChild(i){this.child=i}addChannelzChild(i){this.parent.channelControlHelper.addChannelzChild(i)}removeChannelzChild(i){this.parent.channelControlHelper.removeChannelzChild(i)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,i){let s;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let a=new this.ChildPolicyHelper(this),n=(0,a9.createLoadBalancer)(t,a,this.options);a.setChild(n),this.currentChild===null?(this.currentChild=n,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=n,s=this.pendingChild)}else this.pendingChild===null?s=this.currentChild:s=this.pendingChild;this.latestConfig=t,s.updateAddressList(e,t,i)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return l9}};tS.ChildLoadBalancerHandler=Hf});var i1=h(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.ResolvingLoadBalancer=void 0;var u9=Do(),E9=Vf(),Pt=jt(),S9=vr(),cc=Un(),_9=ac(),Yf=_e(),p9=ut(),d9=De(),T9=_e(),f9=Dt(),h9=rS(),A9="resolving_load_balancer";function o1(o){d9.trace(T9.LogVerbosity.DEBUG,A9,o)}var m9=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function O9(o,e,t,i){for(let s of t.name)switch(i){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===o&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===o&&s.method===e)return!0}return!1}function R9(o,e,t,i){for(let s of t)if(O9(o,e,s,i))return s;return null}function N9(o){return function(t,i){var s,a;let n=t.split("/").filter(l=>l.length>0),r=(s=n[0])!==null&&s!==void 0?s:"",c=(a=n[1])!==null&&a!==void 0?a:"";if(o&&o.methodConfig)for(let l of m9){let u=R9(r,c,o.methodConfig,l);if(u)return{methodConfig:u,pickInformation:{},status:Yf.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:Yf.Status.OK,dynamicFilterFactories:[]}}}var qf=class{constructor(e,t,i,s,a){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=s,this.onFailedResolution=a,this.latestChildState=Pt.ConnectivityState.IDLE,this.latestChildPicker=new cc.QueuePicker(this),this.currentState=Pt.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,i["grpc.service_config"]?this.defaultServiceConfig=(0,E9.validateServiceConfig)(JSON.parse(i["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Pt.ConnectivityState.IDLE,new cc.QueuePicker(this)),this.childLoadBalancer=new h9.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(o1("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(r,c)=>{this.latestChildState=r,this.latestChildPicker=c,this.updateState(r,c)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)},i),this.innerResolver=(0,S9.createResolver)(e,{onSuccessfulResolution:(r,c,l,u,E)=>{var T;this.backoffTimeout.stop(),this.backoffTimeout.reset();let f=null;c===null?l===null?(this.previousServiceConfig=null,f=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(l):f=this.previousServiceConfig:(f=c,this.previousServiceConfig=c);let N=(T=f==null?void 0:f.loadBalancingConfig)!==null&&T!==void 0?T:[],m=(0,u9.selectLbConfigFromList)(N,!0);if(m===null){this.handleResolutionFailure({code:Yf.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new p9.Metadata});return}this.childLoadBalancer.updateAddressList(r,m,E);let P=f??this.defaultServiceConfig;this.onSuccessfulResolution(P,u??N9(P))},onError:r=>{this.handleResolutionFailure(r)}},i);let n={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new _9.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},n),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Pt.ConnectivityState.IDLE&&this.updateState(Pt.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(e,t){o1((0,f9.uriToString)(this.target)+" "+Pt.ConnectivityState[this.currentState]+" -> "+Pt.ConnectivityState[e]),e===Pt.ConnectivityState.IDLE&&(t=new cc.QueuePicker(this,t)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===Pt.ConnectivityState.IDLE&&(this.updateState(Pt.ConnectivityState.TRANSIENT_FAILURE,new cc.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===Pt.ConnectivityState.IDLE||this.currentState===Pt.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Pt.ConnectivityState.IDLE,this.latestChildPicker=new cc.QueuePicker(this),this.currentState=Pt.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};nS.ResolvingLoadBalancer=qf});var s1=h(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.channelOptionsEqual=qi.recognizedOptions=void 0;qi.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0};function M9(o,e){let t=Object.keys(o).sort(),i=Object.keys(e).sort();if(t.length!==i.length)return!1;for(let s=0;s<t.length;s+=1)if(t[s]!==i[s]||o[t[s]]!==e[i[s]])return!1;return!0}qi.channelOptionsEqual=M9});var Er=h(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.EndpointMap=ze.endpointHasAddress=ze.endpointToString=ze.endpointEqual=ze.stringToSubchannelAddress=ze.subchannelAddressToString=ze.subchannelAddressEqual=ze.isTcpSubchannelAddress=void 0;var a1=B("net");function uc(o){return"port"in o}ze.isTcpSubchannelAddress=uc;function oS(o,e){return!o&&!e?!0:!o||!e?!1:uc(o)?uc(e)&&o.host===e.host&&o.port===e.port:!uc(e)&&o.path===e.path}ze.subchannelAddressEqual=oS;function c1(o){return uc(o)?(0,a1.isIPv6)(o.host)?"["+o.host+"]:"+o.port:o.host+":"+o.port:o.path}ze.subchannelAddressToString=c1;var P9=443;function C9(o,e){return(0,a1.isIP)(o)?{host:o,port:e??P9}:{path:o}}ze.stringToSubchannelAddress=C9;function g9(o,e){if(o.addresses.length!==e.addresses.length)return!1;for(let t=0;t<o.addresses.length;t++)if(!oS(o.addresses[t],e.addresses[t]))return!1;return!0}ze.endpointEqual=g9;function y9(o){return"["+o.addresses.map(c1).join(", ")+"]"}ze.endpointToString=y9;function l1(o,e){for(let t of o.addresses)if(oS(t,e))return!0;return!1}ze.endpointHasAddress=l1;function lc(o,e){if(o.addresses.length!==e.addresses.length)return!1;for(let t of o.addresses){let i=!1;for(let s of e.addresses)if(oS(t,s)){i=!0;break}if(!i)return!1}return!0}var Kf=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(let t of this.map)if(l1(t.key,e))return t.value}deleteMissing(e){let t=[];for(let i of this.map){let s=!1;for(let a of e)lc(a,i.key)&&(s=!0);s||(t.push(i.value),this.map.delete(i))}return t}get(e){for(let t of this.map)if(lc(e,t.key))return t.value}set(e,t){for(let i of this.map)if(lc(e,i.key)){i.value=t;return}this.map.add({key:e,value:t})}delete(e){for(let t of this.map)if(lc(e,t.key)){this.map.delete(t);return}}has(e){for(let t of this.map)if(lc(e,t.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let e of this.map)yield e.key}*values(){for(let e of this.map)yield e.value}*entries(){for(let e of this.map)yield[e.key,e.value]}};ze.EndpointMap=Kf});var E1={};Ie(E1,{OrderedMap:()=>V9});function Ki(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wf(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function L9(o,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,n;return n={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function r(l){return function(u){return c([l,u])}}function c(l){if(i)throw new TypeError("Generator is already executing.");for(;n&&(n=0,l[0]&&(t=0)),t;)try{if(i=1,s&&(a=l[0]&2?s.return:l[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,l[1])).done)return a;switch(s=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,s=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(o,t)}catch(u){l=[6,u],s=0}finally{i=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function xo(){throw new RangeError("Iterator access denied!")}var Wf,u1,v9,I9,D9,x9,U9,b9,en,V9,S1=p(()=>{Wf=function(o,e){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},Wf(o,e)};u1=function(){function o(e,t,i){i===void 0&&(i=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=i}return o.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var i=e.h;i.t===e;)e=i,i=e.h;e=i}return e},o.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else{for(var t=e.h;t.i===e;)e=t,t=e.h;return e.i!==t?t:e}},o.prototype.T=function(){var e=this.h,t=this.i,i=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=i,i&&(i.h=this),t},o.prototype.I=function(){var e=this.h,t=this.t,i=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=i,i&&(i.h=this),t},o}(),v9=function(o){Ki(e,o);function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.O=1,t}return e.prototype.T=function(){var t=o.prototype.T.call(this);return this.M(),t.M(),t},e.prototype.I=function(){var t=o.prototype.I.call(this);return this.M(),t.M(),t},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},e}(u1),I9=function(){function o(e){e===void 0&&(e=0),this.iteratorType=e}return o.prototype.equals=function(e){return this.C===e.C},o}(),D9=function(){function o(){this._=0}return Object.defineProperty(o.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),o.prototype.size=function(){return this._},o.prototype.empty=function(){return this._===0},o}(),x9=function(o){Ki(e,o);function e(){return o!==null&&o.apply(this,arguments)||this}return e}(D9);U9=function(o){Ki(e,o);function e(t,i){t===void 0&&(t=function(a,n){return a<n?-1:a>n?1:0}),i===void 0&&(i=!1);var s=o.call(this)||this;return s.N=void 0,s.g=t,s.enableIndex=i,s.S=i?v9:u1,s.A=new s.S,s}return e.prototype.m=function(t,i){for(var s=this.A;t;){var a=this.g(t.u,i);if(a<0)t=t.i;else if(a>0)s=t,t=t.t;else return t}return s},e.prototype.B=function(t,i){for(var s=this.A;t;){var a=this.g(t.u,i);a<=0?t=t.i:(s=t,t=t.t)}return s},e.prototype.j=function(t,i){for(var s=this.A;t;){var a=this.g(t.u,i);if(a<0)s=t,t=t.i;else if(a>0)t=t.t;else return t}return s},e.prototype.k=function(t,i){for(var s=this.A;t;){var a=this.g(t.u,i);a<0?(s=t,t=t.i):t=t.t}return s},e.prototype.R=function(t){for(;;){var i=t.h;if(i===this.A)return;if(t.l===1){t.l=0;return}if(t===i.t){var s=i.i;if(s.l===1)s.l=0,i.l=1,i===this.N?this.N=i.T():i.T();else if(s.i&&s.i.l===1){s.l=i.l,i.l=0,s.i.l=0,i===this.N?this.N=i.T():i.T();return}else s.t&&s.t.l===1?(s.l=1,s.t.l=0,s.I()):(s.l=1,t=i)}else{var s=i.t;if(s.l===1)s.l=0,i.l=1,i===this.N?this.N=i.I():i.I();else if(s.t&&s.t.l===1){s.l=i.l,i.l=0,s.t.l=0,i===this.N?this.N=i.I():i.I();return}else s.i&&s.i.l===1?(s.l=1,s.i.l=0,s.T()):(s.l=1,t=i)}}},e.prototype.G=function(t){if(this._===1){this.clear();return}for(var i=t;i.t||i.i;){if(i.i)for(i=i.i;i.t;)i=i.t;else i=i.t;var s=t.u;t.u=i.u,i.u=s;var a=t.o;t.o=i.o,i.o=a,t=i}this.A.t===i?this.A.t=i.h:this.A.i===i&&(this.A.i=i.h),this.R(i);var n=i.h;if(i===n.t?n.t=void 0:n.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;n!==this.A;)n.O-=1,n=n.h},e.prototype.P=function(t){for(var i=typeof t=="number"?t:void 0,s=typeof t=="function"?t:void 0,a=typeof t>"u"?[]:void 0,n=0,r=this.N,c=[];c.length||r;)if(r)c.push(r),r=r.t;else{if(r=c.pop(),n===i)return r;a&&a.push(r),s&&s(r,n,this),n+=1,r=r.i}return a},e.prototype.q=function(t){for(;;){var i=t.h;if(i.l===0)return;var s=i.h;if(i===s.t){var a=s.i;if(a&&a.l===1){if(a.l=i.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===i.i){if(t.l=0,t.t&&(t.t.h=i),t.i&&(t.i.h=s),i.i=t.t,s.t=t.i,t.t=i,t.i=s,s===this.N)this.N=t,this.A.h=t;else{var n=s.h;n.t===s?n.t=t:n.i=t}t.h=s.h,i.h=t,s.h=t,s.l=1}else{i.l=0,s===this.N?this.N=s.I():s.I(),s.l=1;return}}else{var a=s.t;if(a&&a.l===1){if(a.l=i.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===i.t){if(t.l=0,t.t&&(t.t.h=s),t.i&&(t.i.h=i),s.i=t.t,i.t=t.i,t.t=s,t.i=i,s===this.N)this.N=t,this.A.h=t;else{var n=s.h;n.t===s?n.t=t:n.i=t}t.h=s.h,i.h=t,s.h=t,s.l=1}else{i.l=0,s===this.N?this.N=s.T():s.T(),s.l=1;return}}this.enableIndex&&(i.M(),s.M(),t.M());return}},e.prototype.D=function(t,i,s){if(this.N===void 0)return this._+=1,this.N=new this.S(t,i,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var a,n=this.A.t,r=this.g(n.u,t);if(r===0)return n.o=i,this._;if(r>0)n.t=new this.S(t,i),n.t.h=n,a=n.t,this.A.t=a;else{var c=this.A.i,l=this.g(c.u,t);if(l===0)return c.o=i,this._;if(l<0)c.i=new this.S(t,i),c.i.h=c,a=c.i,this.A.i=a;else{if(s!==void 0){var u=s.C;if(u!==this.A){var E=this.g(u.u,t);if(E===0)return u.o=i,this._;if(E>0){var T=u.v(),f=this.g(T.u,t);if(f===0)return T.o=i,this._;f<0&&(a=new this.S(t,i),T.i===void 0?(T.i=a,a.h=T):(u.t=a,a.h=u))}}}if(a===void 0)for(a=this.N;;){var N=this.g(a.u,t);if(N>0){if(a.t===void 0){a.t=new this.S(t,i),a.t.h=a,a=a.t;break}a=a.t}else if(N<0){if(a.i===void 0){a.i=new this.S(t,i),a.i.h=a,a=a.i;break}a=a.i}else return a.o=i,this._}}}if(this.enableIndex)for(var m=a.h;m!==this.A;)m.O+=1,m=m.h;return this.q(a),this._+=1,this._},e.prototype.F=function(t,i){for(;t;){var s=this.g(t.u,i);if(s<0)t=t.i;else if(s>0)t=t.t;else return t}return t||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},e.prototype.updateKeyByIterator=function(t,i){var s=t.C;if(s===this.A&&xo(),this._===1)return s.u=i,!0;var a=s.p().u;if(s===this.A.t)return this.g(a,i)>0?(s.u=i,!0):!1;var n=s.v().u;return s===this.A.i?this.g(n,i)<0?(s.u=i,!0):!1:this.g(n,i)>=0||this.g(a,i)<=0?!1:(s.u=i,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var i=this.P(t);return this.G(i),this._},e.prototype.eraseElementByKey=function(t){if(this._===0)return!1;var i=this.F(this.N,t);return i===this.A?!1:(this.G(i),!0)},e.prototype.eraseElementByIterator=function(t){var i=t.C;i===this.A&&xo();var s=i.i===void 0,a=t.iteratorType===0;return a?s&&t.next():(!s||i.t===void 0)&&t.next(),this.G(i),t},e.prototype.getHeight=function(){if(this._===0)return 0;function t(i){return i?Math.max(t(i.t),t(i.i))+1:0}return t(this.N)},e}(x9),b9=function(o){Ki(e,o);function e(t,i,s){var a=o.call(this,s)||this;return a.C=t,a.A=i,a.iteratorType===0?(a.pre=function(){return this.C===this.A.t&&xo(),this.C=this.C.v(),this},a.next=function(){return this.C===this.A&&xo(),this.C=this.C.p(),this}):(a.pre=function(){return this.C===this.A.i&&xo(),this.C=this.C.p(),this},a.next=function(){return this.C===this.A&&xo(),this.C=this.C.v(),this}),a}return Object.defineProperty(e.prototype,"index",{get:function(){var t=this.C,i=this.A.h;if(t===this.A)return i?i.O-1:0;var s=0;for(t.t&&(s+=t.t.O);t!==i;){var a=t.h;t===a.i&&(s+=1,a.t&&(s+=a.t.O)),t=a}return s},enumerable:!1,configurable:!0}),e.prototype.isAccessible=function(){return this.C!==this.A},e}(I9),en=function(o){Ki(e,o);function e(t,i,s,a){var n=o.call(this,t,i,a)||this;return n.container=s,n}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&xo();var t=this;return new Proxy([],{get:function(i,s){return s==="0"?t.C.u:s==="1"?t.C.o:(i[0]=t.C.u,i[1]=t.C.o,i[s])},set:function(i,s,a){if(s!=="1")throw new TypeError("prop must be 1");return t.C.o=a,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e}(b9),V9=function(o){Ki(e,o);function e(t,i,s){t===void 0&&(t=[]);var a=o.call(this,i,s)||this,n=a;return t.forEach(function(r){n.setElement(r[0],r[1])}),a}return e.prototype.begin=function(){return new en(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new en(this.A,this.A,this)},e.prototype.rBegin=function(){return new en(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new en(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var t=this.A.t;return[t.u,t.o]}},e.prototype.back=function(){if(this._!==0){var t=this.A.i;return[t.u,t.o]}},e.prototype.lowerBound=function(t){var i=this.m(this.N,t);return new en(i,this.A,this)},e.prototype.upperBound=function(t){var i=this.B(this.N,t);return new en(i,this.A,this)},e.prototype.reverseLowerBound=function(t){var i=this.j(this.N,t);return new en(i,this.A,this)},e.prototype.reverseUpperBound=function(t){var i=this.k(this.N,t);return new en(i,this.A,this)},e.prototype.forEach=function(t){this.P(function(i,s,a){t([i.u,i.o],s,a)})},e.prototype.setElement=function(t,i,s){return this.D(t,i,s)},e.prototype.getElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var i=this.P(t);return[i.u,i.o]},e.prototype.find=function(t){var i=this.F(this.N,t);return new en(i,this.A,this)},e.prototype.getElementByKey=function(t){var i=this.F(this.N,t);return i.o},e.prototype.union=function(t){var i=this;return t.forEach(function(s){i.setElement(s[0],s[1])}),this._},e.prototype[Symbol.iterator]=function(){var t,i,s,a;return L9(this,function(n){switch(n.label){case 0:t=this._,i=this.P(),s=0,n.label=1;case 1:return s<t?(a=i[s],[4,[a.u,a.o]]):[3,4];case 2:n.sent(),n.label=3;case 3:return++s,[3,1];case 4:return[2]}})},e}(U9)});var iS=h(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.addAdminServicesToServer=Wi.registerAdminService=void 0;var _1=[];function w9(o,e){_1.push({getServiceDefinition:o,getHandlers:e})}Wi.registerAdminService=w9;function B9(o){for(let{getServiceDefinition:e,getHandlers:t}of _1)o.addService(e(),t())}Wi.addAdminServicesToServer=B9});var p1=h($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.ClientDuplexStreamImpl=$t.ClientWritableStreamImpl=$t.ClientReadableStreamImpl=$t.ClientUnaryCallImpl=$t.callErrorFromStatus=void 0;var G9=B("events"),Jf=B("stream"),Ec=_e();function k9(o,e){let t=`${o.code} ${Ec.Status[o.code]}: ${o.details}`,s=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),o,{stack:s})}$t.callErrorFromStatus=k9;var jf=class extends G9.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ec.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};$t.ClientUnaryCallImpl=jf;var zf=class extends Jf.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ec.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};$t.ClientReadableStreamImpl=zf;var $f=class extends Jf.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ec.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,i){var s;let a={callback:i},n=Number(t);Number.isNaN(n)||(a.flags=n),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};$t.ClientWritableStreamImpl=$f;var Xf=class extends Jf.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Ec.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,i){var s;let a={callback:i},n=Number(t);Number.isNaN(n)||(a.flags=n),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};$t.ClientDuplexStreamImpl=Xf});var d1=h(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.InterceptingListenerImpl=ji.isInterceptingListener=void 0;function F9(o){return o.onReceiveMetadata!==void 0&&o.onReceiveMetadata.length===1}ji.isInterceptingListener=F9;var Qf=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};ji.InterceptingListenerImpl=Qf});var ih=h(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.getInterceptingCall=Xt.InterceptingCall=Xt.RequesterBuilder=Xt.ListenerBuilder=Xt.InterceptorConfigurationError=void 0;var H9=ut(),T1=d1(),f1=_e(),h1=YE(),_c=class o extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,o)}};Xt.InterceptorConfigurationError=_c;var eh=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};Xt.ListenerBuilder=eh;var th=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};Xt.RequesterBuilder=th;var Zf={onReceiveMetadata:(o,e)=>{e(o)},onReceiveMessage:(o,e)=>{e(o)},onReceiveStatus:(o,e)=>{e(o)}},Sc={start:(o,e,t)=>{t(o,e)},sendMessage:(o,e)=>{e(o)},halfClose:o=>{o()},cancel:o=>{o()}},rh=class{constructor(e,t){var i,s,a,n;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(i=t.start)!==null&&i!==void 0?i:Sc.start,sendMessage:(s=t.sendMessage)!==null&&s!==void 0?s:Sc.sendMessage,halfClose:(a=t.halfClose)!==null&&a!==void 0?a:Sc.halfClose,cancel:(n=t.cancel)!==null&&n!==void 0?n:Sc.cancel}:this.requester=Sc}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var i,s,a,n,r,c;let l={onReceiveMetadata:(s=(i=t==null?void 0:t.onReceiveMetadata)===null||i===void 0?void 0:i.bind(t))!==null&&s!==void 0?s:u=>{},onReceiveMessage:(n=(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0?void 0:a.bind(t))!==null&&n!==void 0?n:u=>{},onReceiveStatus:(c=(r=t==null?void 0:t.onReceiveStatus)===null||r===void 0?void 0:r.bind(t))!==null&&c!==void 0?c:u=>{}};this.processingMetadata=!0,this.requester.start(e,l,(u,E)=>{var T,f,N;this.processingMetadata=!1;let m;if((0,T1.isInterceptingListener)(E))m=E;else{let P={onReceiveMetadata:(T=E.onReceiveMetadata)!==null&&T!==void 0?T:Zf.onReceiveMetadata,onReceiveMessage:(f=E.onReceiveMessage)!==null&&f!==void 0?f:Zf.onReceiveMessage,onReceiveStatus:(N=E.onReceiveStatus)!==null&&N!==void 0?N:Zf.onReceiveStatus};m=new T1.InterceptingListenerImpl(P,l)}this.nextCall.start(u,m),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,i=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,i),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};Xt.InterceptingCall=rh;function Y9(o,e,t){var i,s;let a=(i=t.deadline)!==null&&i!==void 0?i:1/0,n=t.host,r=(s=t.parent)!==null&&s!==void 0?s:null,c=t.propagate_flags,l=t.credentials,u=o.createCall(e,a,n,r,c);return l&&u.setCredentials(l),u}var sS=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let i;try{i=this.methodDefinition.requestSerialize(t)}catch(s){this.call.cancelWithStatus(f1.Status.INTERNAL,`Request message serialization failure: ${(0,h1.getErrorMessage)(s)}`);return}this.call.sendMessageWithContext(e,i)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let i=null;this.call.start(e,{onReceiveMetadata:s=>{var a;(a=t==null?void 0:t.onReceiveMetadata)===null||a===void 0||a.call(t,s)},onReceiveMessage:s=>{var a;let n;try{n=this.methodDefinition.responseDeserialize(s)}catch(r){i={code:f1.Status.INTERNAL,details:`Response message parsing error: ${(0,h1.getErrorMessage)(r)}`,metadata:new H9.Metadata},this.call.cancelWithStatus(i.code,i.details);return}(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0||a.call(t,n)},onReceiveStatus:s=>{var a,n;i?(a=t==null?void 0:t.onReceiveStatus)===null||a===void 0||a.call(t,i):(n=t==null?void 0:t.onReceiveStatus)===null||n===void 0||n.call(t,s)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},nh=class extends sS{constructor(e,t){super(e,t)}start(e,t){var i,s;let a=!1,n={onReceiveMetadata:(s=(i=t==null?void 0:t.onReceiveMetadata)===null||i===void 0?void 0:i.bind(t))!==null&&s!==void 0?s:r=>{},onReceiveMessage:r=>{var c;a=!0,(c=t==null?void 0:t.onReceiveMessage)===null||c===void 0||c.call(t,r)},onReceiveStatus:r=>{var c,l;a||(c=t==null?void 0:t.onReceiveMessage)===null||c===void 0||c.call(t,null),(l=t==null?void 0:t.onReceiveStatus)===null||l===void 0||l.call(t,r)}};super.start(e,n),this.call.startRead()}},oh=class extends sS{};function q9(o,e,t){let i=Y9(o,t.path,e);return t.responseStream?new oh(i,t):new nh(i,t)}function K9(o,e,t,i){if(o.clientInterceptors.length>0&&o.clientInterceptorProviders.length>0)throw new _c("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(o.callInterceptors.length>0&&o.callInterceptorProviders.length>0)throw new _c("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];o.callInterceptors.length>0||o.callInterceptorProviders.length>0?s=[].concat(o.callInterceptors,o.callInterceptorProviders.map(r=>r(e))).filter(r=>r):s=[].concat(o.clientInterceptors,o.clientInterceptorProviders.map(r=>r(e))).filter(r=>r);let a=Object.assign({},t,{method_definition:e});return s.reduceRight((r,c)=>l=>c(l,r),r=>q9(i,r,e))(a)}Xt.getInterceptingCall=K9});var ch=h(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.Client=void 0;var Ir=p1(),W9=lh(),j9=jt(),bn=_e(),zi=ut(),aS=ih(),Sr=Symbol(),$i=Symbol(),Xi=Symbol(),tn=Symbol();function sh(o){return typeof o=="function"}function Ji(o){var e;return((e=o.stack)===null||e===void 0?void 0:e.split(`
`).slice(1).join(`
`))||"no stack trace available"}var ah=class{constructor(e,t,i={}){var s,a;if(i=Object.assign({},i),this[$i]=(s=i.interceptors)!==null&&s!==void 0?s:[],delete i.interceptors,this[Xi]=(a=i.interceptor_providers)!==null&&a!==void 0?a:[],delete i.interceptor_providers,this[$i].length>0&&this[Xi].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[tn]=i.callInvocationTransformer,delete i.callInvocationTransformer,i.channelOverride)this[Sr]=i.channelOverride;else if(i.channelFactoryOverride){let n=i.channelFactoryOverride;delete i.channelFactoryOverride,this[Sr]=n(e,t,i)}else this[Sr]=new W9.ChannelImplementation(e,t,i)}close(){this[Sr].close()}getChannel(){return this[Sr]}waitForReady(e,t){let i=s=>{if(s){t(new Error("Failed to connect before the deadline"));return}let a;try{a=this[Sr].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(a===j9.ConnectivityState.READY)t();else try{this[Sr].watchConnectivityState(a,e,i)}catch{t(new Error("The channel has been closed"))}};setImmediate(i)}checkOptionalUnaryResponseArguments(e,t,i){if(sh(e))return{metadata:new zi.Metadata,options:{},callback:e};if(sh(t))return e instanceof zi.Metadata?{metadata:e,options:{},callback:t}:{metadata:new zi.Metadata,options:e,callback:t};if(!(e instanceof zi.Metadata&&t instanceof Object&&sh(i)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:i}}makeUnaryRequest(e,t,i,s,a,n,r){var c,l;let u=this.checkOptionalUnaryResponseArguments(a,n,r),E={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:i},T={argument:s,metadata:u.metadata,call:new Ir.ClientUnaryCallImpl,channel:this[Sr],methodDefinition:E,callOptions:u.options,callback:u.callback};this[tn]&&(T=this[tn](T));let f=T.call,N={clientInterceptors:this[$i],clientInterceptorProviders:this[Xi],callInterceptors:(c=T.callOptions.interceptors)!==null&&c!==void 0?c:[],callInterceptorProviders:(l=T.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},m=(0,aS.getInterceptingCall)(N,T.methodDefinition,T.callOptions,T.channel);f.call=m;let P=null,M=!1,g=new Error;return m.start(T.metadata,{onReceiveMetadata:x=>{f.emit("metadata",x)},onReceiveMessage(x){P!==null&&m.cancelWithStatus(bn.Status.INTERNAL,"Too many responses received"),P=x},onReceiveStatus(x){if(!M){if(M=!0,x.code===bn.Status.OK)if(P===null){let I=Ji(g);T.callback((0,Ir.callErrorFromStatus)({code:bn.Status.INTERNAL,details:"No message received",metadata:x.metadata},I))}else T.callback(null,P);else{let I=Ji(g);T.callback((0,Ir.callErrorFromStatus)(x,I))}g=null,f.emit("status",x)}}}),m.sendMessage(s),m.halfClose(),f}makeClientStreamRequest(e,t,i,s,a,n){var r,c;let l=this.checkOptionalUnaryResponseArguments(s,a,n),u={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:i},E={metadata:l.metadata,call:new Ir.ClientWritableStreamImpl(t),channel:this[Sr],methodDefinition:u,callOptions:l.options,callback:l.callback};this[tn]&&(E=this[tn](E));let T=E.call,f={clientInterceptors:this[$i],clientInterceptorProviders:this[Xi],callInterceptors:(r=E.callOptions.interceptors)!==null&&r!==void 0?r:[],callInterceptorProviders:(c=E.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},N=(0,aS.getInterceptingCall)(f,E.methodDefinition,E.callOptions,E.channel);T.call=N;let m=null,P=!1,M=new Error;return N.start(E.metadata,{onReceiveMetadata:g=>{T.emit("metadata",g)},onReceiveMessage(g){m!==null&&N.cancelWithStatus(bn.Status.INTERNAL,"Too many responses received"),m=g},onReceiveStatus(g){if(!P){if(P=!0,g.code===bn.Status.OK)if(m===null){let x=Ji(M);E.callback((0,Ir.callErrorFromStatus)({code:bn.Status.INTERNAL,details:"No message received",metadata:g.metadata},x))}else E.callback(null,m);else{let x=Ji(M);E.callback((0,Ir.callErrorFromStatus)(g,x))}M=null,T.emit("status",g)}}}),T}checkMetadataAndOptions(e,t){let i,s;return e instanceof zi.Metadata?(i=e,t?s=t:s={}):(e?s=e:s={},i=new zi.Metadata),{metadata:i,options:s}}makeServerStreamRequest(e,t,i,s,a,n){var r,c;let l=this.checkMetadataAndOptions(a,n),u={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:i},E={argument:s,metadata:l.metadata,call:new Ir.ClientReadableStreamImpl(i),channel:this[Sr],methodDefinition:u,callOptions:l.options};this[tn]&&(E=this[tn](E));let T=E.call,f={clientInterceptors:this[$i],clientInterceptorProviders:this[Xi],callInterceptors:(r=E.callOptions.interceptors)!==null&&r!==void 0?r:[],callInterceptorProviders:(c=E.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},N=(0,aS.getInterceptingCall)(f,E.methodDefinition,E.callOptions,E.channel);T.call=N;let m=!1,P=new Error;return N.start(E.metadata,{onReceiveMetadata(M){T.emit("metadata",M)},onReceiveMessage(M){T.push(M)},onReceiveStatus(M){if(!m){if(m=!0,T.push(null),M.code!==bn.Status.OK){let g=Ji(P);T.emit("error",(0,Ir.callErrorFromStatus)(M,g))}P=null,T.emit("status",M)}}}),N.sendMessage(s),N.halfClose(),T}makeBidiStreamRequest(e,t,i,s,a){var n,r;let c=this.checkMetadataAndOptions(s,a),l={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:i},u={metadata:c.metadata,call:new Ir.ClientDuplexStreamImpl(t,i),channel:this[Sr],methodDefinition:l,callOptions:c.options};this[tn]&&(u=this[tn](u));let E=u.call,T={clientInterceptors:this[$i],clientInterceptorProviders:this[Xi],callInterceptors:(n=u.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(r=u.callOptions.interceptor_providers)!==null&&r!==void 0?r:[]},f=(0,aS.getInterceptingCall)(T,u.methodDefinition,u.callOptions,u.channel);E.call=f;let N=!1,m=new Error;return f.start(u.metadata,{onReceiveMetadata(P){E.emit("metadata",P)},onReceiveMessage(P){E.push(P)},onReceiveStatus(P){if(!N){if(N=!0,E.push(null),P.code!==bn.Status.OK){let M=Ji(m);E.emit("error",(0,Ir.callErrorFromStatus)(P,M))}m=null,E.emit("status",P)}}}),E}};cS.Client=ah});var Eh=h(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.loadPackageDefinition=Qi.makeClientConstructor=void 0;var pc=ch(),z9={unary:pc.Client.prototype.makeUnaryRequest,server_stream:pc.Client.prototype.makeServerStreamRequest,client_stream:pc.Client.prototype.makeClientStreamRequest,bidi:pc.Client.prototype.makeBidiStreamRequest};function uh(o){return["__proto__","prototype","constructor"].includes(o)}function A1(o,e,t){t||(t={});class i extends pc.Client{}return Object.keys(o).forEach(s=>{if(uh(s))return;let a=o[s],n;if(typeof s=="string"&&s.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?n="bidi":n="client_stream":a.responseStream?n="server_stream":n="unary";let r=a.requestSerialize,c=a.responseDeserialize,l=$9(z9[n],a.path,r,c);i.prototype[s]=l,Object.assign(i.prototype[s],a),a.originalName&&!uh(a.originalName)&&(i.prototype[a.originalName]=i.prototype[s])}),i.service=o,i.serviceName=e,i}Qi.makeClientConstructor=A1;function $9(o,e,t,i){return function(...s){return o.call(this,e,t,i,...s)}}function X9(o){return"format"in o}function J9(o){let e={};for(let t in o)if(Object.prototype.hasOwnProperty.call(o,t)){let i=o[t],s=t.split(".");if(s.some(r=>uh(r)))continue;let a=s[s.length-1],n=e;for(let r of s.slice(0,-1))n[r]||(n[r]={}),n=n[r];X9(i)?n[a]=i:n[a]=A1(i,a,{})}return e}Qi.loadPackageDefinition=J9});var q1=h((ZRe,Y1)=>{var Q9=1/0,Z9="[object Symbol]",eQ=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tQ=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uS="\\ud800-\\udfff",g1="\\u0300-\\u036f\\ufe20-\\ufe23",y1="\\u20d0-\\u20f0",L1="\\u2700-\\u27bf",v1="a-z\\xdf-\\xf6\\xf8-\\xff",rQ="\\xac\\xb1\\xd7\\xf7",nQ="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",oQ="\\u2000-\\u206f",iQ=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",I1="A-Z\\xc0-\\xd6\\xd8-\\xde",D1="\\ufe0e\\ufe0f",x1=rQ+nQ+oQ+iQ,_h="['\u2019]",sQ="["+uS+"]",m1="["+x1+"]",lS="["+g1+y1+"]",U1="\\d+",aQ="["+L1+"]",b1="["+v1+"]",V1="[^"+uS+x1+U1+L1+v1+I1+"]",Sh="\\ud83c[\\udffb-\\udfff]",cQ="(?:"+lS+"|"+Sh+")",w1="[^"+uS+"]",ph="(?:\\ud83c[\\udde6-\\uddff]){2}",dh="[\\ud800-\\udbff][\\udc00-\\udfff]",Zi="["+I1+"]",B1="\\u200d",O1="(?:"+b1+"|"+V1+")",lQ="(?:"+Zi+"|"+V1+")",R1="(?:"+_h+"(?:d|ll|m|re|s|t|ve))?",N1="(?:"+_h+"(?:D|LL|M|RE|S|T|VE))?",G1=cQ+"?",k1="["+D1+"]?",uQ="(?:"+B1+"(?:"+[w1,ph,dh].join("|")+")"+k1+G1+")*",F1=k1+G1+uQ,EQ="(?:"+[aQ,ph,dh].join("|")+")"+F1,SQ="(?:"+[w1+lS+"?",lS,ph,dh,sQ].join("|")+")",_Q=RegExp(_h,"g"),pQ=RegExp(lS,"g"),dQ=RegExp(Sh+"(?="+Sh+")|"+SQ+F1,"g"),TQ=RegExp([Zi+"?"+b1+"+"+R1+"(?="+[m1,Zi,"$"].join("|")+")",lQ+"+"+N1+"(?="+[m1,Zi+O1,"$"].join("|")+")",Zi+"?"+O1+"+"+R1,Zi+"+"+N1,U1,EQ].join("|"),"g"),fQ=RegExp("["+B1+uS+g1+y1+D1+"]"),hQ=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,AQ={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},mQ=typeof global=="object"&&global&&global.Object===Object&&global,OQ=typeof self=="object"&&self&&self.Object===Object&&self,RQ=mQ||OQ||Function("return this")();function NQ(o,e,t,i){var s=-1,a=o?o.length:0;for(i&&a&&(t=o[++s]);++s<a;)t=e(t,o[s],s,o);return t}function MQ(o){return o.split("")}function PQ(o){return o.match(eQ)||[]}function CQ(o){return function(e){return o==null?void 0:o[e]}}var gQ=CQ(AQ);function H1(o){return fQ.test(o)}function yQ(o){return hQ.test(o)}function LQ(o){return H1(o)?vQ(o):MQ(o)}function vQ(o){return o.match(dQ)||[]}function IQ(o){return o.match(TQ)||[]}var DQ=Object.prototype,xQ=DQ.toString,M1=RQ.Symbol,P1=M1?M1.prototype:void 0,C1=P1?P1.toString:void 0;function UQ(o,e,t){var i=-1,s=o.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(s);++i<s;)a[i]=o[i+e];return a}function bQ(o){if(typeof o=="string")return o;if(kQ(o))return C1?C1.call(o):"";var e=o+"";return e=="0"&&1/o==-Q9?"-0":e}function VQ(o,e,t){var i=o.length;return t=t===void 0?i:t,!e&&t>=i?o:UQ(o,e,t)}function wQ(o){return function(e){e=ES(e);var t=H1(e)?LQ(e):void 0,i=t?t[0]:e.charAt(0),s=t?VQ(t,1).join(""):e.slice(1);return i[o]()+s}}function BQ(o){return function(e){return NQ(KQ(YQ(e).replace(_Q,"")),o,"")}}function GQ(o){return!!o&&typeof o=="object"}function kQ(o){return typeof o=="symbol"||GQ(o)&&xQ.call(o)==Z9}function ES(o){return o==null?"":bQ(o)}var FQ=BQ(function(o,e,t){return e=e.toLowerCase(),o+(t?HQ(e):e)});function HQ(o){return qQ(ES(o).toLowerCase())}function YQ(o){return o=ES(o),o&&o.replace(tQ,gQ).replace(pQ,"")}var qQ=wQ("toUpperCase");function KQ(o,e,t){return o=ES(o),e=t?void 0:e,e===void 0?yQ(o)?IQ(o):PQ(o):o.match(e)||[]}Y1.exports=FQ});var W1=h((eNe,K1)=>{"use strict";K1.exports=Th;function Th(o,e){typeof o=="string"&&(e=o,o=void 0);var t=[];function i(a){if(typeof a!="string"){var n=s();if(Th.verbose&&console.log("codegen: "+n),n="return "+n,a){for(var r=Object.keys(a),c=new Array(r.length+1),l=new Array(r.length),u=0;u<r.length;)c[u]=r[u],l[u]=a[r[u++]];return c[u]=n,Function.apply(null,c).apply(null,l)}return Function(n)()}for(var E=new Array(arguments.length-1),T=0;T<E.length;)E[T]=arguments[++T];if(T=0,a=a.replace(/%([%dfijs])/g,function(N,m){var P=E[T++];switch(m){case"d":case"f":return String(Number(P));case"i":return String(Math.floor(P));case"j":return JSON.stringify(P);case"s":return String(P)}return"%"}),T!==E.length)throw Error("parameter count mismatch");return t.push(a),i}function s(a){return"function "+(a||e||"")+"("+(o&&o.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return i.toString=s,i}Th.verbose=!1});var z1=h((tNe,j1)=>{"use strict";j1.exports=dc;var WQ=tf(),jQ=rf(),fh=jQ("fs");function dc(o,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&fh&&fh.readFile?fh.readFile(o,function(s,a){return s&&typeof XMLHttpRequest<"u"?dc.xhr(o,e,t):s?t(s):t(null,e.binary?a:a.toString("utf8"))}):dc.xhr(o,e,t):WQ(dc,this,o,e)}dc.xhr=function(e,t,i){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return i(Error("status "+s.status));if(t.binary){var n=s.response;if(!n){n=[];for(var r=0;r<s.responseText.length;++r)n.push(s.responseText.charCodeAt(r)&255)}return i(null,typeof Uint8Array<"u"?new Uint8Array(n):n)}return i(null,s.responseText)}},t.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",e),s.send()}});var J1=h(X1=>{"use strict";var Ah=X1,$1=Ah.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},hh=Ah.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),i=$1(e),s="";i&&(s=t.shift()+"/");for(var a=0;a<t.length;)t[a]===".."?a>0&&t[a-1]!==".."?t.splice(--a,2):i?t.splice(a,1):++a:t[a]==="."?t.splice(a,1):++a;return s+t.join("/")};Ah.resolve=function(e,t,i){return i||(t=hh(t)),$1(t)?t:(i||(e=hh(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?hh(e+"/"+t):t)}});var Uo=h(Q1=>{"use strict";var Tc=Q1,zQ=$e(),$Q=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function fc(o,e){var t=0,i={};for(e|=0;t<o.length;)i[$Q[t+e]]=o[t++];return i}Tc.basic=fc([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Tc.defaults=fc([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",zQ.emptyArray,null]);Tc.long=fc([0,0,0,1,1],7);Tc.mapKey=fc([0,0,0,5,5,0,0,0,1,1,0,2],2);Tc.packed=fc([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Vn=h((oNe,tB)=>{"use strict";tB.exports=Jt;var SS=bo();((Jt.prototype=Object.create(SS.prototype)).constructor=Jt).className="Field";var Z1=_r(),eB=Uo(),ke=$e(),mh,XQ=/^required|optional|repeated$/;Jt.fromJSON=function(e,t){return new Jt(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)};function Jt(o,e,t,i,s,a,n){if(ke.isObject(i)?(n=s,a=i,i=s=void 0):ke.isObject(s)&&(n=a,a=s,s=void 0),SS.call(this,o,a),!ke.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!ke.isString(t))throw TypeError("type must be a string");if(i!==void 0&&!XQ.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(s!==void 0&&!ke.isString(s))throw TypeError("extend must be a string");i==="proto3_optional"&&(i="optional"),this.rule=i&&i!=="optional"?i:void 0,this.type=t,this.id=e,this.extend=s||void 0,this.required=i==="required",this.optional=!this.required,this.repeated=i==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=ke.Long?eB.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=n}Object.defineProperty(Jt.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Jt.prototype.setOption=function(e,t,i){return e==="packed"&&(this._packed=null),SS.prototype.setOption.call(this,e,t,i)};Jt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return ke.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Jt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=eB.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof mh?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Z1&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Z1))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=ke.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;ke.base64.test(this.typeDefault)?ke.base64.decode(this.typeDefault,e=ke.newBuffer(ke.base64.length(this.typeDefault)),0):ke.utf8.write(this.typeDefault,e=ke.newBuffer(ke.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=ke.emptyObject:this.repeated?this.defaultValue=ke.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof mh&&(this.parent.ctor.prototype[this.name]=this.defaultValue),SS.prototype.resolve.call(this)};Jt.d=function(e,t,i,s){return typeof t=="function"?t=ke.decorateType(t).name:t&&typeof t=="object"&&(t=ke.decorateEnum(t).name),function(n,r){ke.decorateType(n.constructor).add(new Jt(r,e,t,i,{default:s}))}};Jt._configure=function(e){mh=e}});var es=h((iNe,oB)=>{"use strict";oB.exports=Qt;var pS=bo();((Qt.prototype=Object.create(pS.prototype)).constructor=Qt).className="OneOf";var rB=Vn(),_S=$e();function Qt(o,e,t,i){if(Array.isArray(e)||(t=e,e=void 0),pS.call(this,o,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=i}Qt.fromJSON=function(e,t){return new Qt(e,t.oneof,t.options,t.comment)};Qt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return _S.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function nB(o){if(o.parent)for(var e=0;e<o.fieldsArray.length;++e)o.fieldsArray[e].parent||o.parent.add(o.fieldsArray[e])}Qt.prototype.add=function(e){if(!(e instanceof rB))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,nB(this),this};Qt.prototype.remove=function(e){if(!(e instanceof rB))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Qt.prototype.onAdd=function(e){pS.prototype.onAdd.call(this,e);for(var t=this,i=0;i<this.oneof.length;++i){var s=e.get(this.oneof[i]);s&&!s.partOf&&(s.partOf=t,t.fieldsArray.push(s))}nB(this)};Qt.prototype.onRemove=function(e){for(var t=0,i;t<this.fieldsArray.length;++t)(i=this.fieldsArray[t]).parent&&i.parent.remove(i);pS.prototype.onRemove.call(this,e)};Qt.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(s,a){_S.decorateType(s.constructor).add(new Qt(a,e)),Object.defineProperty(s,a,{get:_S.oneOfGetter(e),set:_S.oneOfSetter(e)})}}});var ns=h((sNe,cB)=>{"use strict";cB.exports=he;var Oh=bo();((he.prototype=Object.create(Oh.prototype)).constructor=he).className="Namespace";var iB=Vn(),dS=$e(),JQ=es(),ts,hc,rs;he.fromJSON=function(e,t){return new he(e,t.options).addJSON(t.nested)};function sB(o,e){if(o&&o.length){for(var t={},i=0;i<o.length;++i)t[o[i].name]=o[i].toJSON(e);return t}}he.arrayToJSON=sB;he.isReservedId=function(e,t){if(e){for(var i=0;i<e.length;++i)if(typeof e[i]!="string"&&e[i][0]<=t&&e[i][1]>t)return!0}return!1};he.isReservedName=function(e,t){if(e){for(var i=0;i<e.length;++i)if(e[i]===t)return!0}return!1};function he(o,e){Oh.call(this,o,e),this.nested=void 0,this._nestedArray=null}function aB(o){return o._nestedArray=null,o}Object.defineProperty(he.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=dS.toArray(this.nested))}});he.prototype.toJSON=function(e){return dS.toObject(["options",this.options,"nested",sB(this.nestedArray,e)])};he.prototype.addJSON=function(e){var t=this;if(e)for(var i=Object.keys(e),s=0,a;s<i.length;++s)a=e[i[s]],t.add((a.fields!==void 0?ts.fromJSON:a.values!==void 0?rs.fromJSON:a.methods!==void 0?hc.fromJSON:a.id!==void 0?iB.fromJSON:he.fromJSON)(i[s],a));return this};he.prototype.get=function(e){return this.nested&&this.nested[e]||null};he.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof rs)return this.nested[e].values;throw Error("no such enum: "+e)};he.prototype.add=function(e){if(!(e instanceof iB&&e.extend!==void 0||e instanceof ts||e instanceof JQ||e instanceof rs||e instanceof hc||e instanceof he))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof he&&e instanceof he&&!(t instanceof ts||t instanceof hc)){for(var i=t.nestedArray,s=0;s<i.length;++s)e.add(i[s]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),aB(this)};he.prototype.remove=function(e){if(!(e instanceof Oh))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),aB(this)};he.prototype.define=function(e,t){if(dS.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var i=this;e.length>0;){var s=e.shift();if(i.nested&&i.nested[s]){if(i=i.nested[s],!(i instanceof he))throw Error("path conflicts with non-namespace objects")}else i.add(i=new he(s))}return t&&i.addJSON(t),i};he.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof he?e[t++].resolveAll():e[t++].resolve();return this.resolve()};he.prototype.lookup=function(e,t,i){if(typeof t=="boolean"?(i=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),dS.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var s=this.get(e[0]);if(s){if(e.length===1){if(!t||t.indexOf(s.constructor)>-1)return s}else if(s instanceof he&&(s=s.lookup(e.slice(1),t,!0)))return s}else for(var a=0;a<this.nestedArray.length;++a)if(this._nestedArray[a]instanceof he&&(s=this._nestedArray[a].lookup(e,t,!0)))return s;return this.parent===null||i?null:this.parent.lookup(e,t)};he.prototype.lookupType=function(e){var t=this.lookup(e,[ts]);if(!t)throw Error("no such type: "+e);return t};he.prototype.lookupEnum=function(e){var t=this.lookup(e,[rs]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};he.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[ts,rs]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};he.prototype.lookupService=function(e){var t=this.lookup(e,[hc]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};he._configure=function(o,e,t){ts=o,hc=e,rs=t}});var TS=h((aNe,lB)=>{"use strict";lB.exports=rn;var Rh=Vn();((rn.prototype=Object.create(Rh.prototype)).constructor=rn).className="MapField";var QQ=Uo(),Ac=$e();function rn(o,e,t,i,s,a){if(Rh.call(this,o,e,i,void 0,void 0,s,a),!Ac.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}rn.fromJSON=function(e,t){return new rn(e,t.id,t.keyType,t.type,t.options,t.comment)};rn.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Ac.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};rn.prototype.resolve=function(){if(this.resolved)return this;if(QQ.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Rh.prototype.resolve.call(this)};rn.d=function(e,t,i){return typeof i=="function"?i=Ac.decorateType(i).name:i&&typeof i=="object"&&(i=Ac.decorateEnum(i).name),function(a,n){Ac.decorateType(a.constructor).add(new rn(n,e,t,i))}}});var fS=h((cNe,uB)=>{"use strict";uB.exports=Vo;var Nh=bo();((Vo.prototype=Object.create(Nh.prototype)).constructor=Vo).className="Method";var os=$e();function Vo(o,e,t,i,s,a,n,r,c){if(os.isObject(s)?(n=s,s=a=void 0):os.isObject(a)&&(n=a,a=void 0),!(e===void 0||os.isString(e)))throw TypeError("type must be a string");if(!os.isString(t))throw TypeError("requestType must be a string");if(!os.isString(i))throw TypeError("responseType must be a string");Nh.call(this,o,n),this.type=e||"rpc",this.requestType=t,this.requestStream=s?!0:void 0,this.responseType=i,this.responseStream=a?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=r,this.parsedOptions=c}Vo.fromJSON=function(e,t){return new Vo(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};Vo.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return os.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};Vo.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Nh.prototype.resolve.call(this))}});var hS=h((lNe,SB)=>{"use strict";SB.exports=Zt;var wn=ns();((Zt.prototype=Object.create(wn.prototype)).constructor=Zt).className="Service";var Mh=fS(),mc=$e(),ZQ=df();function Zt(o,e){wn.call(this,o,e),this.methods={},this._methodsArray=null}Zt.fromJSON=function(e,t){var i=new Zt(e,t.options);if(t.methods)for(var s=Object.keys(t.methods),a=0;a<s.length;++a)i.add(Mh.fromJSON(s[a],t.methods[s[a]]));return t.nested&&i.addJSON(t.nested),i.comment=t.comment,i};Zt.prototype.toJSON=function(e){var t=wn.prototype.toJSON.call(this,e),i=e?!!e.keepComments:!1;return mc.toObject(["options",t&&t.options||void 0,"methods",wn.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",i?this.comment:void 0])};Object.defineProperty(Zt.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=mc.toArray(this.methods))}});function EB(o){return o._methodsArray=null,o}Zt.prototype.get=function(e){return this.methods[e]||wn.prototype.get.call(this,e)};Zt.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return wn.prototype.resolve.call(this)};Zt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof Mh?(this.methods[e.name]=e,e.parent=this,EB(this)):wn.prototype.add.call(this,e)};Zt.prototype.remove=function(e){if(e instanceof Mh){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,EB(this)}return wn.prototype.remove.call(this,e)};Zt.prototype.create=function(e,t,i){for(var s=new ZQ.Service(e,t,i),a=0,n;a<this.methodsArray.length;++a){var r=mc.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");s[r]=mc.codegen(["r","c"],mc.isReserved(r)?r+"_":r)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return s}});var AS=h((uNe,_B)=>{"use strict";_B.exports=Dr;var eZ=gr();function Dr(o){if(o)for(var e=Object.keys(o),t=0;t<e.length;++t)this[e[t]]=o[e[t]]}Dr.create=function(e){return this.$type.create(e)};Dr.encode=function(e,t){return this.$type.encode(e,t)};Dr.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};Dr.decode=function(e){return this.$type.decode(e)};Dr.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Dr.verify=function(e){return this.$type.verify(e)};Dr.fromObject=function(e){return this.$type.fromObject(e)};Dr.toObject=function(e,t){return this.$type.toObject(e,t)};Dr.prototype.toJSON=function(){return this.$type.toObject(this,eZ.toJSONOptions)}});var Ph=h((ENe,dB)=>{"use strict";dB.exports=nZ;var tZ=_r(),nn=Uo(),pB=$e();function rZ(o){return"missing required '"+o.name+"'"}function nZ(o){var e=pB.codegen(["r","l"],o.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(o.fieldsArray.filter(function(r){return r.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");o.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var t=0;t<o.fieldsArray.length;++t){var i=o._fieldsArray[t].resolve(),s=i.resolvedType instanceof tZ?"int32":i.type,a="m"+pB.safeProp(i.name);e("case %i: {",i.id),i.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),nn.defaults[i.keyType]!==void 0?e("k=%j",nn.defaults[i.keyType]):e("k=null"),nn.defaults[s]!==void 0?e("value=%j",nn.defaults[s]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",i.keyType)("case 2:"),nn.basic[s]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",s),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),nn.long[i.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):i.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),nn.packed[s]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,s)("}else"),nn.basic[s]===void 0?e(i.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",a,t):e("%s.push(r.%s())",a,s)):nn.basic[s]===void 0?e(i.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",a,t):e("%s=r.%s()",a,s),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<o._fieldsArray.length;++t){var n=o._fieldsArray[t];n.required&&e("if(!m.hasOwnProperty(%j))",n.name)("throw util.ProtocolError(%j,{instance:m})",rZ(n))}return e("return m")}});var yh=h((SNe,TB)=>{"use strict";TB.exports=sZ;var oZ=_r(),Ch=$e();function er(o,e){return o.name+": "+e+(o.repeated&&e!=="array"?"[]":o.map&&e!=="object"?"{k:"+o.keyType+"}":"")+" expected"}function gh(o,e,t,i){if(e.resolvedType)if(e.resolvedType instanceof oZ){o("switch(%s){",i)("default:")("return%j",er(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),a=0;a<s.length;++a)o("case %i:",e.resolvedType.values[s[a]]);o("break")("}")}else o("{")("var e=types[%i].verify(%s);",t,i)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.isInteger(%s))",i)("return%j",er(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",er(e,"integer|Long"));break;case"float":case"double":o('if(typeof %s!=="number")',i)("return%j",er(e,"number"));break;case"bool":o('if(typeof %s!=="boolean")',i)("return%j",er(e,"boolean"));break;case"string":o("if(!util.isString(%s))",i)("return%j",er(e,"string"));break;case"bytes":o('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",er(e,"buffer"));break}return o}function iZ(o,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.key32Re.test(%s))",t)("return%j",er(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.key64Re.test(%s))",t)("return%j",er(e,"integer|Long key"));break;case"bool":o("if(!util.key2Re.test(%s))",t)("return%j",er(e,"boolean key"));break}return o}function sZ(o){var e=Ch.codegen(["m"],o.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=o.oneofsArray,i={};t.length&&e("var p={}");for(var s=0;s<o.fieldsArray.length;++s){var a=o._fieldsArray[s].resolve(),n="m"+Ch.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",n,a.name),a.map)e("if(!util.isObject(%s))",n)("return%j",er(a,"object"))("var k=Object.keys(%s)",n)("for(var i=0;i<k.length;++i){"),iZ(e,a,"k[i]"),gh(e,a,s,n+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",n)("return%j",er(a,"array"))("for(var i=0;i<%s.length;++i){",n),gh(e,a,s,n+"[i]")("}");else{if(a.partOf){var r=Ch.safeProp(a.partOf.name);i[a.partOf.name]===1&&e("if(p%s===1)",r)("return%j",a.partOf.name+": multiple values"),i[a.partOf.name]=1,e("p%s=1",r)}gh(e,a,s,n)}a.optional&&e("}")}return e("return null")}});var Ih=h(hB=>{"use strict";var fB=hB,Oc=_r(),xr=$e();function Lh(o,e,t,i){var s=!1;if(e.resolvedType)if(e.resolvedType instanceof Oc){o("switch(d%s){",i);for(var a=e.resolvedType.values,n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]===e.typeDefault&&!s&&(o("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',i,i,i),e.repeated||o("break"),s=!0),o("case%j:",n[r])("case %i:",a[n[r]])("m%s=%j",i,a[n[r]])("break");o("}")}else o('if(typeof d%s!=="object")',i)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,t,i);else{var c=!1;switch(e.type){case"double":case"float":o("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":o("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":o("m%s=d%s|0",i,i);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,c)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,c?"true":"");break;case"bytes":o('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length >= 0)",i)("m%s=d%s",i,i);break;case"string":o("m%s=String(d%s)",i,i);break;case"bool":o("m%s=Boolean(d%s)",i,i);break}}return o}fB.fromObject=function(e){var t=e.fieldsArray,i=xr.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return i("return new this.ctor");i("var m=new this.ctor");for(var s=0;s<t.length;++s){var a=t[s].resolve(),n=xr.safeProp(a.name);a.map?(i("if(d%s){",n)('if(typeof d%s!=="object")',n)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",n)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",n),Lh(i,a,s,n+"[ks[i]]")("}")("}")):a.repeated?(i("if(d%s){",n)("if(!Array.isArray(d%s))",n)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",n)("for(var i=0;i<d%s.length;++i){",n),Lh(i,a,s,n+"[i]")("}")("}")):(a.resolvedType instanceof Oc||i("if(d%s!=null){",n),Lh(i,a,s,n),a.resolvedType instanceof Oc||i("}"))}return i("return m")};function vh(o,e,t,i){if(e.resolvedType)e.resolvedType instanceof Oc?o("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",i,t,i,i,t,i,i):o("d%s=types[%i].toObject(m%s,o)",i,t,i);else{var s=!1;switch(e.type){case"double":case"float":o("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,s?"true":"",i);break;case"bytes":o("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:o("d%s=m%s",i,i);break}}return o}fB.toObject=function(e){var t=e.fieldsArray.slice().sort(xr.compareFieldsById);if(!t.length)return xr.codegen()("return {}");for(var i=xr.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],a=[],n=[],r=0;r<t.length;++r)t[r].partOf||(t[r].resolve().repeated?s:t[r].map?a:n).push(t[r]);if(s.length){for(i("if(o.arrays||o.defaults){"),r=0;r<s.length;++r)i("d%s=[]",xr.safeProp(s[r].name));i("}")}if(a.length){for(i("if(o.objects||o.defaults){"),r=0;r<a.length;++r)i("d%s={}",xr.safeProp(a[r].name));i("}")}if(n.length){for(i("if(o.defaults){"),r=0;r<n.length;++r){var c=n[r],l=xr.safeProp(c.name);if(c.resolvedType instanceof Oc)i("d%s=o.enums===String?%j:%j",l,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var u="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";i("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",l,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else i("d%s=%j",l,c.typeDefault)}i("}")}var E=!1;for(r=0;r<t.length;++r){var c=t[r],T=e._fieldsArray.indexOf(c),l=xr.safeProp(c.name);c.map?(E||(E=!0,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),vh(i,c,T,l+"[ks2[j]]")("}")):c.repeated?(i("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),vh(i,c,T,l+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",l,c.name),vh(i,c,T,l),c.partOf&&i("if(o.oneofs)")("d%s=%j",xr.safeProp(c.partOf.name),c.name)),i("}")}return i("return d")}});var Dh=h(AB=>{"use strict";var aZ=AB,cZ=AS();aZ[".google.protobuf.Any"]={fromObject:function(o){if(o&&o["@type"]){var e=o["@type"].substring(o["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var i=o["@type"].charAt(0)==="."?o["@type"].slice(1):o["@type"];return i.indexOf("/")===-1&&(i="/"+i),this.create({type_url:i,value:t.encode(t.fromObject(o)).finish()})}}return this.fromObject(o)},toObject:function(o,e){var t="type.googleapis.com/",i="",s="";if(e&&e.json&&o.type_url&&o.value){s=o.type_url.substring(o.type_url.lastIndexOf("/")+1),i=o.type_url.substring(0,o.type_url.lastIndexOf("/")+1);var a=this.lookup(s);a&&(o=a.decode(o.value))}if(!(o instanceof this.ctor)&&o instanceof cZ){var n=o.$type.toObject(o,e),r=o.$type.fullName[0]==="."?o.$type.fullName.slice(1):o.$type.fullName;return i===""&&(i=t),s=i+r,n["@type"]=s,n}return this.toObject(o,e)}}});var RS=h((dNe,OB)=>{"use strict";OB.exports=Ne;var pr=ns();((Ne.prototype=Object.create(pr.prototype)).constructor=Ne).className="Type";var lZ=_r(),bh=es(),mS=Vn(),uZ=TS(),EZ=hS(),xh=AS(),Uh=kE(),SZ=BE(),Et=$e(),_Z=Vh(),pZ=Ph(),dZ=yh(),mB=Ih(),TZ=Dh();function Ne(o,e){pr.call(this,o,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Ne.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var o=Object.keys(this.fields),e=0;e<o.length;++e){var t=this.fields[o[e]],i=t.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Et.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Et.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Ne.generateConstructor(this)())},set:function(o){var e=o.prototype;e instanceof xh||((o.prototype=new xh).constructor=o,Et.merge(o.prototype,e)),o.$type=o.prototype.$type=this,Et.merge(o,xh,!0),this._ctor=o;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var i={};for(t=0;t<this.oneofsArray.length;++t)i[this._oneofsArray[t].resolve().name]={get:Et.oneOfGetter(this._oneofsArray[t].oneof),set:Et.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(o.prototype,i)}}});Ne.generateConstructor=function(e){for(var t=Et.codegen(["p"],e.name),i=0,s;i<e.fieldsArray.length;++i)(s=e._fieldsArray[i]).map?t("this%s={}",Et.safeProp(s.name)):s.repeated&&t("this%s=[]",Et.safeProp(s.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function OS(o){return o._fieldsById=o._fieldsArray=o._oneofsArray=null,delete o.encode,delete o.decode,delete o.verify,o}Ne.fromJSON=function(e,t){var i=new Ne(e,t.options);i.extensions=t.extensions,i.reserved=t.reserved;for(var s=Object.keys(t.fields),a=0;a<s.length;++a)i.add((typeof t.fields[s[a]].keyType<"u"?uZ.fromJSON:mS.fromJSON)(s[a],t.fields[s[a]]));if(t.oneofs)for(s=Object.keys(t.oneofs),a=0;a<s.length;++a)i.add(bh.fromJSON(s[a],t.oneofs[s[a]]));if(t.nested)for(s=Object.keys(t.nested),a=0;a<s.length;++a){var n=t.nested[s[a]];i.add((n.id!==void 0?mS.fromJSON:n.fields!==void 0?Ne.fromJSON:n.values!==void 0?lZ.fromJSON:n.methods!==void 0?EZ.fromJSON:pr.fromJSON)(s[a],n))}return t.extensions&&t.extensions.length&&(i.extensions=t.extensions),t.reserved&&t.reserved.length&&(i.reserved=t.reserved),t.group&&(i.group=!0),t.comment&&(i.comment=t.comment),i};Ne.prototype.toJSON=function(e){var t=pr.prototype.toJSON.call(this,e),i=e?!!e.keepComments:!1;return Et.toObject(["options",t&&t.options||void 0,"oneofs",pr.arrayToJSON(this.oneofsArray,e),"fields",pr.arrayToJSON(this.fieldsArray.filter(function(s){return!s.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",i?this.comment:void 0])};Ne.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var i=this.oneofsArray;for(t=0;t<i.length;)i[t++].resolve();return pr.prototype.resolveAll.call(this)};Ne.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Ne.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof mS&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),OS(this)}return e instanceof bh?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),OS(this)):pr.prototype.add.call(this,e)};Ne.prototype.remove=function(e){if(e instanceof mS&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),OS(this)}if(e instanceof bh){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),OS(this)}return pr.prototype.remove.call(this,e)};Ne.prototype.isReservedId=function(e){return pr.isReservedId(this.reserved,e)};Ne.prototype.isReservedName=function(e){return pr.isReservedName(this.reserved,e)};Ne.prototype.create=function(e){return new this.ctor(e)};Ne.prototype.setup=function(){for(var e=this.fullName,t=[],i=0;i<this.fieldsArray.length;++i)t.push(this._fieldsArray[i].resolve().resolvedType);this.encode=_Z(this)({Writer:SZ,types:t,util:Et}),this.decode=pZ(this)({Reader:Uh,types:t,util:Et}),this.verify=dZ(this)({types:t,util:Et}),this.fromObject=mB.fromObject(this)({types:t,util:Et}),this.toObject=mB.toObject(this)({types:t,util:Et});var s=TZ[e];if(s){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=s.fromObject.bind(a),a.toObject=this.toObject,this.toObject=s.toObject.bind(a)}return this};Ne.prototype.encode=function(e,t){return this.setup().encode(e,t)};Ne.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};Ne.prototype.decode=function(e,t){return this.setup().decode(e,t)};Ne.prototype.decodeDelimited=function(e){return e instanceof Uh||(e=Uh.create(e)),this.decode(e,e.uint32())};Ne.prototype.verify=function(e){return this.setup().verify(e)};Ne.prototype.fromObject=function(e){return this.setup().fromObject(e)};Ne.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};Ne.d=function(e){return function(i){Et.decorateType(i,e)}}});var PS=h((TNe,CB)=>{"use strict";CB.exports=xt;var MS=ns();((xt.prototype=Object.create(MS.prototype)).constructor=xt).className="Root";var Bh=Vn(),NB=_r(),fZ=es(),Bn=$e(),MB,wh,Rc;function xt(o){MS.call(this,"",o),this.deferred=[],this.files=[]}xt.fromJSON=function(e,t){return t||(t=new xt),e.options&&t.setOptions(e.options),t.addJSON(e.nested)};xt.prototype.resolvePath=Bn.path.resolve;xt.prototype.fetch=Bn.fetch;function PB(){}xt.prototype.load=function o(e,t,i){typeof t=="function"&&(i=t,t=void 0);var s=this;if(!i)return Bn.asPromise(o,s,e,t);var a=i===PB;function n(f,N){if(i){if(a)throw f;var m=i;i=null,m(f,N)}}function r(f){var N=f.lastIndexOf("google/protobuf/");if(N>-1){var m=f.substring(N);if(m in Rc)return m}return null}function c(f,N){try{if(Bn.isString(N)&&N.charAt(0)==="{"&&(N=JSON.parse(N)),!Bn.isString(N))s.setOptions(N.options).addJSON(N.nested);else{wh.filename=f;var m=wh(N,s,t),P,M=0;if(m.imports)for(;M<m.imports.length;++M)(P=r(m.imports[M])||s.resolvePath(f,m.imports[M]))&&l(P);if(m.weakImports)for(M=0;M<m.weakImports.length;++M)(P=r(m.weakImports[M])||s.resolvePath(f,m.weakImports[M]))&&l(P,!0)}}catch(g){n(g)}!a&&!u&&n(null,s)}function l(f,N){if(f=r(f)||f,!(s.files.indexOf(f)>-1)){if(s.files.push(f),f in Rc){a?c(f,Rc[f]):(++u,setTimeout(function(){--u,c(f,Rc[f])}));return}if(a){var m;try{m=Bn.fs.readFileSync(f).toString("utf8")}catch(P){N||n(P);return}c(f,m)}else++u,s.fetch(f,function(P,M){if(--u,!!i){if(P){N?u||n(null,s):n(P);return}c(f,M)}})}}var u=0;Bn.isString(e)&&(e=[e]);for(var E=0,T;E<e.length;++E)(T=s.resolvePath("",e[E]))&&l(T);if(a)return s;u||n(null,s)};xt.prototype.loadSync=function(e,t){if(!Bn.isNode)throw Error("not supported");return this.load(e,t,PB)};xt.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return MS.prototype.resolveAll.call(this)};var NS=/^[A-Z]/;function RB(o,e){var t=e.parent.lookup(e.extend);if(t){var i=new Bh(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(i.name)||(i.declaringField=e,e.extensionField=i,t.add(i)),!0}return!1}xt.prototype._handleAdd=function(e){if(e instanceof Bh)e.extend!==void 0&&!e.extensionField&&(RB(this,e)||this.deferred.push(e));else if(e instanceof NB)NS.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof fZ)){if(e instanceof MB)for(var t=0;t<this.deferred.length;)RB(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var i=0;i<e.nestedArray.length;++i)this._handleAdd(e._nestedArray[i]);NS.test(e.name)&&(e.parent[e.name]=e)}};xt.prototype._handleRemove=function(e){if(e instanceof Bh){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof NB)NS.test(e.name)&&delete e.parent[e.name];else if(e instanceof MS){for(var i=0;i<e.nestedArray.length;++i)this._handleRemove(e._nestedArray[i]);NS.test(e.name)&&delete e.parent[e.name]}};xt._configure=function(o,e,t){MB=o,wh=e,Rc=t}});var $e=h((fNe,yB)=>{"use strict";var Be=yB.exports=gr(),gB=Tf(),Gh,kh;Be.codegen=W1();Be.fetch=z1();Be.path=J1();Be.fs=Be.inquire("fs");Be.toArray=function(e){if(e){for(var t=Object.keys(e),i=new Array(t.length),s=0;s<t.length;)i[s]=e[t[s++]];return i}return[]};Be.toObject=function(e){for(var t={},i=0;i<e.length;){var s=e[i++],a=e[i++];a!==void 0&&(t[s]=a)}return t};var hZ=/\\/g,AZ=/"/g;Be.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};Be.safeProp=function(e){return!/^[$\w_]+$/.test(e)||Be.isReserved(e)?'["'+e.replace(hZ,"\\\\").replace(AZ,'\\"')+'"]':"."+e};Be.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var mZ=/_([a-z])/g;Be.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(mZ,function(t,i){return i.toUpperCase()})};Be.compareFieldsById=function(e,t){return e.id-t.id};Be.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(Be.decorateRoot.remove(e.$type),e.$type.name=t,Be.decorateRoot.add(e.$type)),e.$type;Gh||(Gh=RS());var i=new Gh(t||e.name);return Be.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var OZ=0;Be.decorateEnum=function(e){if(e.$type)return e.$type;kh||(kh=_r());var t=new kh("Enum"+OZ++,e);return Be.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};Be.setProperty=function(e,t,i){function s(a,n,r){var c=n.shift();if(c==="__proto__"||c==="prototype")return a;if(n.length>0)a[c]=s(a[c]||{},n,r);else{var l=a[c];l&&(r=[].concat(l).concat(r)),a[c]=r}return a}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),s(e,t,i)};Object.defineProperty(Be,"decorateRoot",{get:function(){return gB.decorated||(gB.decorated=new(PS()))}})});var bo=h((hNe,LB)=>{"use strict";LB.exports=Ut;Ut.className="ReflectionObject";var CS=$e(),gS;function Ut(o,e){if(!CS.isString(o))throw TypeError("name must be a string");if(e&&!CS.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=o,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Ut.prototype,{root:{get:function(){for(var o=this;o.parent!==null;)o=o.parent;return o}},fullName:{get:function(){for(var o=[this.name],e=this.parent;e;)o.unshift(e.name),e=e.parent;return o.join(".")}}});Ut.prototype.toJSON=function(){throw Error()};Ut.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof gS&&t._handleAdd(this)};Ut.prototype.onRemove=function(e){var t=e.root;t instanceof gS&&t._handleRemove(this),this.parent=null,this.resolved=!1};Ut.prototype.resolve=function(){return this.resolved?this:(this.root instanceof gS&&(this.resolved=!0),this)};Ut.prototype.getOption=function(e){if(this.options)return this.options[e]};Ut.prototype.setOption=function(e,t,i){return(!i||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=t),this};Ut.prototype.setParsedOption=function(e,t,i){this.parsedOptions||(this.parsedOptions=[]);var s=this.parsedOptions;if(i){var a=s.find(function(c){return Object.prototype.hasOwnProperty.call(c,e)});if(a){var n=a[e];CS.setProperty(n,i,t)}else a={},a[e]=CS.setProperty({},i,t),s.push(a)}else{var r={};r[e]=t,s.push(r)}return this};Ut.prototype.setOptions=function(e,t){if(e)for(var i=Object.keys(e),s=0;s<i.length;++s)this.setOption(i[s],e[i[s]],t);return this};Ut.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};Ut._configure=function(o){gS=o}});var _r=h((ANe,DB)=>{"use strict";DB.exports=Ur;var vB=bo();((Ur.prototype=Object.create(vB.prototype)).constructor=Ur).className="Enum";var IB=ns(),yS=$e();function Ur(o,e,t,i,s,a){if(vB.call(this,o,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.valuesOptions=a,this.reserved=void 0,e)for(var n=Object.keys(e),r=0;r<n.length;++r)typeof e[n[r]]=="number"&&(this.valuesById[this.values[n[r]]=e[n[r]]]=n[r])}Ur.fromJSON=function(e,t){var i=new Ur(e,t.values,t.options,t.comment,t.comments);return i.reserved=t.reserved,i};Ur.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return yS.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};Ur.prototype.add=function(e,t,i,s){if(!yS.isString(e))throw TypeError("name must be a string");if(!yS.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=s||null),this.comments[e]=i||null,this};Ur.prototype.remove=function(e){if(!yS.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Ur.prototype.isReservedId=function(e){return IB.isReservedId(this.reserved,e)};Ur.prototype.isReservedName=function(e){return IB.isReservedName(this.reserved,e)}});var Vh=h((mNe,UB)=>{"use strict";UB.exports=NZ;var RZ=_r(),Fh=Uo(),Hh=$e();function xB(o,e,t,i){return e.resolvedType.group?o("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,i,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):o("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,i,(e.id<<3|2)>>>0)}function NZ(o){for(var e=Hh.codegen(["m","w"],o.name+"$encode")("if(!w)")("w=Writer.create()"),t,i,s=o.fieldsArray.slice().sort(Hh.compareFieldsById),t=0;t<s.length;++t){var a=s[t].resolve(),n=o._fieldsArray.indexOf(a),r=a.resolvedType instanceof RZ?"int32":a.type,c=Fh.basic[r];i="m"+Hh.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",i,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",i)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|Fh.mapKey[a.keyType],a.keyType),c===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",n,i):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,r,i),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",i,i),a.packed&&Fh.packed[r]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",i)("w.%s(%s[i])",r,i)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",i),c===void 0?xB(e,a,n,i+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|c)>>>0,r,i)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",i,a.name),c===void 0?xB(e,a,n,i):e("w.uint32(%i).%s(%s)",(a.id<<3|c)>>>0,r,i))}return e("return w")}});var VB=h((ONe,bB)=>{"use strict";var pe=bB.exports=ff();pe.build="light";function MZ(o,e,t){return typeof e=="function"?(t=e,e=new pe.Root):e||(e=new pe.Root),e.load(o,t)}pe.load=MZ;function PZ(o,e){return e||(e=new pe.Root),e.loadSync(o)}pe.loadSync=PZ;pe.encoder=Vh();pe.decoder=Ph();pe.verifier=yh();pe.converter=Ih();pe.ReflectionObject=bo();pe.Namespace=ns();pe.Root=PS();pe.Enum=_r();pe.Type=RS();pe.Field=Vn();pe.OneOf=es();pe.MapField=TS();pe.Service=hS();pe.Method=fS();pe.Message=AS();pe.wrappers=Dh();pe.types=Uo();pe.util=$e();pe.ReflectionObject._configure(pe.Root);pe.Namespace._configure(pe.Type,pe.Service,pe.Enum);pe.Root._configure(pe.Type);pe.Field._configure(pe.Type)});var qh=h((RNe,GB)=>{"use strict";GB.exports=BB;var Yh=/[\s{}=;:[\],'"()<>]/g,CZ=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,gZ=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,yZ=/^ *[*/]+ */,LZ=/^\s*\*?\/*/,vZ=/\n/g,IZ=/\s/,DZ=/\\(.?)/g,xZ={0:"\0",r:"\r",n:`
`,t:"	"};function wB(o){return o.replace(DZ,function(e,t){switch(t){case"\\":case"":return t;default:return xZ[t]||""}})}BB.unescape=wB;function BB(o,e){o=o.toString();var t=0,i=o.length,s=1,a=0,n={},r=[],c=null;function l(I){return Error("illegal "+I+" (line "+s+")")}function u(){var I=c==="'"?gZ:CZ;I.lastIndex=t-1;var K=I.exec(o);if(!K)throw l("string");return t=I.lastIndex,P(c),c=null,wB(K[1])}function E(I){return o.charAt(I)}function T(I,K,q){var F={type:o.charAt(I++),lineEmpty:!1,leading:q},ie;e?ie=2:ie=3;var Z=I-ie,ce;do if(--Z<0||(ce=o.charAt(Z))===`
`){F.lineEmpty=!0;break}while(ce===" "||ce==="	");for(var O=o.substring(I,K).split(vZ),G=0;G<O.length;++G)O[G]=O[G].replace(e?LZ:yZ,"").trim();F.text=O.join(`
`).trim(),n[s]=F,a=s}function f(I){var K=N(I),q=o.substring(I,K),F=/^\s*\/\//.test(q);return F}function N(I){for(var K=I;K<i&&E(K)!==`
`;)K++;return K}function m(){if(r.length>0)return r.shift();if(c)return u();var I,K,q,F,ie,Z=t===0;do{if(t===i)return null;for(I=!1;IZ.test(q=E(t));)if(q===`
`&&(Z=!0,++s),++t===i)return null;if(E(t)==="/"){if(++t===i)throw l("comment");if(E(t)==="/")if(e){if(F=t,ie=!1,f(t-1)){ie=!0;do if(t=N(t),t===i||(t++,!Z))break;while(f(t))}else t=Math.min(i,N(t)+1);ie&&(T(F,t,Z),Z=!0),s++,I=!0}else{for(ie=E(F=t+1)==="/";E(++t)!==`
`;)if(t===i)return null;++t,ie&&(T(F,t-1,Z),Z=!0),++s,I=!0}else if((q=E(t))==="*"){F=t+1,ie=e||E(F)==="*";do{if(q===`
`&&++s,++t===i)throw l("comment");K=q,q=E(t)}while(K!=="*"||q!=="/");++t,ie&&(T(F,t-2,Z),Z=!0),I=!0}else return"/"}}while(I);var ce=t;Yh.lastIndex=0;var O=Yh.test(E(ce++));if(!O)for(;ce<i&&!Yh.test(E(ce));)++ce;var G=o.substring(t,t=ce);return(G==='"'||G==="'")&&(c=G),G}function P(I){r.push(I)}function M(){if(!r.length){var I=m();if(I===null)return null;P(I)}return r[0]}function g(I,K){var q=M(),F=q===I;if(F)return m(),!0;if(!K)throw l("token '"+q+"', '"+I+"' expected");return!1}function x(I){var K=null,q;return I===void 0?(q=n[s-1],delete n[s-1],q&&(e||q.type==="*"||q.lineEmpty)&&(K=q.leading?q.text:null)):(a<I&&M(),q=n[I],delete n[I],q&&!q.lineEmpty&&(e||q.type==="/")&&(K=q.leading?null:q.text)),K}return Object.defineProperty({next:m,peek:M,push:P,skip:g,cmnt:x},"line",{get:function(){return s}})}});var KB=h((NNe,qB)=>{"use strict";qB.exports=on;on.filename=null;on.defaults={keepCase:!1};var UZ=qh(),kB=PS(),FB=RS(),HB=Vn(),bZ=TS(),YB=es(),VZ=_r(),wZ=hS(),BZ=fS(),Kh=Uo(),Wh=$e(),GZ=/^[1-9][0-9]*$/,kZ=/^-?[1-9][0-9]*$/,FZ=/^0[x][0-9a-fA-F]+$/,HZ=/^-?0[x][0-9a-fA-F]+$/,YZ=/^0[0-7]+$/,qZ=/^-?0[0-7]+$/,KZ=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,br=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Vr=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,WZ=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function on(o,e,t){e instanceof kB||(t=e,e=new kB),t||(t=on.defaults);var i=t.preferTrailingComment||!1,s=UZ(o,t.alternateCommentMode||!1),a=s.next,n=s.push,r=s.peek,c=s.skip,l=s.cmnt,u=!0,E,T,f,N,m=!1,P=e,M=t.keepCase?function(L){return L}:Wh.camelCase;function g(L,y,D){var Y=on.filename;return D||(on.filename=null),Error("illegal "+(y||"token")+" '"+L+"' ("+(Y?Y+", ":"")+"line "+s.line+")")}function x(){var L=[],y;do{if((y=a())!=='"'&&y!=="'")throw g(y);L.push(a()),c(y),y=r()}while(y==='"'||y==="'");return L.join("")}function I(L){var y=a();switch(y){case"'":case'"':return n(y),x();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return q(y,!0)}catch{if(L&&Vr.test(y))return y;throw g(y,"value")}}function K(L,y){var D,Y;do y&&((D=r())==='"'||D==="'")?L.push(x()):L.push([Y=F(a()),c("to",!0)?F(a()):Y]);while(c(",",!0));var k={options:void 0};k.setOption=function(oe,ve){this.options===void 0&&(this.options={}),this.options[oe]=ve},G(k,function(ve){if(ve==="option")Ee(k,ve),c(";");else throw g(ve)},function(){xe(k)})}function q(L,y){var D=1;switch(L.charAt(0)==="-"&&(D=-1,L=L.substring(1)),L){case"inf":case"INF":case"Inf":return D*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(GZ.test(L))return D*parseInt(L,10);if(FZ.test(L))return D*parseInt(L,16);if(YZ.test(L))return D*parseInt(L,8);if(KZ.test(L))return D*parseFloat(L);throw g(L,"number",y)}function F(L,y){switch(L){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!y&&L.charAt(0)==="-")throw g(L,"id");if(kZ.test(L))return parseInt(L,10);if(HZ.test(L))return parseInt(L,16);if(qZ.test(L))return parseInt(L,8);throw g(L,"id")}function ie(){if(E!==void 0)throw g("package");if(E=a(),!Vr.test(E))throw g(E,"name");P=P.define(E),c(";")}function Z(){var L=r(),y;switch(L){case"weak":y=f||(f=[]),a();break;case"public":a();default:y=T||(T=[]);break}L=x(),c(";"),y.push(L)}function ce(){if(c("="),N=x(),m=N==="proto3",!m&&N!=="proto2")throw g(N,"syntax");c(";")}function O(L,y){switch(y){case"option":return Ee(L,y),c(";"),!0;case"message":return C(L,y),!0;case"enum":return z(L,y),!0;case"service":return Oe(L,y),!0;case"extend":return ot(L,y),!0}return!1}function G(L,y,D){var Y=s.line;if(L&&(typeof L.comment!="string"&&(L.comment=l()),L.filename=on.filename),c("{",!0)){for(var k;(k=a())!=="}";)y(k);c(";",!0)}else D&&D(),c(";"),L&&(typeof L.comment!="string"||i)&&(L.comment=l(Y)||L.comment)}function C(L,y){if(!br.test(y=a()))throw g(y,"type name");var D=new FB(y);G(D,function(k){if(!O(D,k))switch(k){case"map":J(D,k);break;case"required":case"repeated":d(D,k);break;case"optional":m?d(D,"proto3_optional"):d(D,"optional");break;case"oneof":Q(D,k);break;case"extensions":K(D.extensions||(D.extensions=[]));break;case"reserved":K(D.reserved||(D.reserved=[]),!0);break;default:if(!m||!Vr.test(k))throw g(k);n(k),d(D,"optional");break}}),L.add(D)}function d(L,y,D){var Y=a();if(Y==="group"){v(L,y);return}for(;Y.endsWith(".")||r().startsWith(".");)Y+=a();if(!Vr.test(Y))throw g(Y,"type");var k=a();if(!br.test(k))throw g(k,"name");k=M(k),c("=");var oe=new HB(k,F(a()),Y,y,D);if(G(oe,function(gt){if(gt==="option")Ee(oe,gt),c(";");else throw g(gt)},function(){xe(oe)}),y==="proto3_optional"){var ve=new YB("_"+k);oe.setOption("proto3_optional",!0),ve.add(oe),L.add(ve)}else L.add(oe);!m&&oe.repeated&&(Kh.packed[Y]!==void 0||Kh.basic[Y]===void 0)&&oe.setOption("packed",!1,!0)}function v(L,y){var D=a();if(!br.test(D))throw g(D,"name");var Y=Wh.lcFirst(D);D===Y&&(D=Wh.ucFirst(D)),c("=");var k=F(a()),oe=new FB(D);oe.group=!0;var ve=new HB(Y,k,D,y);ve.filename=on.filename,G(oe,function(gt){switch(gt){case"option":Ee(oe,gt),c(";");break;case"required":case"repeated":d(oe,gt);break;case"optional":m?d(oe,"proto3_optional"):d(oe,"optional");break;case"message":C(oe,gt);break;case"enum":z(oe,gt);break;default:throw g(gt)}}),L.add(oe).add(ve)}function J(L){c("<");var y=a();if(Kh.mapKey[y]===void 0)throw g(y,"type");c(",");var D=a();if(!Vr.test(D))throw g(D,"type");c(">");var Y=a();if(!br.test(Y))throw g(Y,"name");c("=");var k=new bZ(M(Y),F(a()),y,D);G(k,function(ve){if(ve==="option")Ee(k,ve),c(";");else throw g(ve)},function(){xe(k)}),L.add(k)}function Q(L,y){if(!br.test(y=a()))throw g(y,"name");var D=new YB(M(y));G(D,function(k){k==="option"?(Ee(D,k),c(";")):(n(k),d(D,"optional"))}),L.add(D)}function z(L,y){if(!br.test(y=a()))throw g(y,"name");var D=new VZ(y);G(D,function(k){switch(k){case"option":Ee(D,k),c(";");break;case"reserved":K(D.reserved||(D.reserved=[]),!0);break;default:ue(D,k)}}),L.add(D)}function ue(L,y){if(!br.test(y))throw g(y,"name");c("=");var D=F(a(),!0),Y={options:void 0};Y.setOption=function(k,oe){this.options===void 0&&(this.options={}),this.options[k]=oe},G(Y,function(oe){if(oe==="option")Ee(Y,oe),c(";");else throw g(oe)},function(){xe(Y)}),L.add(y,D,Y.comment,Y.options)}function Ee(L,y){var D=c("(",!0);if(!Vr.test(y=a()))throw g(y,"name");var Y=y,k=Y,oe;D&&(c(")"),Y="("+Y+")",k=Y,y=r(),WZ.test(y)&&(oe=y.slice(1),Y+=y,a())),c("=");var ve=Le(L,Y);se(L,k,ve,oe)}function Le(L,y){if(c("{",!0)){for(var D={};!c("}",!0);){if(!br.test(be=a()))throw g(be,"name");if(be===null)throw g(be,"end of input");var Y,k=be;if(c(":",!0),r()==="{")Y=Le(L,y+"."+be);else if(r()==="["){Y=[];var oe;if(c("[",!0)){do oe=I(!0),Y.push(oe);while(c(",",!0));c("]"),typeof oe<"u"&&Ae(L,y+"."+be,oe)}}else Y=I(!0),Ae(L,y+"."+be,Y);var ve=D[k];ve&&(Y=[].concat(ve).concat(Y)),D[k]=Y,c(",",!0),c(";",!0)}return D}var un=I(!0);return Ae(L,y,un),un}function Ae(L,y,D){L.setOption&&L.setOption(y,D)}function se(L,y,D,Y){L.setParsedOption&&L.setParsedOption(y,D,Y)}function xe(L){if(c("[",!0)){do Ee(L,"option");while(c(",",!0));c("]")}return L}function Oe(L,y){if(!br.test(y=a()))throw g(y,"service name");var D=new wZ(y);G(D,function(k){if(!O(D,k))if(k==="rpc")Ue(D,k);else throw g(k)}),L.add(D)}function Ue(L,y){var D=l(),Y=y;if(!br.test(y=a()))throw g(y,"name");var k=y,oe,ve,un,gt;if(c("("),c("stream",!0)&&(ve=!0),!Vr.test(y=a())||(oe=y,c(")"),c("returns"),c("("),c("stream",!0)&&(gt=!0),!Vr.test(y=a())))throw g(y);un=y,c(")");var qc=new BZ(k,Y,oe,un,ve,gt);qc.comment=D,G(qc,function(q_){if(q_==="option")Ee(qc,q_),c(";");else throw g(q_)}),L.add(qc)}function ot(L,y){if(!Vr.test(y=a()))throw g(y,"reference");var D=y;G(null,function(k){switch(k){case"required":case"repeated":d(L,k,D);break;case"optional":m?d(L,"proto3_optional",D):d(L,"optional",D);break;default:if(!m||!Vr.test(k))throw g(k);n(k),d(L,"optional",D);break}})}for(var be;(be=a())!==null;)switch(be){case"package":if(!u)throw g(be);ie();break;case"import":if(!u)throw g(be);Z();break;case"syntax":if(!u)throw g(be);ce();break;case"option":Ee(P,be),c(";");break;default:if(O(P,be)){u=!1;continue}throw g(be)}return on.filename=null,{package:E,imports:T,weakImports:f,syntax:N,root:e}}});var zB=h((MNe,jB)=>{"use strict";jB.exports=dr;var jZ=/\/|\./;function dr(o,e){jZ.test(o)||(o="google/protobuf/"+o+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),dr[o]=e}dr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var WB;dr("duration",{Duration:WB={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});dr("timestamp",{Timestamp:WB});dr("empty",{Empty:{fields:{}}});dr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});dr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});dr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});dr.get=function(e){return dr[e]||null}});var XB=h((PNe,$B)=>{"use strict";var Gn=$B.exports=VB();Gn.build="full";Gn.tokenize=qh();Gn.parse=KB();Gn.common=zB();Gn.Root._configure(Gn.Type,Gn.parse,Gn.common)});var LS=h((CNe,JB)=>{"use strict";JB.exports=XB()});var jh=h((gNe,zZ)=>{zZ.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var rG=h((ae,tG)=>{"use strict";var At=LS();tG.exports=ae=At.descriptor=At.Root.fromJSON(jh()).lookup(".google.protobuf");var QB=At.Namespace,Nc=At.Root,sn=At.Enum,kn=At.Type,Fn=At.Field,$Z=At.MapField,vS=At.OneOf,Mc=At.Service,IS=At.Method;Nc.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.FileDescriptorSet.decode(e));var t=new Nc;if(e.file)for(var i,s,a=0,n;a<e.file.length;++a){if(s=t,(i=e.file[a]).package&&i.package.length&&(s=t.define(i.package)),i.name&&i.name.length&&t.files.push(s.filename=i.name),i.messageType)for(n=0;n<i.messageType.length;++n)s.add(kn.fromDescriptor(i.messageType[n],i.syntax));if(i.enumType)for(n=0;n<i.enumType.length;++n)s.add(sn.fromDescriptor(i.enumType[n]));if(i.extension)for(n=0;n<i.extension.length;++n)s.add(Fn.fromDescriptor(i.extension[n]));if(i.service)for(n=0;n<i.service.length;++n)s.add(Mc.fromDescriptor(i.service[n]));var r=is(i.options,ae.FileOptions);if(r){var c=Object.keys(r);for(n=0;n<c.length;++n)s.setOption(c[n],r[c[n]])}}return t};Nc.prototype.toDescriptor=function(e){var t=ae.FileDescriptorSet.create();return ZB(this,t.file,e),t};function ZB(o,e,t){var i=ae.FileDescriptorProto.create({name:o.filename||(o.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});t&&(i.syntax=t),o instanceof Nc||(i.package=o.fullName.substring(1));for(var s=0,a;s<o.nestedArray.length;++s)(a=o._nestedArray[s])instanceof kn?i.messageType.push(a.toDescriptor(t)):a instanceof sn?i.enumType.push(a.toDescriptor()):a instanceof Fn?i.extension.push(a.toDescriptor(t)):a instanceof Mc?i.service.push(a.toDescriptor()):a instanceof QB&&ZB(a,e,t);i.options=ss(o.options,ae.FileOptions),i.messageType.length+i.enumType.length+i.extension.length+i.service.length&&e.push(i)}var XZ=0;kn.fromDescriptor=function(e,t){typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e));var i=new kn(e.name.length?e.name:"Type"+XZ++,is(e.options,ae.MessageOptions)),s;if(e.oneofDecl)for(s=0;s<e.oneofDecl.length;++s)i.add(vS.fromDescriptor(e.oneofDecl[s]));if(e.field)for(s=0;s<e.field.length;++s){var a=Fn.fromDescriptor(e.field[s],t);i.add(a),e.field[s].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[s].oneofIndex].add(a)}if(e.extension)for(s=0;s<e.extension.length;++s)i.add(Fn.fromDescriptor(e.extension[s],t));if(e.nestedType)for(s=0;s<e.nestedType.length;++s)i.add(kn.fromDescriptor(e.nestedType[s],t)),e.nestedType[s].options&&e.nestedType[s].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(s=0;s<e.enumType.length;++s)i.add(sn.fromDescriptor(e.enumType[s]));if(e.extensionRange&&e.extensionRange.length)for(i.extensions=[],s=0;s<e.extensionRange.length;++s)i.extensions.push([e.extensionRange[s].start,e.extensionRange[s].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(s=0;s<e.reservedRange.length;++s)i.reserved.push([e.reservedRange[s].start,e.reservedRange[s].end]);if(e.reservedName)for(s=0;s<e.reservedName.length;++s)i.reserved.push(e.reservedName[s])}return i};kn.prototype.toDescriptor=function(e){var t=ae.DescriptorProto.create({name:this.name}),i;for(i=0;i<this.fieldsArray.length;++i){var s;if(t.field.push(s=this._fieldsArray[i].toDescriptor(e)),this._fieldsArray[i]instanceof $Z){var a=zh(this._fieldsArray[i].keyType,this._fieldsArray[i].resolvedKeyType),n=zh(this._fieldsArray[i].type,this._fieldsArray[i].resolvedType),r=n===11||n===14?this._fieldsArray[i].resolvedType&&eG(this.parent,this._fieldsArray[i].resolvedType)||this._fieldsArray[i].type:void 0;t.nestedType.push(ae.DescriptorProto.create({name:s.typeName,field:[ae.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),ae.FieldDescriptorProto.create({name:"value",number:2,label:1,type:n,typeName:r})],options:ae.MessageOptions.create({mapEntry:!0})}))}}for(i=0;i<this.oneofsArray.length;++i)t.oneofDecl.push(this._oneofsArray[i].toDescriptor());for(i=0;i<this.nestedArray.length;++i)this._nestedArray[i]instanceof Fn?t.field.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof kn?t.nestedType.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof sn&&t.enumType.push(this._nestedArray[i].toDescriptor());if(this.extensions)for(i=0;i<this.extensions.length;++i)t.extensionRange.push(ae.DescriptorProto.ExtensionRange.create({start:this.extensions[i][0],end:this.extensions[i][1]}));if(this.reserved)for(i=0;i<this.reserved.length;++i)typeof this.reserved[i]=="string"?t.reservedName.push(this.reserved[i]):t.reservedRange.push(ae.DescriptorProto.ReservedRange.create({start:this.reserved[i][0],end:this.reserved[i][1]}));return t.options=ss(this.options,ae.MessageOptions),t};var JZ=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Fn.fromDescriptor=function(e,t){if(typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var i;e.typeName&&e.typeName.length?i=e.typeName:i=ree(e.type);var s;switch(e.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var a=e.extendee;e.extendee!==void 0&&(a=a.length?a:void 0);var n=new Fn(e.name.length?e.name:"field"+e.number,e.number,i,s,a);if(n.options=is(e.options,ae.FieldOptions),e.defaultValue&&e.defaultValue.length){var r=e.defaultValue;switch(r){case"true":case"TRUE":r=!0;break;case"false":case"FALSE":r=!1;break;default:var c=JZ.exec(r);c&&(r=parseInt(r));break}n.setOption("default",r)}return nee(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&n.setOption("packed",!1):e.options&&e.options.packed||n.setOption("packed",!1)),n};Fn.prototype.toDescriptor=function(e){var t=ae.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=At.util.ucFirst(this.name),t.label=3;else{switch(t.type=zh(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:t.typeName=this.resolvedType?eG(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":t.label=3;break;case"required":t.label=2;break;default:t.label=1;break}}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=ss(this.options,ae.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((t.options||(t.options=ae.FieldOptions.create())).packed=!1):this.packed&&((t.options||(t.options=ae.FieldOptions.create())).packed=!0),t};var QZ=0;sn.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var i=0;i<e.value.length;++i){var s=e.value[i].name,a=e.value[i].number||0;t[s&&s.length?s:"NAME"+a]=a}return new sn(e.name&&e.name.length?e.name:"Enum"+QZ++,t,is(e.options,ae.EnumOptions))};sn.prototype.toDescriptor=function(){for(var e=[],t=0,i=Object.keys(this.values);t<i.length;++t)e.push(ae.EnumValueDescriptorProto.create({name:i[t],number:this.values[i[t]]}));return ae.EnumDescriptorProto.create({name:this.name,value:e,options:ss(this.options,ae.EnumOptions)})};var ZZ=0;vS.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.OneofDescriptorProto.decode(e)),new vS(e.name&&e.name.length?e.name:"oneof"+ZZ++)};vS.prototype.toDescriptor=function(){return ae.OneofDescriptorProto.create({name:this.name})};var eee=0;Mc.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.ServiceDescriptorProto.decode(e));var t=new Mc(e.name&&e.name.length?e.name:"Service"+eee++,is(e.options,ae.ServiceOptions));if(e.method)for(var i=0;i<e.method.length;++i)t.add(IS.fromDescriptor(e.method[i]));return t};Mc.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return ae.ServiceDescriptorProto.create({name:this.name,method:e,options:ss(this.options,ae.ServiceOptions)})};var tee=0;IS.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.MethodDescriptorProto.decode(e)),new IS(e.name&&e.name.length?e.name:"Method"+tee++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,is(e.options,ae.MethodOptions))};IS.prototype.toDescriptor=function(){return ae.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:ss(this.options,ae.MethodOptions)})};function ree(o){switch(o){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+o)}function nee(o){switch(o){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function zh(o,e){switch(o){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof sn)return 14;if(e instanceof kn)return e.group?10:11;throw Error("illegal type: "+o)}function is(o,e){if(o){for(var t=[],i=0,s,a,n;i<e.fieldsArray.length;++i)(a=(s=e._fieldsArray[i]).name)!=="uninterpretedOption"&&o.hasOwnProperty(a)&&(n=o[a],s.resolvedType instanceof sn&&typeof n=="number"&&s.resolvedType.valuesById[n]!==void 0&&(n=s.resolvedType.valuesById[n]),t.push(oee(a),n));return t.length?At.util.toObject(t):void 0}}function ss(o,e){if(o){for(var t=[],i=0,s=Object.keys(o),a,n;i<s.length;++i)if(n=o[a=s[i]],a!=="default"){var r=e.fields[a];!r&&!(r=e.fields[a=At.util.camelCase(a)])||t.push(a,n)}return t.length?e.fromObject(At.util.toObject(t)):void 0}}function eG(o,e){var t=o.fullName.split("."),i=e.fullName.split("."),s=0,a=0,n=i.length-1;if(!(o instanceof Nc)&&e instanceof QB)for(;s<t.length&&a<n&&t[s]===i[a];){var r=e.lookup(t[s++],!0);if(r!==null&&r!==e)break;++a}else for(;s<t.length&&a<n&&t[s]===i[a];++s,++a);return i.slice(a).join(".")}function oee(o){return o.substring(0,1)+o.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}});var nG=h((yNe,iee)=>{iee.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var oG=h((LNe,see)=>{see.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var iG=h((vNe,aee)=>{aee.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var lG=h(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.addCommonProtos=Hn.loadProtosWithOptionsSync=Hn.loadProtosWithOptions=void 0;var sG=B("fs"),aG=B("path"),as=LS();function cG(o,e){let t=o.resolvePath;o.resolvePath=(i,s)=>{if(aG.isAbsolute(s))return s;for(let a of e){let n=aG.join(a,s);try{return sG.accessSync(n,sG.constants.R_OK),n}catch{continue}}return process.emitWarning(`${s} not found in any of the include paths ${e}`),t(i,s)}}async function cee(o,e){let t=new as.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));cG(t,e.includeDirs)}let i=await t.load(o,e);return i.resolveAll(),i}Hn.loadProtosWithOptions=cee;function lee(o,e){let t=new as.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");cG(t,e.includeDirs)}let i=t.loadSync(o,e);return i.resolveAll(),i}Hn.loadProtosWithOptionsSync=lee;function uee(){let o=nG(),e=jh(),t=oG(),i=iG();as.common("api",o.nested.google.nested.protobuf.nested),as.common("descriptor",e.nested.google.nested.protobuf.nested),as.common("source_context",t.nested.google.nested.protobuf.nested),as.common("type",i.nested.google.nested.protobuf.nested)}Hn.addCommonProtos=uee});var SG=h((EG,$h)=>{var uG=function(o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(C,d,v){this.low=C|0,this.high=d|0,this.unsigned=!!v}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function i(C){return(C&&C.__isLong__)===!0}function s(C){var d=Math.clz32(C&-C);return C?31-d:d}t.isLong=i;var a={},n={};function r(C,d){var v,J,Q;return d?(C>>>=0,(Q=0<=C&&C<256)&&(J=n[C],J)?J:(v=l(C,0,!0),Q&&(n[C]=v),v)):(C|=0,(Q=-128<=C&&C<128)&&(J=a[C],J)?J:(v=l(C,C<0?-1:0,!1),Q&&(a[C]=v),v))}t.fromInt=r;function c(C,d){if(isNaN(C))return d?I:x;if(d){if(C<0)return I;if(C>=P)return Z}else{if(C<=-M)return ce;if(C+1>=M)return ie}return C<0?c(-C,d).neg():l(C%m|0,C/m|0,d)}t.fromNumber=c;function l(C,d,v){return new t(C,d,v)}t.fromBits=l;var u=Math.pow;function E(C,d,v){if(C.length===0)throw Error("empty string");if(typeof d=="number"?(v=d,d=!1):d=!!d,C==="NaN"||C==="Infinity"||C==="+Infinity"||C==="-Infinity")return d?I:x;if(v=v||10,v<2||36<v)throw RangeError("radix");var J;if((J=C.indexOf("-"))>0)throw Error("interior hyphen");if(J===0)return E(C.substring(1),d,v).neg();for(var Q=c(u(v,8)),z=x,ue=0;ue<C.length;ue+=8){var Ee=Math.min(8,C.length-ue),Le=parseInt(C.substring(ue,ue+Ee),v);if(Ee<8){var Ae=c(u(v,Ee));z=z.mul(Ae).add(c(Le))}else z=z.mul(Q),z=z.add(c(Le))}return z.unsigned=d,z}t.fromString=E;function T(C,d){return typeof C=="number"?c(C,d):typeof C=="string"?E(C,d):l(C.low,C.high,typeof d=="boolean"?d:C.unsigned)}t.fromValue=T;var f=65536,N=1<<24,m=f*f,P=m*m,M=P/2,g=r(N),x=r(0);t.ZERO=x;var I=r(0,!0);t.UZERO=I;var K=r(1);t.ONE=K;var q=r(1,!0);t.UONE=q;var F=r(-1);t.NEG_ONE=F;var ie=l(-1,2147483647,!1);t.MAX_VALUE=ie;var Z=l(-1,-1,!0);t.MAX_UNSIGNED_VALUE=Z;var ce=l(0,-2147483648,!1);t.MIN_VALUE=ce;var O=t.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},O.toString=function(d){if(d=d||10,d<2||36<d)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ce)){var v=c(d),J=this.div(v),Q=J.mul(v).sub(this);return J.toString(d)+Q.toInt().toString(d)}else return"-"+this.neg().toString(d);for(var z=c(u(d,6),this.unsigned),ue=this,Ee="";;){var Le=ue.div(z),Ae=ue.sub(Le.mul(z)).toInt()>>>0,se=Ae.toString(d);if(ue=Le,ue.isZero())return se+Ee;for(;se.length<6;)se="0"+se;Ee=""+se+Ee}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ce)?64:this.neg().getNumBitsAbs();for(var d=this.high!=0?this.high:this.low,v=31;v>0&&!(d&1<<v);v--);return this.high!=0?v+33:v+1},O.isZero=function(){return this.high===0&&this.low===0},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return(this.low&1)===1},O.isEven=function(){return(this.low&1)===0},O.equals=function(d){return i(d)||(d=T(d)),this.unsigned!==d.unsigned&&this.high>>>31===1&&d.high>>>31===1?!1:this.high===d.high&&this.low===d.low},O.eq=O.equals,O.notEquals=function(d){return!this.eq(d)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(d){return this.comp(d)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(d){return this.comp(d)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(d){return this.comp(d)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(d){return this.comp(d)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(d){if(i(d)||(d=T(d)),this.eq(d))return 0;var v=this.isNegative(),J=d.isNegative();return v&&!J?-1:!v&&J?1:this.unsigned?d.high>>>0>this.high>>>0||d.high===this.high&&d.low>>>0>this.low>>>0?-1:1:this.sub(d).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(ce)?ce:this.not().add(K)},O.neg=O.negate,O.add=function(d){i(d)||(d=T(d));var v=this.high>>>16,J=this.high&65535,Q=this.low>>>16,z=this.low&65535,ue=d.high>>>16,Ee=d.high&65535,Le=d.low>>>16,Ae=d.low&65535,se=0,xe=0,Oe=0,Ue=0;return Ue+=z+Ae,Oe+=Ue>>>16,Ue&=65535,Oe+=Q+Le,xe+=Oe>>>16,Oe&=65535,xe+=J+Ee,se+=xe>>>16,xe&=65535,se+=v+ue,se&=65535,l(Oe<<16|Ue,se<<16|xe,this.unsigned)},O.subtract=function(d){return i(d)||(d=T(d)),this.add(d.neg())},O.sub=O.subtract,O.multiply=function(d){if(this.isZero())return this;if(i(d)||(d=T(d)),e){var v=e.mul(this.low,this.high,d.low,d.high);return l(v,e.get_high(),this.unsigned)}if(d.isZero())return this.unsigned?I:x;if(this.eq(ce))return d.isOdd()?ce:x;if(d.eq(ce))return this.isOdd()?ce:x;if(this.isNegative())return d.isNegative()?this.neg().mul(d.neg()):this.neg().mul(d).neg();if(d.isNegative())return this.mul(d.neg()).neg();if(this.lt(g)&&d.lt(g))return c(this.toNumber()*d.toNumber(),this.unsigned);var J=this.high>>>16,Q=this.high&65535,z=this.low>>>16,ue=this.low&65535,Ee=d.high>>>16,Le=d.high&65535,Ae=d.low>>>16,se=d.low&65535,xe=0,Oe=0,Ue=0,ot=0;return ot+=ue*se,Ue+=ot>>>16,ot&=65535,Ue+=z*se,Oe+=Ue>>>16,Ue&=65535,Ue+=ue*Ae,Oe+=Ue>>>16,Ue&=65535,Oe+=Q*se,xe+=Oe>>>16,Oe&=65535,Oe+=z*Ae,xe+=Oe>>>16,Oe&=65535,Oe+=ue*Le,xe+=Oe>>>16,Oe&=65535,xe+=J*se+Q*Ae+z*Le+ue*Ee,xe&=65535,l(Ue<<16|ot,xe<<16|Oe,this.unsigned)},O.mul=O.multiply,O.divide=function(d){if(i(d)||(d=T(d)),d.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&d.low===-1&&d.high===-1)return this;var v=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,d.low,d.high);return l(v,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?I:x;var J,Q,z;if(this.unsigned){if(d.unsigned||(d=d.toUnsigned()),d.gt(this))return I;if(d.gt(this.shru(1)))return q;z=I}else{if(this.eq(ce)){if(d.eq(K)||d.eq(F))return ce;if(d.eq(ce))return K;var ue=this.shr(1);return J=ue.div(d).shl(1),J.eq(x)?d.isNegative()?K:F:(Q=this.sub(d.mul(J)),z=J.add(Q.div(d)),z)}else if(d.eq(ce))return this.unsigned?I:x;if(this.isNegative())return d.isNegative()?this.neg().div(d.neg()):this.neg().div(d).neg();if(d.isNegative())return this.div(d.neg()).neg();z=x}for(Q=this;Q.gte(d);){J=Math.max(1,Math.floor(Q.toNumber()/d.toNumber()));for(var Ee=Math.ceil(Math.log(J)/Math.LN2),Le=Ee<=48?1:u(2,Ee-48),Ae=c(J),se=Ae.mul(d);se.isNegative()||se.gt(Q);)J-=Le,Ae=c(J,this.unsigned),se=Ae.mul(d);Ae.isZero()&&(Ae=K),z=z.add(Ae),Q=Q.sub(se)}return z},O.div=O.divide,O.modulo=function(d){if(i(d)||(d=T(d)),e){var v=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,d.low,d.high);return l(v,e.get_high(),this.unsigned)}return this.sub(this.div(d).mul(d))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return l(~this.low,~this.high,this.unsigned)},O.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},O.clz=O.countLeadingZeros,O.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},O.ctz=O.countTrailingZeros,O.and=function(d){return i(d)||(d=T(d)),l(this.low&d.low,this.high&d.high,this.unsigned)},O.or=function(d){return i(d)||(d=T(d)),l(this.low|d.low,this.high|d.high,this.unsigned)},O.xor=function(d){return i(d)||(d=T(d)),l(this.low^d.low,this.high^d.high,this.unsigned)},O.shiftLeft=function(d){return i(d)&&(d=d.toInt()),(d&=63)===0?this:d<32?l(this.low<<d,this.high<<d|this.low>>>32-d,this.unsigned):l(0,this.low<<d-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(d){return i(d)&&(d=d.toInt()),(d&=63)===0?this:d<32?l(this.low>>>d|this.high<<32-d,this.high>>d,this.unsigned):l(this.high>>d-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(d){return i(d)&&(d=d.toInt()),(d&=63)===0?this:d<32?l(this.low>>>d|this.high<<32-d,this.high>>>d,this.unsigned):d===32?l(this.high,0,this.unsigned):l(this.high>>>d-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.rotateLeft=function(d){var v;return i(d)&&(d=d.toInt()),(d&=63)===0?this:d===32?l(this.high,this.low,this.unsigned):d<32?(v=32-d,l(this.low<<d|this.high>>>v,this.high<<d|this.low>>>v,this.unsigned)):(d-=32,v=32-d,l(this.high<<d|this.low>>>v,this.low<<d|this.high>>>v,this.unsigned))},O.rotl=O.rotateLeft,O.rotateRight=function(d){var v;return i(d)&&(d=d.toInt()),(d&=63)===0?this:d===32?l(this.high,this.low,this.unsigned):d<32?(v=32-d,l(this.high<<v|this.low>>>d,this.low<<v|this.high>>>d,this.unsigned)):(d-=32,v=32-d,l(this.low<<v|this.high>>>d,this.high<<v|this.low>>>d,this.unsigned))},O.rotr=O.rotateRight,O.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},O.toBytes=function(d){return d?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var d=this.high,v=this.low;return[v&255,v>>>8&255,v>>>16&255,v>>>24,d&255,d>>>8&255,d>>>16&255,d>>>24]},O.toBytesBE=function(){var d=this.high,v=this.low;return[d>>>24,d>>>16&255,d>>>8&255,d&255,v>>>24,v>>>16&255,v>>>8&255,v&255]},t.fromBytes=function(d,v,J){return J?t.fromBytesLE(d,v):t.fromBytesBE(d,v)},t.fromBytesLE=function(d,v){return new t(d[0]|d[1]<<8|d[2]<<16|d[3]<<24,d[4]|d[5]<<8|d[6]<<16|d[7]<<24,v)},t.fromBytesBE=function(d,v){return new t(d[4]<<24|d[5]<<16|d[6]<<8|d[7],d[0]<<24|d[1]<<16|d[2]<<8|d[3],v)};var G=t;return o.default=G,"default"in o?o.default:o}({});typeof define=="function"&&define.amd?define([],function(){return uG}):typeof $h=="object"&&typeof EG=="object"&&($h.exports=uG)});var AG=h(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.loadFileDescriptorSetFromObject=He.loadFileDescriptorSetFromBuffer=He.fromJSON=He.loadSync=He.load=He.IdempotencyLevel=He.isAnyExtension=He.Long=void 0;var Eee=q1(),wr=LS(),Jh=rG(),Qh=lG(),See=SG();He.Long=See;function _ee(o){return"@type"in o&&typeof o["@type"]=="string"}He.isAnyExtension=_ee;var dG;(function(o){o.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",o.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",o.IDEMPOTENT="IDEMPOTENT"})(dG=He.IdempotencyLevel||(He.IdempotencyLevel={}));var TG={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function pee(o,e){return o===""?e:o+"."+e}function dee(o){return o instanceof wr.Service||o instanceof wr.Type||o instanceof wr.Enum}function Tee(o){return o instanceof wr.Namespace||o instanceof wr.Root}function fG(o,e){let t=pee(e,o.name);return dee(o)?[[t,o]]:Tee(o)&&typeof o.nested<"u"?Object.keys(o.nested).map(i=>fG(o.nested[i],t)).reduce((i,s)=>i.concat(s),[]):[]}function _G(o,e){return function(i){return o.toObject(o.decode(i),e)}}function pG(o){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${o.name} structure, got array instead`);let i=o.fromObject(t);return o.encode(i).finish()}}function fee(o){return(o||[]).reduce((e,t)=>{for(let[i,s]of Object.entries(t))switch(i){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[i]=s}return e},{deprecated:!1,idempotency_level:dG.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function hee(o,e,t,i){let s=o.resolvedRequestType,a=o.resolvedResponseType;return{path:"/"+e+"/"+o.name,requestStream:!!o.requestStream,responseStream:!!o.responseStream,requestSerialize:pG(s),requestDeserialize:_G(s,t),responseSerialize:pG(a),responseDeserialize:_G(a,t),originalName:Eee(o.name),requestType:Xh(s,i),responseType:Xh(a,i),options:fee(o.parsedOptions)}}function Aee(o,e,t,i){let s={};for(let a of o.methodsArray)s[a.name]=hee(a,e,t,i);return s}function Xh(o,e){let t=o.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,TG),fileDescriptorProtos:e}}function mee(o,e){let t=o.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,TG),fileDescriptorProtos:e}}function Oee(o,e,t,i){if(o instanceof wr.Service)return Aee(o,e,t,i);if(o instanceof wr.Type)return Xh(o,i);if(o instanceof wr.Enum)return mee(o,i);throw new Error("Type mismatch in reflection object handling")}function DS(o,e){let t={};o.resolveAll();let s=o.toDescriptor("proto3").file.map(a=>Buffer.from(Jh.FileDescriptorProto.encode(a).finish()));for(let[a,n]of fG(o,""))t[a]=Oee(n,a,e,s);return t}function hG(o,e){e=e||{};let t=wr.Root.fromDescriptor(o);return t.resolveAll(),DS(t,e)}function Ree(o,e){return(0,Qh.loadProtosWithOptions)(o,e).then(t=>DS(t,e))}He.load=Ree;function Nee(o,e){let t=(0,Qh.loadProtosWithOptionsSync)(o,e);return DS(t,e)}He.loadSync=Nee;function Mee(o,e){e=e||{};let t=wr.Root.fromJSON(o);return t.resolveAll(),DS(t,e)}He.fromJSON=Mee;function Pee(o,e){let t=Jh.FileDescriptorSet.decode(o);return hG(t,e)}He.loadFileDescriptorSetFromBuffer=Pee;function Cee(o,e){let t=Jh.FileDescriptorSet.fromObject(o);return hG(t,e)}He.loadFileDescriptorSetFromObject=Cee;(0,Qh.addCommonProtos)()});var Bo=h(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.setup=me.getChannelzServiceDefinition=me.getChannelzHandlers=me.unregisterChannelzRef=me.registerChannelzSocket=me.registerChannelzServer=me.registerChannelzSubchannel=me.registerChannelzChannel=me.ChannelzCallTrackerStub=me.ChannelzCallTracker=me.ChannelzChildrenTrackerStub=me.ChannelzChildrenTracker=me.ChannelzTrace=me.ChannelzTraceStub=void 0;var mG=B("net"),wo=(S1(),ee(E1)),Pc=jt(),Cc=_e(),gee=Er(),yee=iS(),Lee=Eh();function Zh(o){return{channel_id:o.id,name:o.name}}function oA(o){return{subchannel_id:o.id,name:o.name}}function vee(o){return{server_id:o.id}}function VS(o){return{socket_id:o.id,name:o.name}}var OG=32,iA=100,eA=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:Br(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};me.ChannelzTraceStub=eA;var tA=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,i){let s=new Date;this.events.push({description:t,severity:e,timestamp:s,childChannel:(i==null?void 0:i.kind)==="channel"?i:void 0,childSubchannel:(i==null?void 0:i.kind)==="subchannel"?i:void 0}),this.events.length>=OG*2&&(this.events=this.events.slice(OG)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Br(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Br(e.timestamp),channel_ref:e.childChannel?Zh(e.childChannel):null,subchannel_ref:e.childSubchannel?oA(e.childSubchannel):null}))}}};me.ChannelzTrace=tA;var US=class{constructor(){this.channelChildren=new wo.OrderedMap,this.subchannelChildren=new wo.OrderedMap,this.socketChildren=new wo.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){let t=this.trackerMap[e.kind],i=t.find(e.id);i.equals(t.end())?t.setElement(e.id,{ref:e,count:1},i):i.pointer[1].count+=1}unrefChild(e){let t=this.trackerMap[e.kind],i=t.getElementByKey(e.id);i!==void 0&&(i.count-=1,i.count===0&&t.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};me.ChannelzChildrenTracker=US;var rA=class extends US{refChild(){}unrefChild(){}};me.ChannelzChildrenTrackerStub=rA;var bS=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};me.ChannelzCallTracker=bS;var nA=class extends bS{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};me.ChannelzCallTrackerStub=nA;var an={channel:new wo.OrderedMap,subchannel:new wo.OrderedMap,server:new wo.OrderedMap,socket:new wo.OrderedMap},wS=o=>{let e=1;function t(){return e++}let i=an[o];return(s,a,n)=>{let r=t(),c={id:r,name:s,kind:o};return n&&i.setElement(r,{ref:c,getInfo:a}),c}};me.registerChannelzChannel=wS("channel");me.registerChannelzSubchannel=wS("subchannel");me.registerChannelzServer=wS("server");me.registerChannelzSocket=wS("socket");function Iee(o){an[o.kind].eraseElementByKey(o.id)}me.unregisterChannelzRef=Iee;function Dee(o){let e=Number.parseInt(o,16);return[e/256|0,e%256]}function RG(o){if(o==="")return[];let e=o.split(":").map(i=>Dee(i));return[].concat(...e)}function xee(o){if((0,mG.isIPv4)(o))return Buffer.from(Uint8Array.from(o.split(".").map(e=>Number.parseInt(e))));if((0,mG.isIPv6)(o)){let e,t,i=o.indexOf("::");i===-1?(e=o,t=""):(e=o.substring(0,i),t=o.substring(i+2));let s=Buffer.from(RG(e)),a=Buffer.from(RG(t)),n=Buffer.alloc(16-s.length-a.length,0);return Buffer.concat([s,n,a])}else return null}function MG(o){switch(o){case Pc.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case Pc.ConnectivityState.IDLE:return{state:"IDLE"};case Pc.ConnectivityState.READY:return{state:"READY"};case Pc.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case Pc.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Br(o){if(!o)return null;let e=o.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function PG(o){let e=o.getInfo(),t=[],i=[];return e.children.channels.forEach(s=>{t.push(Zh(s[1].ref))}),e.children.subchannels.forEach(s=>{i.push(oA(s[1].ref))}),{ref:Zh(o.ref),data:{target:e.target,state:MG(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Br(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:t,subchannel_ref:i}}function Uee(o,e){let t=parseInt(o.request.channel_id,10),i=an.channel.getElementByKey(t);if(i===void 0){e({code:Cc.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:PG(i)})}function bee(o,e){let t=parseInt(o.request.max_results,10)||iA,i=[],s=parseInt(o.request.start_channel_id,10),a=an.channel,n;for(n=a.lowerBound(s);!n.equals(a.end())&&i.length<t;n=n.next())i.push(PG(n.pointer[1]));e(null,{channel:i,end:n.equals(a.end())})}function CG(o){let e=o.getInfo(),t=[];return e.listenerChildren.sockets.forEach(i=>{t.push(VS(i[1].ref))}),{ref:vee(o.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Br(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:t}}function Vee(o,e){let t=parseInt(o.request.server_id,10),s=an.server.getElementByKey(t);if(s===void 0){e({code:Cc.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:CG(s)})}function wee(o,e){let t=parseInt(o.request.max_results,10)||iA,i=parseInt(o.request.start_server_id,10),s=an.server,a=[],n;for(n=s.lowerBound(i);!n.equals(s.end())&&a.length<t;n=n.next())a.push(CG(n.pointer[1]));e(null,{server:a,end:n.equals(s.end())})}function Bee(o,e){let t=parseInt(o.request.subchannel_id,10),i=an.subchannel.getElementByKey(t);if(i===void 0){e({code:Cc.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let s=i.getInfo(),a=[];s.children.sockets.forEach(r=>{a.push(VS(r[1].ref))});let n={ref:oA(i.ref),data:{target:s.target,state:MG(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:Br(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:a};e(null,{subchannel:n})}function NG(o){var e;return(0,gee.isTcpSubchannelAddress)(o)?{address:"tcpip_address",tcpip_address:{ip_address:(e=xee(o.host))!==null&&e!==void 0?e:void 0,port:o.port}}:{address:"uds_address",uds_address:{filename:o.path}}}function Gee(o,e){var t,i,s,a,n;let r=parseInt(o.request.socket_id,10),c=an.socket.getElementByKey(r);if(c===void 0){e({code:Cc.Status.NOT_FOUND,details:"No socket data found for id "+r});return}let l=c.getInfo(),u=l.security?{model:"tls",tls:{cipher_suite:l.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=l.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(i=l.security.cipherSuiteOtherName)!==null&&i!==void 0?i:void 0,local_certificate:(s=l.security.localCertificate)!==null&&s!==void 0?s:void 0,remote_certificate:(a=l.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,E={ref:VS(c.ref),local:l.localAddress?NG(l.localAddress):null,remote:l.remoteAddress?NG(l.remoteAddress):null,remote_name:(n=l.remoteName)!==null&&n!==void 0?n:void 0,security:u,data:{keep_alives_sent:l.keepAlivesSent,streams_started:l.streamsStarted,streams_succeeded:l.streamsSucceeded,streams_failed:l.streamsFailed,last_local_stream_created_timestamp:Br(l.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Br(l.lastRemoteStreamCreatedTimestamp),messages_received:l.messagesReceived,messages_sent:l.messagesSent,last_message_received_timestamp:Br(l.lastMessageReceivedTimestamp),last_message_sent_timestamp:Br(l.lastMessageSentTimestamp),local_flow_control_window:l.localFlowControlWindow?{value:l.localFlowControlWindow}:null,remote_flow_control_window:l.remoteFlowControlWindow?{value:l.remoteFlowControlWindow}:null}};e(null,{socket:E})}function kee(o,e){let t=parseInt(o.request.server_id,10),i=an.server.getElementByKey(t);if(i===void 0){e({code:Cc.Status.NOT_FOUND,details:"No server data found for id "+t});return}let s=parseInt(o.request.start_socket_id,10),a=parseInt(o.request.max_results,10)||iA,r=i.getInfo().sessionChildren.sockets,c=[],l;for(l=r.lowerBound(s);!l.equals(r.end())&&c.length<a;l=l.next())c.push(VS(l.pointer[1].ref));e(null,{socket_ref:c,end:l.equals(r.end())})}function gG(){return{GetChannel:Uee,GetTopChannels:bee,GetServer:Vee,GetServers:wee,GetSubchannel:Bee,GetSocket:Gee,GetServerSockets:kee}}me.getChannelzHandlers=gG;var xS=null;function yG(){if(xS)return xS;let o=AG().loadSync,e=o("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return xS=(0,Lee.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,xS}me.getChannelzServiceDefinition=yG;function Fee(){(0,yee.registerAdminService)(yG,gG)}me.setup=Fee});var LG=h(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.Subchannel=void 0;var Me=jt(),Hee=ac(),sA=De(),BS=_e(),Yee=Dt(),qee=Er(),Gr=Bo(),Kee="subchannel",Wee=~(1<<31),aA=class{constructor(e,t,i,s,a){var n;this.channelTarget=e,this.subchannelAddress=t,this.options=i,this.credentials=s,this.connector=a,this.connectivityState=Me.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let r={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Hee.BackoffTimeout(()=>{this.handleBackoffTimer()},r),this.backoffTimeout.unref(),this.subchannelAddressString=(0,qee.subchannelAddressToString)(t),this.keepaliveTime=(n=i["grpc.keepalive_time_ms"])!==null&&n!==void 0?n:-1,i["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new Gr.ChannelzTraceStub,this.callTracker=new Gr.ChannelzCallTrackerStub,this.childrenTracker=new Gr.ChannelzChildrenTrackerStub,this.streamTracker=new Gr.ChannelzCallTrackerStub):(this.channelzTrace=new Gr.ChannelzTrace,this.callTracker=new Gr.ChannelzCallTracker,this.childrenTracker=new Gr.ChannelzChildrenTracker,this.streamTracker=new Gr.ChannelzCallTracker),this.channelzRef=(0,Gr.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(i,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){sA.trace(BS.LogVerbosity.DEBUG,Kee,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){sA.trace(BS.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([Me.ConnectivityState.TRANSIENT_FAILURE],Me.ConnectivityState.CONNECTING):this.transitionToState([Me.ConnectivityState.TRANSIENT_FAILURE],Me.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,Wee);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(t=>{this.transitionToState([Me.ConnectivityState.CONNECTING],Me.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(i=>{this.transitionToState([Me.ConnectivityState.READY],Me.ConnectivityState.IDLE),i&&this.keepaliveTime>0&&(this.keepaliveTime*=2,sA.log(BS.LogVerbosity.ERROR,`Connection to ${(0,Yee.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([Me.ConnectivityState.CONNECTING],Me.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,i){var s,a;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(Me.ConnectivityState[this.connectivityState]+" -> "+Me.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Me.ConnectivityState[t]);let n=this.connectivityState;switch(this.connectivityState=t,t){case Me.ConnectivityState.READY:this.stopBackoff();break;case Me.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case Me.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case Me.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let r of this.stateListeners)r(this,n,t,this.keepaliveTime,i);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,Gr.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([Me.ConnectivityState.CONNECTING,Me.ConnectivityState.READY],Me.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,i,s){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:n=>{n.code===BS.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):a={},this.transport.createCall(e,t,i,s,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([Me.ConnectivityState.IDLE],Me.ConnectivityState.CONNECTING)||this.connectivityState===Me.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([Me.ConnectivityState.TRANSIENT_FAILURE],Me.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};GS.Subchannel=aA});var EA=h(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.setup=Kn.DEFAULT_PORT=void 0;var vG=vr(),DG=B("dns"),xG=B("util"),jee=Vf(),cA=_e(),lA=ut(),zee=De(),$ee=_e(),Yn=Dt(),IG=B("net"),Xee=ac(),Jee="dns_resolver";function qn(o){zee.trace($ee.LogVerbosity.DEBUG,Jee,o)}Kn.DEFAULT_PORT=443;var Qee=3e4,Zee=xG.promisify(DG.resolveTxt),ete=xG.promisify(DG.lookup),uA=class{constructor(e,t,i){var s,a,n;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,qn("Resolver constructed for target "+(0,Yn.uriToString)(e));let r=(0,Yn.splitHostPort)(e.path);r===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,IG.isIPv4)(r.host)||(0,IG.isIPv6)(r.host)?(this.ipResult=[{addresses:[{host:r.host,port:(s=r.port)!==null&&s!==void 0?s:Kn.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=r.host,this.port=(a=r.port)!==null&&a!==void 0?a:Kn.DEFAULT_PORT),this.percentage=Math.random()*100,i["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:cA.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,Yn.uriToString)(this.target)}`,metadata:new lA.Metadata};let c={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoff=new Xee.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(n=i["grpc.dns_min_time_between_resolutions_ms"])!==null&&n!==void 0?n:Qee,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(qn("Returning IP address for target "+(0,Yn.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)qn("Failed to parse DNS address "+(0,Yn.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:cA.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,Yn.uriToString)(this.target)}`,metadata:new lA.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;qn("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=ete(e,{all:!0}),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let i=t.map(a=>({host:a.address,port:+this.port}));this.latestLookupResult=i.map(a=>({addresses:[a]}));let s="["+i.map(a=>a.host+":"+a.port).join(",")+"]";if(qn("Resolved addresses for target "+(0,Yn.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(qn("Resolution error for target "+(0,Yn.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=Zee(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,jee.extractAndSelectServiceConfig)(t,this.percentage)}catch(i){this.latestServiceConfigError={code:cA.Status.UNAVAILABLE,details:`Parsing service config failed with error ${i.message}`,metadata:new lA.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(t=(e=this.nextResolutionTimer).unref)===null||t===void 0||t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?qn('resolution update delayed by "min time between resolutions" rate limit'):qn("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function tte(){(0,vG.registerResolver)("dns",uA),(0,vG.registerDefaultScheme)("dns")}Kn.setup=tte});var SA=h(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.getProxiedConnection=us.mapProxyName=void 0;var gc=De(),cs=_e(),rte=vr(),nte=B("http"),ote=B("tls"),ite=De(),UG=Er(),ls=Dt(),ste=B("url"),ate=EA(),cte="proxy";function Wn(o){ite.trace(cs.LogVerbosity.DEBUG,cte,o)}function lte(){let o="",e="";if(process.env.grpc_proxy)e="grpc_proxy",o=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",o=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",o=process.env.http_proxy;else return{};let t;try{t=new ste.URL(o)}catch{return(0,gc.log)(cs.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,gc.log)(cs.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let i=null;t.username&&(t.password?((0,gc.log)(cs.LogVerbosity.INFO,"userinfo found in proxy URI"),i=`${t.username}:${t.password}`):i=t.username);let s=t.hostname,a=t.port;a===""&&(a="80");let n={address:`${s}:${a}`};return i&&(n.creds=i),Wn("Proxy server "+n.address+" set by environment variable "+e),n}function ute(){let o=process.env.no_grpc_proxy,e="no_grpc_proxy";return o||(o=process.env.no_proxy,e="no_proxy"),o?(Wn("No proxy server list set by environment variable "+e),o.split(",")):[]}function Ete(o,e){var t;let i={target:o,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||o.scheme==="unix")return i;let s=lte();if(!s.address)return i;let a=(0,ls.splitHostPort)(o.path);if(!a)return i;let n=a.host;for(let c of ute())if(c===n)return Wn("Not using proxy for target in no_proxy list: "+(0,ls.uriToString)(o)),i;let r={"grpc.http_connect_target":(0,ls.uriToString)(o)};return s.creds&&(r["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:r}}us.mapProxyName=Ete;function Ste(o,e,t){var i;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let s=e["grpc.http_connect_target"],a=(0,ls.parseUri)(s);if(a===null)return Promise.resolve({});let n=(0,ls.splitHostPort)(a.path);if(n===null)return Promise.resolve({});let r=`${n.host}:${(i=n.port)!==null&&i!==void 0?i:ate.DEFAULT_PORT}`,c={method:"CONNECT",path:r},l={Host:r};(0,UG.isTcpSubchannelAddress)(o)?(c.host=o.host,c.port=o.port):c.socketPath=o.path,"grpc.http_connect_creds"in e&&(l["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),c.headers=l;let u=(0,UG.subchannelAddressToString)(o);return Wn("Using proxy "+u+" to connect to "+c.path),new Promise((E,T)=>{let f=nte.request(c);f.once("connect",(N,m,P)=>{var M;if(f.removeAllListeners(),m.removeAllListeners(),N.statusCode===200)if(Wn("Successfully connected to "+c.path+" through proxy "+u),"secureContext"in t){let g=(0,rte.getDefaultAuthority)(a),x=(0,ls.splitHostPort)(g),I=(M=x==null?void 0:x.host)!==null&&M!==void 0?M:g,K=ote.connect(Object.assign({host:I,servername:I,socket:m},t),()=>{Wn("Successfully established a TLS connection to "+c.path+" through proxy "+u),E({socket:K,realTarget:a})});K.on("error",q=>{Wn("Failed to establish a TLS connection to "+c.path+" through proxy "+u+" with error "+q.message),T()})}else Wn("Successfully established a plaintext connection to "+c.path+" through proxy "+u),E({socket:m,realTarget:a});else(0,gc.log)(cs.LogVerbosity.ERROR,"Failed to connect to "+c.path+" through proxy "+u+" with status "+N.statusCode),T()}),f.once("error",N=>{f.removeAllListeners(),(0,gc.log)(cs.LogVerbosity.ERROR,"Failed to connect to proxy "+u+" with error "+N.message),T()}),f.end()})}us.getProxiedConnection=Ste});var pA=h(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.StreamDecoder=void 0;var kr;(function(o){o[o.NO_DATA=0]="NO_DATA",o[o.READING_SIZE=1]="READING_SIZE",o[o.READING_MESSAGE=2]="READING_MESSAGE"})(kr||(kr={}));var _A=class{constructor(){this.readState=kr.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,i,s=[];for(;t<e.length;)switch(this.readState){case kr.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=kr.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case kr.READING_SIZE:if(i=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+i),this.readSizeRemaining-=i,t+=i,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=kr.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=kr.NO_DATA,s.push(a)}break;case kr.READING_MESSAGE:if(i=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+i)),this.readMessageRemaining-=i,t+=i,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),n=Buffer.concat(a,this.readMessageSize+5);this.readState=kr.NO_DATA,s.push(n)}break;default:throw new Error("Unexpected read state")}return s}};kS.StreamDecoder=_A});var VG=h(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.Http2SubchannelCall=void 0;var cn=B("http2"),_te=B("os"),ge=_e(),ln=ut(),pte=pA(),dte=De(),Tte=_e(),fte="subchannel_call";function hte(o){for(let[e,t]of Object.entries(_te.constants.errno))if(t===o)return e;return"Unknown system error "+o}function bG(o){let e=`Received HTTP status code ${o}`,t;switch(o){case 400:t=ge.Status.INTERNAL;break;case 401:t=ge.Status.UNAUTHENTICATED;break;case 403:t=ge.Status.PERMISSION_DENIED;break;case 404:t=ge.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:t=ge.Status.UNAVAILABLE;break;default:t=ge.Status.UNKNOWN}return{code:t,details:e,metadata:new ln.Metadata}}var dA=class{constructor(e,t,i,s,a){this.http2Stream=e,this.callEventTracker=t,this.listener=i,this.transport=s,this.callId=a,this.decoder=new pte.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,e.on("response",(n,r)=>{let c="";for(let l of Object.keys(n))c+="		"+l+": "+n[l]+`
`;if(this.trace(`Received server headers:
`+c),this.httpStatusCode=n[":status"],r&cn.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(n);else{let l;try{l=ln.Metadata.fromHttp2Headers(n)}catch(u){this.endCall({code:ge.Status.UNKNOWN,details:u.message,metadata:new ln.Metadata});return}this.listener.onReceiveMetadata(l)}}),e.on("trailers",n=>{this.handleTrailers(n)}),e.on("data",n=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+n.length);let r=this.decoder.write(n);for(let c of r)this.trace("parsed message of length "+c.length),this.callEventTracker.addMessageReceived(),this.tryPush(c)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var n;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((n=this.finalStatus)===null||n===void 0?void 0:n.code)===ge.Status.OK)return;let r,c="";switch(e.rstCode){case cn.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let l=bG(this.httpStatusCode);r=l.code,c=l.details}else r=ge.Status.INTERNAL,c=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case cn.constants.NGHTTP2_REFUSED_STREAM:r=ge.Status.UNAVAILABLE,c="Stream refused by server";break;case cn.constants.NGHTTP2_CANCEL:r=ge.Status.CANCELLED,c="Call cancelled";break;case cn.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=ge.Status.RESOURCE_EXHAUSTED,c="Bandwidth exhausted or memory limit exceeded";break;case cn.constants.NGHTTP2_INADEQUATE_SECURITY:r=ge.Status.PERMISSION_DENIED,c="Protocol not secure enough";break;case cn.constants.NGHTTP2_INTERNAL_ERROR:r=ge.Status.INTERNAL,this.internalError===null?c=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(r=ge.Status.UNAVAILABLE,c=this.internalError.message):c=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=ge.Status.INTERNAL,c=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:c,metadata:new ln.Metadata,rstCode:e.rstCode})})}),e.on("error",n=>{n.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+n.message+" code="+n.code+" errno="+hte(n.errno)+" syscall="+n.syscall),this.internalError=n),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.endCall({code:ge.Status.UNAVAILABLE,details:"Connection dropped",metadata:new ln.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){dte.trace(Tte.LogVerbosity.DEBUG,fte,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===ge.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==ge.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let t="";for(let n of Object.keys(e))t+="		"+n+": "+e[n]+`
`;this.trace(`Received server trailers:
`+t);let i;try{i=ln.Metadata.fromHttp2Headers(e)}catch{i=new ln.Metadata}let s=i.getMap(),a;if(typeof s["grpc-status"]=="string"){let n=Number(s["grpc-status"]);this.trace("received status code "+n+" from server"),i.remove("grpc-status");let r="";if(typeof s["grpc-message"]=="string"){try{r=decodeURI(s["grpc-message"])}catch{r=s["grpc-message"]}i.remove("grpc-message"),this.trace('received status details string "'+r+'" from server')}a={code:n,details:r,metadata:i}}else this.httpStatusCode?(a=bG(this.httpStatusCode),a.metadata=i):a={code:ge.Status.UNKNOWN,details:"No status information received",metadata:i};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===ge.Status.OK?t=cn.constants.NGHTTP2_NO_ERROR:t=cn.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new ln.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==ge.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let i=s=>{process.nextTick(()=>{var a;let n=ge.Status.UNAVAILABLE;(s==null?void 0:s.code)==="ERR_STREAM_WRITE_AFTER_END"&&(n=ge.Status.INTERNAL),s&&this.cancelWithStatus(n,`Write error: ${s.message}`),(a=e.callback)===null||a===void 0||a.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,i)}catch(s){this.endCall({code:ge.Status.UNAVAILABLE,details:`Write failed with error ${s.message}`,metadata:new ln.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};FS.Http2SubchannelCall=dA});var TA=h(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.getNextCallNumber=void 0;var Ate=0;function mte(){return Ate++}HS.getNextCallNumber=mte});var GG=h(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.Http2SubchannelConnector=void 0;var mA=B("http2"),wG=B("tls"),YS=Bo(),yc=_e(),Ote=SA(),Ss=De(),BG=vr(),qS=Er(),Es=Dt(),Rte=B("net"),Nte=VG(),Mte=TA(),fA="transport",Pte="transport_flowctrl",Cte=Af().version,{HTTP2_HEADER_AUTHORITY:gte,HTTP2_HEADER_CONTENT_TYPE:yte,HTTP2_HEADER_METHOD:Lte,HTTP2_HEADER_PATH:vte,HTTP2_HEADER_TE:Ite,HTTP2_HEADER_USER_AGENT:Dte}=mA.constants,xte=2e4,Ute=Buffer.from("too_many_pings","ascii"),hA=class{constructor(e,t,i,s){this.session=e,this.remoteName=s,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=xte,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,qS.subchannelAddressToString)(t),i["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new YS.ChannelzCallTrackerStub):this.streamTracker=new YS.ChannelzCallTracker,this.channelzRef=(0,YS.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[i["grpc.primary_user_agent"],`grpc-node-js/${Cte}`,i["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in i&&(this.keepaliveTimeMs=i["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in i&&(this.keepaliveTimeoutMs=i["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in i?this.keepaliveWithoutCalls=i["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(a,n,r)=>{let c=!1;a===mA.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(Ute)&&(c=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(r==null?void 0:r.toString())),this.reportDisconnectToOwner(c)}),e.once("error",a=>{this.trace("connection closed with error "+a.message)}),Ss.isTracerEnabled(fA)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,i;let s=this.session.socket,a=s.remoteAddress?(0,qS.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,n=s.localAddress?(0,qS.stringToSubchannelAddress)(s.localAddress,s.localPort):null,r;if(this.session.encrypted){let l=s,u=l.getCipher(),E=l.getCertificate(),T=l.getPeerCertificate();r={cipherSuiteStandardName:(e=u.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:E&&"raw"in E?E.raw:null,remoteCertificate:T&&"raw"in T?T.raw:null}}else r=null;return{remoteAddress:a,localAddress:n,security:r,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(i=this.session.state.remoteWindowSize)!==null&&i!==void 0?i:null}}trace(e){Ss.trace(yc.LogVerbosity.DEBUG,fA,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Ss.trace(yc.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Ss.trace(yc.LogVerbosity.DEBUG,Pte,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Ss.trace(yc.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0||t.call(e));try{this.session.ping((i,s,a)=>{i&&(this.keepaliveTrace("Ping failed with error "+i.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs),(t=(e=this.keepaliveTimerId).unref)===null||t===void 0||t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,i,s,a){let n=e.toHttp2Headers();n[gte]=t,n[Dte]=this.userAgent,n[yte]="application/grpc",n[Lte]="POST",n[vte]=i,n[Ite]="trailers";let r;try{r=this.session.request(n)}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let c,l;return this.channelzEnabled?(this.streamTracker.addCallStarted(),c={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var E;(E=a.onCallEnd)===null||E===void 0||E.call(a,u),this.removeActiveCall(l)},onStreamEnd:u=>{var E;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(E=a.onStreamEnd)===null||E===void 0||E.call(a,u)}}):c={addMessageSent:()=>{var u;(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var E;(E=a.onCallEnd)===null||E===void 0||E.call(a,u),this.removeActiveCall(l)},onStreamEnd:u=>{var E;(E=a.onStreamEnd)===null||E===void 0||E.call(a,u)}},l=new Nte.Http2SubchannelCall(r,c,s,this,(0,Mte.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,YS.unregisterChannelzRef)(this.channelzRef)}},AA=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Ss.trace(yc.LogVerbosity.DEBUG,fA,(0,Es.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,i,s){return this.isShutdown?Promise.reject():new Promise((a,n)=>{var r,c,l,u;let E;s.realTarget?(E=(0,Es.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,Es.uriToString)(s.realTarget))):(E=null,this.trace("creating HTTP/2 session to "+(0,qS.subchannelAddressToString)(e)));let T=(0,BG.getDefaultAuthority)((r=s.realTarget)!==null&&r!==void 0?r:this.channelTarget),f=t._getConnectionOptions()||{};f.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in i?f.maxSessionMemory=i["grpc-node.max_session_memory"]:f.maxSessionMemory=Number.MAX_SAFE_INTEGER;let N="http://";if("secureContext"in f){if(N="https://",i["grpc.ssl_target_name_override"]){let M=i["grpc.ssl_target_name_override"],g=(c=f.checkServerIdentity)!==null&&c!==void 0?c:wG.checkServerIdentity;f.checkServerIdentity=(x,I)=>g(M,I),f.servername=M}else{let M=(u=(l=(0,Es.splitHostPort)(T))===null||l===void 0?void 0:l.host)!==null&&u!==void 0?u:"localhost";f.servername=M}s.socket&&(f.createConnection=(M,g)=>s.socket)}else f.createConnection=(M,g)=>s.socket?s.socket:Rte.connect(e);f=Object.assign(Object.assign(Object.assign({},f),e),{enableTrace:i["grpc-node.tls_enable_trace"]===1});let m=mA.connect(N+T,f);this.session=m;let P="Failed to connect";m.unref(),m.once("connect",()=>{m.removeAllListeners(),a(new hA(m,e,i,E)),this.session=null}),m.once("close",()=>{this.session=null,setImmediate(()=>{n(`${P} (${new Date().toISOString()})`)})}),m.once("error",M=>{P=M.message,this.trace("connection failed with error "+P)})})}connect(e,t,i){var s,a,n;if(this.isShutdown)return Promise.reject();let r=t._getConnectionOptions()||{};if("secureContext"in r){if(r.ALPNProtocols=["h2"],i["grpc.ssl_target_name_override"]){let c=i["grpc.ssl_target_name_override"],l=(s=r.checkServerIdentity)!==null&&s!==void 0?s:wG.checkServerIdentity;r.checkServerIdentity=(u,E)=>l(c,E),r.servername=c}else if("grpc.http_connect_target"in i){let c=(0,BG.getDefaultAuthority)((a=(0,Es.parseUri)(i["grpc.http_connect_target"]))!==null&&a!==void 0?a:{path:"localhost"}),l=(0,Es.splitHostPort)(c);r.servername=(n=l==null?void 0:l.host)!==null&&n!==void 0?n:c}i["grpc-node.tls_enable_trace"]&&(r.enableTrace=!0)}return(0,Ote.getProxiedConnection)(e,i,r).then(c=>this.createSession(e,t,i,c))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};KS.Http2SubchannelConnector=AA});var kG=h(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.getSubchannelPool=_s.SubchannelPool=void 0;var bte=s1(),Vte=LG(),wte=Er(),Bte=Dt(),Gte=GG(),kte=1e4,Lc=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let s=this.pool[t].filter(a=>!a.subchannel.unrefIfOneRef());s.length>0&&(e=!1),this.pool[t]=s}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},kte),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,i,s){this.ensureCleanupTask();let a=(0,Bte.uriToString)(e);if(a in this.pool){let r=this.pool[a];for(let c of r)if((0,wte.subchannelAddressEqual)(t,c.subchannelAddress)&&(0,bte.channelOptionsEqual)(i,c.channelArguments)&&s._equals(c.channelCredentials))return c.subchannel}let n=new Vte.Subchannel(e,t,i,s,new Gte.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:t,channelArguments:i,channelCredentials:s,subchannel:n}),n.ref(),n}};_s.SubchannelPool=Lc;var Fte=new Lc;function Hte(o){return o?Fte:new Lc}_s.getSubchannelPool=Hte});var RA=h(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.FilterStackFactory=ps.FilterStack=void 0;var WS=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let i=0;i<this.filters.length;i++)t=this.filters[i].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let i=this.filters.length-1;i>=0;i--)t=this.filters[i].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let i=0;i<this.filters.length;i++)t=this.filters[i].sendMessage(t);return t}receiveMessage(e){let t=e;for(let i=this.filters.length-1;i>=0;i--)t=this.filters[i].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let i=this.filters.length-1;i>=0;i--)t=this.filters[i].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};ps.FilterStack=WS;var OA=class o{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new o([...this.factories])}createFilter(){return new WS(this.factories.map(e=>e.createFilter()))}};ps.FilterStackFactory=OA});var NA=h(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.CompressionAlgorithms=void 0;var FG;(function(o){o[o.identity=0]="identity",o[o.deflate=1]="deflate",o[o.gzip=2]="gzip"})(FG||(jS.CompressionAlgorithms=FG={}))});var $S=h(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.BaseFilter=void 0;var MA=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};zS.BaseFilter=MA});var qG=h(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.CompressionFilterFactory=Ts.CompressionFilter=void 0;var XS=B("zlib"),YG=NA(),Yte=_e(),qte=$S(),Kte=De(),Wte=o=>typeof o=="number"&&typeof YG.CompressionAlgorithms[o]=="string",ds=class{async writeMessage(e,t){let i=e;t&&(i=await this.compressMessage(i));let s=Buffer.allocUnsafe(i.length+5);return s.writeUInt8(t?1:0,0),s.writeUInt32BE(i.length,1),i.copy(s,5),s}async readMessage(e){let t=e.readUInt8(0)===1,i=e.slice(5);return t&&(i=await this.decompressMessage(i)),i}},Go=class extends ds{async compressMessage(e){return e}async writeMessage(e,t){let i=Buffer.allocUnsafe(e.length+5);return i.writeUInt8(0,0),i.writeUInt32BE(e.length,1),e.copy(i,5),i}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},PA=class extends ds{compressMessage(e){return new Promise((t,i)=>{XS.deflate(e,(s,a)=>{s?i(s):t(a)})})}decompressMessage(e){return new Promise((t,i)=>{XS.inflate(e,(s,a)=>{s?i(s):t(a)})})}},CA=class extends ds{compressMessage(e){return new Promise((t,i)=>{XS.gzip(e,(s,a)=>{s?i(s):t(a)})})}decompressMessage(e){return new Promise((t,i)=>{XS.unzip(e,(s,a)=>{s?i(s):t(a)})})}},gA=class extends ds{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function HG(o){switch(o){case"identity":return new Go;case"deflate":return new PA;case"gzip":return new CA;default:return new gA(o)}}var JS=class extends qte.BaseFilter{constructor(e,t){var i;super(),this.sharedFilterConfig=t,this.sendCompression=new Go,this.receiveCompression=new Go,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(s!==void 0)if(Wte(s)){let a=YG.CompressionAlgorithms[s],n=(i=t.serverSupportedEncodingHeader)===null||i===void 0?void 0:i.split(",");(!n||n.includes(a))&&(this.currentCompressionAlgorithm=a,this.sendCompression=HG(this.currentCompressionAlgorithm))}else Kte.log(Yte.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let s=t[0];typeof s=="string"&&(this.receiveCompression=HG(s))}e.remove("grpc-encoding");let i=e.get("grpc-accept-encoding")[0];return i&&(this.sharedFilterConfig.serverSupportedEncodingHeader=i,i.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new Go,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let i=await e,s;return this.sendCompression instanceof Go?s=!1:s=(((t=i.flags)!==null&&t!==void 0?t:0)&2)===0,{message:await this.sendCompression.writeMessage(i.message,s),flags:i.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};Ts.CompressionFilter=JS;var yA=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new JS(this.options,this.sharedFilterConfig)}};Ts.CompressionFilterFactory=yA});var WG=h(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.MaxMessageSizeFilterFactory=fs.MaxMessageSizeFilter=void 0;var jte=$S(),QS=_e(),KG=ut(),ZS=class extends jte.BaseFilter{constructor(e){super(),this.maxSendMessageSize=QS.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=QS.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}async sendMessage(e){if(this.maxSendMessageSize===-1)return e;{let t=await e;if(t.message.length>this.maxSendMessageSize)throw{code:QS.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${t.message.length} vs. ${this.maxSendMessageSize})`,metadata:new KG.Metadata};return t}}async receiveMessage(e){if(this.maxReceiveMessageSize===-1)return e;{let t=await e;if(t.length>this.maxReceiveMessageSize)throw{code:QS.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`,metadata:new KG.Metadata};return t}}};fs.MaxMessageSizeFilter=ZS;var LA=class{constructor(e){this.options=e}createFilter(){return new ZS(this.options)}};fs.MaxMessageSizeFilterFactory=LA});var vc=h(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.formatDateDifference=tr.deadlineToString=tr.getRelativeTimeout=tr.getDeadlineTimeoutString=tr.minDeadline=void 0;function zte(...o){let e=1/0;for(let t of o){let i=t instanceof Date?t.getTime():t;i<e&&(e=i)}return e}tr.minDeadline=zte;var $te=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function Xte(o){let e=new Date().getTime();o instanceof Date&&(o=o.getTime());let t=Math.max(o-e,0);for(let[i,s]of $te){let a=t/s;if(a<1e8)return String(Math.ceil(a))+i}throw new Error("Deadline is too far in the future")}tr.getDeadlineTimeoutString=Xte;var Jte=2147483647;function Qte(o){let e=o instanceof Date?o.getTime():o,t=new Date().getTime(),i=e-t;return i<0?0:i>Jte?1/0:i}tr.getRelativeTimeout=Qte;function Zte(o){if(o instanceof Date)return o.toISOString();{let e=new Date(o);return Number.isNaN(e.getTime())?""+o:e.toISOString()}}tr.deadlineToString=Zte;function ere(o,e){return((e.getTime()-o.getTime())/1e3).toFixed(3)+"s"}tr.formatDateDifference=ere});var t_=h(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.restrictControlPlaneStatusCode=void 0;var Fr=_e(),tre=[Fr.Status.OK,Fr.Status.INVALID_ARGUMENT,Fr.Status.NOT_FOUND,Fr.Status.ALREADY_EXISTS,Fr.Status.FAILED_PRECONDITION,Fr.Status.ABORTED,Fr.Status.OUT_OF_RANGE,Fr.Status.DATA_LOSS];function rre(o,e){return tre.includes(o)?{code:Fr.Status.INTERNAL,details:`Invalid status from control plane: ${o} ${Fr.Status[o]} ${e}`}:{code:o,details:e}}e_.restrictControlPlaneStatusCode=rre});var $G=h(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.LoadBalancingCall=void 0;var jG=jt(),r_=_e(),zG=vc(),n_=ut(),Ic=Un(),nre=Dt(),ore=De(),vA=t_(),ire=B("http2"),sre="load_balancing_call",IA=class{constructor(e,t,i,s,a,n,r){var c,l;this.channel=e,this.callConfig=t,this.methodName=i,this.host=s,this.credentials=a,this.deadline=n,this.callNumber=r,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let u=this.methodName.split("/"),E="";u.length>=2&&(E=u[1]);let T=(l=(c=(0,nre.splitHostPort)(this.host))===null||c===void 0?void 0:c.host)!==null&&l!==void 0?l:"localhost";this.serviceUrl=`https://${T}/${E}`,this.startTime=new Date}getDeadlineInfo(){var e,t;let i=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((e=this.metadata)===null||e===void 0)&&e.getOptions().waitForReady&&i.push("wait_for_ready"),i.push(`LB pick: ${(0,zG.formatDateDifference)(this.startTime,this.childStartTime)}`)),i.push(...this.child.getDeadlineInfo()),i):(!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady&&i.push("wait_for_ready"),i.push("Waiting for LB pick"),i)}trace(e){ore.trace(r_.LogVerbosity.DEBUG,sre,"["+this.callNumber+"] "+e)}outputStatus(e,t){var i,s;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let a=Object.assign(Object.assign({},e),{progress:t});(i=this.listener)===null||i===void 0||i.onReceiveStatus(a),(s=this.onCallEnded)===null||s===void 0||s.call(this,a.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let i=this.metadata.clone(),s=this.channel.doPick(i,this.callConfig.pickInformation),a=s.subchannel?"("+s.subchannel.getChannelzRef().id+") "+s.subchannel.getAddress():""+s.subchannel;switch(this.trace("Pick result: "+Ic.PickResultType[s.pickResultType]+" subchannel: "+a+" status: "+((e=s.status)===null||e===void 0?void 0:e.code)+" "+((t=s.status)===null||t===void 0?void 0:t.details)),s.pickResultType){case Ic.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(c=>{var l,u,E;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(i.merge(c),i.get("authorization").length>1&&this.outputStatus({code:r_.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new n_.Metadata},"PROCESSED"),s.subchannel.getConnectivityState()!==jG.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+jG.ConnectivityState[s.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&i.set("grpc-timeout",(0,zG.getDeadlineTimeoutString)(this.deadline));try{this.child=s.subchannel.getRealSubchannel().createCall(i,this.host,this.methodName,{onReceiveMetadata:T=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(T)},onReceiveMessage:T=>{this.trace("Received message"),this.listener.onReceiveMessage(T)},onReceiveStatus:T=>{this.trace("Received status"),T.rstCode===ire.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(T,"REFUSED"):this.outputStatus(T,"PROCESSED")}}),this.childStartTime=new Date}catch(T){this.trace("Failed to start call on picked subchannel "+a+" with error "+T.message),this.outputStatus({code:r_.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+T.message,metadata:new n_.Metadata},"NOT_STARTED");return}(u=(l=this.callConfig).onCommitted)===null||u===void 0||u.call(l),(E=s.onCallStarted)===null||E===void 0||E.call(s),this.onCallEnded=s.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},c=>{let{code:l,details:u}=(0,vA.restrictControlPlaneStatusCode)(typeof c.code=="number"?c.code:r_.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${c.message}`);this.outputStatus({code:l,details:u,metadata:new n_.Metadata},"PROCESSED")});break;case Ic.PickResultType.DROP:let{code:n,details:r}=(0,vA.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:n,details:r,metadata:s.status.metadata},"DROP")});break;case Ic.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:c,details:l}=(0,vA.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:c,details:l,metadata:s.status.metadata},"PROCESSED")})}break;case Ic.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var i;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(i=this.child)===null||i===void 0||i.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new n_.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};o_.LoadBalancingCall=IA});var JG=h(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.ResolvingCall=void 0;var ko=_e(),Fo=vc(),XG=ut(),are=De(),cre=t_(),lre="resolving_call",DA=class{constructor(e,t,i,s,a,n){this.channel=e,this.method=t,this.filterStackFactory=s,this.credentials=a,this.callNumber=n,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.deadline=i.deadline,this.host=i.host,i.parentCall&&(i.flags&ko.Propagate.CANCELLATION&&i.parentCall.on("cancelled",()=>{this.cancelWithStatus(ko.Status.CANCELLED,"Cancelled by parent call")}),i.flags&ko.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+i.parentCall.getDeadline()),this.deadline=(0,Fo.minDeadline)(this.deadline,i.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){are.trace(ko.LogVerbosity.DEBUG,lre,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,Fo.deadlineToString)(this.deadline));let e=(0,Fo.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(ko.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let i=[],s=new Date;i.push(`Deadline exceeded after ${(0,Fo.formatDateDifference)(this.deadlineStartTime,s)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&i.push(`name resolution: ${(0,Fo.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&i.push(`metadata filters: ${(0,Fo.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):i.push("waiting for metadata filters")):i.push("waiting for name resolution"),this.child&&i.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(ko.Status.DEADLINE_EXCEEDED,i.join(","))};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(i=>i(t)),process.nextTick(()=>{var i;(i=this.listener)===null||i===void 0||i.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let i=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(s=>{this.writeFilterPending=!1,i.sendMessageWithContext(e,s.message),this.pendingHalfClose&&i.halfClose()},s=>{this.cancelWithStatus(s.code,s.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}this.configReceivedTime=new Date;let t=e.config;if(t.status!==ko.Status.OK){let{code:i,details:s}=(0,cre.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:i,details:s,metadata:new XG.Metadata});return}if(t.methodConfig.timeout){let i=new Date;i.setSeconds(i.getSeconds()+t.methodConfig.timeout.seconds),i.setMilliseconds(i.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,Fo.minDeadline)(this.deadline,i),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(i=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(i,{onReceiveMetadata:s=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(s))},onReceiveMessage:s=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(s).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:s=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=s:this.outputStatus(s)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},i=>{this.outputStatus(i)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var i;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(i=this.child)===null||i===void 0||i.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new XG.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};i_.ResolvingCall=DA});var QG=h(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.RetryingCall=jn.MessageBufferTracker=jn.RetryThrottler=void 0;var s_=_e(),ure=vc(),Ere=ut(),Sre=De(),_re="retrying_call",UA=class{constructor(e,t,i){this.maxTokens=e,this.tokenRatio=t,i?this.tokens=i.tokens*(e/i.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};jn.RetryThrottler=UA;var bA=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var i;let s=(i=this.allocatedPerCall.get(t))!==null&&i!==void 0?i:0;return this.limitPerCall-s<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,s+e),this.totalAllocated+=e,!0)}free(e,t){var i;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let s=(i=this.allocatedPerCall.get(t))!==null&&i!==void 0?i:0;if(s<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${s}`);this.allocatedPerCall.set(t,s-e)}freeAll(e){var t;let i=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<i)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${i} > total allocated ${this.totalAllocated}`);this.totalAllocated-=i,this.allocatedPerCall.delete(e)}};jn.MessageBufferTracker=bA;var xA="grpc-previous-rpc-attempts",VA=class{constructor(e,t,i,s,a,n,r,c,l){if(this.channel=e,this.callConfig=t,this.methodName=i,this.host=s,this.credentials=a,this.deadline=n,this.callNumber=r,this.bufferTracker=c,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let u=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(u.initialBackoff.substring(0,u.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY";this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let e=[],t=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),t.startTime>this.startTime&&e.push(`time to current attempt start: ${(0,ure.formatDateDifference)(this.startTime,t.startTime)}`),e.push(...t.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){Sre.trace(s_.LogVerbosity.DEBUG,_re,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new Ere.Metadata});for(let{call:i}of this.underlyingCalls)i.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let i=this.getBufferEntry(t);i.allocated&&this.bufferTracker.free(i.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&this.underlyingCalls[t].state!=="COMPLETED"&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(s_.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[i,s]of this.underlyingCalls.entries())s.state==="ACTIVE"&&s.nextMessageToSend>e&&(e=s.nextMessageToSend,t=i);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(i=>i===t||i.toString().toLowerCase()===s_.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let i=Math.random()*this.nextRetryBackoffSec*1e3,s=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,s),i}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}let i=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(i.maxAttempts,5)){t(!1);return}let s;if(e===null)s=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else s=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,n;if(this.state!=="RETRY"){t(!1);return}(!((n=(a=this.retryThrottler)===null||a===void 0?void 0:a.canRetryCall())!==null&&n!==void 0)||n)&&(t(!0),this.attempts+=1,this.startNewAttempt())},s)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,i){var s,a,n;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((s=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&s!==void 0?s:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let r;if(i===null)r=0;else if(i<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else r=i;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},r)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((n=this.retryThrottler)===null||n===void 0||n.addCallFailed(),this.maybeRetryCall(i,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var i;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===s_.Status.OK){(i=this.retryThrottler)===null||i===void 0||i.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let s=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,s);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,i;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let s=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(s.maxAttempts,5))return;let a=(e=s.hedgingDelay)!==null&&e!==void 0?e:"0s",n=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},n*1e3),(i=(t=this.hedgingTimer).unref)===null||i===void 0||i.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let i=this.attempts-1,s=this.initialMetadata.clone();i>0&&s.set(xA,`${i}`);let a=!1;e.start(s,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),a=!0,i>0&&n.set(xA,`${i}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(n)},onReceiveMessage:n=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(n)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&i>0&&n.metadata.set(xA,`${i}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,i;let s=this.underlyingCalls[e],a=s.nextMessageToSend;(i=(t=this.getBufferEntry(a)).callback)===null||i===void 0||i.call(t),this.clearSentMessages(),s.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let i=this.getBufferEntry(t.nextMessageToSend);switch(i.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:s=>{this.handleChildWriteCompleted(e)}},i.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var i;this.trace("write() called with message of length "+t.length);let s={message:t,flags:e.flags},a=this.getNextBufferIndex(),n={entryType:"MESSAGE",message:s,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(n),n.allocated){(i=e.callback)===null||i===void 0||i.call(e);for(let[r,c]of this.underlyingCalls.entries())c.state==="ACTIVE"&&c.nextMessageToSend===a&&c.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(r)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let r=this.underlyingCalls[this.committedCallIndex];n.callback=e.callback,r.state==="ACTIVE"&&r.nextMessageToSend===a&&r.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)(e==null?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};jn.RetryingCall=VA});var c_=h(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.BaseSubchannelWrapper=void 0;var wA=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(t=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};a_.BaseSubchannelWrapper=wA});var tk=h(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.InternalChannel=void 0;var pre=$E(),dre=i1(),Tre=kG(),ZG=Un(),Dc=_e(),fre=RA(),hre=qG(),ek=vr(),BA=De(),Are=WG(),mre=SA(),l_=Dt(),Hr=jt(),xc=Bo(),Ore=$G(),Rre=vc(),Nre=JG(),GA=TA(),Mre=t_(),kA=QG(),Pre=c_(),Cre=2147483647,gre=1e3,yre=30*60*1e3,u_=new Map,Lre=1<<24,vre=1<<20,FA=class extends Pre.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(i,s,a,n)=>{t.throttleKeepalive(n)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},HA=class{constructor(e,t,i){var s,a,n,r,c,l,u,E;if(this.credentials=t,this.options=i,this.connectivityState=Hr.ConnectivityState.IDLE,this.currentPicker=new ZG.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new xc.ChannelzCallTracker,this.childrenTracker=new xc.ChannelzChildrenTracker,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof pre.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(i&&typeof i!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let T=(0,l_.parseUri)(e);if(T===null)throw new Error(`Could not parse target name "${e}"`);let f=(0,ek.mapUriDefaultScheme)(T);if(f===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},Cre),(a=(s=this.callRefTimer).unref)===null||a===void 0||a.call(s),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new xc.ChannelzTrace,this.channelzRef=(0,xc.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,ek.getDefaultAuthority)(f);let N=(0,mre.mapProxyName)(f,i);this.target=N.target,this.options=Object.assign({},this.options,N.extraOptions),this.subchannelPool=(0,Tre.getSubchannelPool)(((n=i["grpc.use_local_subchannel_pool"])!==null&&n!==void 0?n:0)===0),this.retryBufferTracker=new kA.MessageBufferTracker((r=i["grpc.retry_buffer_size"])!==null&&r!==void 0?r:Lre,(c=i["grpc.per_rpc_retry_buffer_size"])!==null&&c!==void 0?c:vre),this.keepaliveTime=(l=i["grpc.keepalive_time_ms"])!==null&&l!==void 0?l:-1,this.idleTimeoutMs=Math.max((u=i["grpc.client_idle_timeout_ms"])!==null&&u!==void 0?u:yre,gre);let m={createSubchannel:(M,g)=>{let x=this.subchannelPool.getOrCreateSubchannel(this.target,M,Object.assign({},this.options,g),this.credentials);x.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",x.getChannelzRef());let I=new FA(x,this);return this.wrappedSubchannels.add(I),I},updateState:(M,g)=>{this.currentPicker=g;let x=this.pickQueue.slice();this.pickQueue=[],x.length>0&&this.callRefTimerUnref();for(let I of x)I.doPick();this.updateState(M)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:M=>{this.channelzEnabled&&this.childrenTracker.refChild(M)},removeChannelzChild:M=>{this.channelzEnabled&&this.childrenTracker.unrefChild(M)}};this.resolvingLoadBalancer=new dre.ResolvingLoadBalancer(this.target,m,i,(M,g)=>{M.retryThrottling?u_.set(this.getTarget(),new kA.RetryThrottler(M.retryThrottling.maxTokens,M.retryThrottling.tokenRatio,u_.get(this.getTarget()))):u_.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=g,this.currentResolutionError=null,process.nextTick(()=>{let x=this.configSelectionQueue;this.configSelectionQueue=[],x.length>0&&this.callRefTimerUnref();for(let I of x)I.getConfig()})},M=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+M.code+' and details "'+M.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,Mre.restrictControlPlaneStatusCode)(M.code,M.details)),{metadata:M.metadata}));let g=this.configSelectionQueue;this.configSelectionQueue=[],g.length>0&&this.callRefTimerUnref();for(let x of g)x.reportResolverError(M)}),this.filterStackFactory=new fre.FilterStackFactory([new Are.MaxMessageSizeFilterFactory(this.options),new hre.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(i,void 0,2));let P=new Error;(0,BA.trace)(Dc.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((E=P.stack)===null||E===void 0?void 0:E.substring(P.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,BA.trace)(t??Dc.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,l_.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,i,s;!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(s=(i=this.callRefTimer).ref)===null||s===void 0||s.call(i))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(t=(e=this.callRefTimer).unref)===null||t===void 0||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(i=>i===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,BA.trace)(Dc.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,l_.uriToString)(this.target)+" "+Hr.ConnectivityState[this.connectivityState]+" -> "+Hr.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Hr.ConnectivityState[e]),this.connectivityState=e;let t=this.connectivityStateWatchers.slice();for(let i of t)e!==i.currentState&&(i.timer&&clearTimeout(i.timer),this.removeConnectivityStateWatcher(i),i.callback());e!==Hr.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Hr.ConnectivityState.IDLE),this.currentPicker=new ZG.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,i;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},e),(i=(t=this.idleTimer).unref)===null||i===void 0||i.call(t)}maybeStartIdleTimer(){this.connectivityState!==Hr.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===Dc.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,i,s,a){let n=(0,GA.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+n+'] method="'+t+'"'),new Ore.LoadBalancingCall(this,e,t,i,s,a,n)}createRetryingCall(e,t,i,s,a){let n=(0,GA.getNextCallNumber)();return this.trace("createRetryingCall ["+n+'] method="'+t+'"'),new kA.RetryingCall(this,e,t,i,s,a,n,this.retryBufferTracker,u_.get(this.getTarget()))}createInnerCall(e,t,i,s,a){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,t,i,s,a):this.createRetryingCall(e,t,i,s,a)}createResolvingCall(e,t,i,s,a){let n=(0,GA.getNextCallNumber)();this.trace("createResolvingCall ["+n+'] method="'+e+'", deadline='+(0,Rre.deadlineToString)(t));let r={deadline:t,flags:a??Dc.Propagate.DEFAULTS,host:i??this.defaultAuthority,parentCall:s},c=new Nre.ResolvingCall(this,e,r,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),n);return this.onCallStart(),c.addStatusWatcher(l=>{this.onCallEnd(l)}),c}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Hr.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,xc.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,l_.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,i){if(this.connectivityState===Hr.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let s=null;if(t!==1/0){let n=t instanceof Date?t:new Date(t),r=new Date;if(t===-1/0||n<=r){process.nextTick(i,new Error("Deadline passed without connectivity state change"));return}s=setTimeout(()=>{this.removeConnectivityStateWatcher(a),i(new Error("Deadline passed without connectivity state change"))},n.getTime()-r.getTime())}let a={currentState:e,callback:i,timer:s};this.connectivityStateWatchers.push(a)}getChannelzRef(){return this.channelzRef}createCall(e,t,i,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Hr.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,i,s,a)}};E_.InternalChannel=HA});var lh=h(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.ChannelImplementation=void 0;var Ire=$E(),Dre=tk(),YA=class{constructor(e,t,i){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Ire.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(i&&typeof i!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new Dre.InternalChannel(e,t,i)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,i){this.internalChannel.watchConnectivityState(e,t,i)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,i,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,i,s,a)}};S_.ChannelImplementation=YA});var nk=h(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.ServerDuplexStreamImpl=rr.ServerWritableStreamImpl=rr.ServerReadableStreamImpl=rr.ServerUnaryCallImpl=rr.serverErrorToStatus=void 0;var xre=B("events"),zA=B("stream"),$A=_e(),rk=ut();function XA(o,e){var t;let i={code:$A.Status.UNKNOWN,details:"message"in o?o.message:"Unknown Error",metadata:(t=e??o.metadata)!==null&&t!==void 0?t:null};return"code"in o&&typeof o.code=="number"&&Number.isInteger(o.code)&&(i.code=o.code,"details"in o&&typeof o.details=="string"&&(i.details=o.details)),i}rr.serverErrorToStatus=XA;var qA=class extends xre.EventEmitter{constructor(e,t,i,s){super(),this.path=e,this.call=t,this.metadata=i,this.request=s,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};rr.ServerUnaryCallImpl=qA;var KA=class extends zA.Readable{constructor(e,t,i){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=i,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};rr.ServerReadableStreamImpl=KA;var WA=class extends zA.Writable{constructor(e,t,i,s){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=i,this.request=s,this.pendingStatus={code:$A.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new rk.Metadata,this.on("error",a=>{this.pendingStatus=XA(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_write(e,t,i){this.call.sendMessage(e,i)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};rr.ServerWritableStreamImpl=WA;var jA=class extends zA.Duplex{constructor(e,t,i){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=i,this.pendingStatus={code:$A.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new rk.Metadata,this.on("error",s=>{this.pendingStatus=XA(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_read(e){this.call.startRead()}_write(e,t,i){this.call.sendMessage(e,i)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};rr.ServerDuplexStreamImpl=jA});var ZA=h(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.ServerCredentials=void 0;var ok=Df(),Uc=class{static createInsecure(){return new JA}static createSsl(e,t,i=!1){var s;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof i!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],n=[];for(let r=0;r<t.length;r++){let c=t[r];if(c===null||typeof c!="object")throw new TypeError(`keyCertPair[${r}] must be an object`);if(!Buffer.isBuffer(c.private_key))throw new TypeError(`keyCertPair[${r}].private_key must be a Buffer`);if(!Buffer.isBuffer(c.cert_chain))throw new TypeError(`keyCertPair[${r}].cert_chain must be a Buffer`);a.push(c.cert_chain),n.push(c.private_key)}return new QA({ca:(s=e??(0,ok.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,cert:a,key:n,requestCert:i,ciphers:ok.CIPHER_SUITES})}};__.ServerCredentials=Uc;var JA=class o extends Uc{_isSecure(){return!1}_getSettings(){return null}_equals(e){return e instanceof o}},QA=class o extends Uc{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}_equals(e){if(this===e)return!0;if(!(e instanceof o))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let t=0;t<this.options.cert.length;t++){let i=this.options.cert[t],s=e.options.cert[t];if(Buffer.isBuffer(i)&&Buffer.isBuffer(s)){if(!i.equals(s))return!1}else if(i!==s)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let t=0;t<this.options.key.length;t++){let i=this.options.key[t],s=e.options.key[t];if(Buffer.isBuffer(i)&&Buffer.isBuffer(s)){if(!i.equals(s))return!1}else if(i!==s)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}}});var sm=h(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getServerInterceptingCall=Ct.BaseServerInterceptingCall=Ct.ServerInterceptingCall=Ct.ResponderBuilder=Ct.isInterceptingServerListener=Ct.ServerListenerBuilder=void 0;var ik=ut(),bt=_e(),hs=B("http2"),sk=YE(),uk=B("zlib"),Ek=B("util"),Ure=pA(),Sk=De(),bre=(0,Ek.promisify)(uk.unzip),Vre=(0,Ek.promisify)(uk.inflate),_k="server_call";function Ho(o){Sk.trace(bt.LogVerbosity.DEBUG,_k,o)}var tm=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};Ct.ServerListenerBuilder=tm;function wre(o){return o.onReceiveMetadata!==void 0&&o.onReceiveMetadata.length===1}Ct.isInterceptingServerListener=wre;var rm=class{constructor(e,t){this.listener=e,this.nextListener=t,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}},nm=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};Ct.ResponderBuilder=nm;var p_={onReceiveMetadata:(o,e)=>{e(o)},onReceiveMessage:(o,e)=>{e(o)},onReceiveHalfClose:o=>{o()},onCancel:()=>{}},d_={start:o=>{o()},sendMetadata:(o,e)=>{e(o)},sendMessage:(o,e)=>{e(o)},sendStatus:(o,e)=>{e(o)}},om=class{constructor(e,t){var i,s,a,n;this.nextCall=e,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(i=t==null?void 0:t.start)!==null&&i!==void 0?i:d_.start,sendMetadata:(s=t==null?void 0:t.sendMetadata)!==null&&s!==void 0?s:d_.sendMetadata,sendMessage:(a=t==null?void 0:t.sendMessage)!==null&&a!==void 0?a:d_.sendMessage,sendStatus:(n=t==null?void 0:t.sendStatus)!==null&&n!==void 0?n:d_.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(t=>{var i,s,a,n;let r={onReceiveMetadata:(i=t==null?void 0:t.onReceiveMetadata)!==null&&i!==void 0?i:p_.onReceiveMetadata,onReceiveMessage:(s=t==null?void 0:t.onReceiveMessage)!==null&&s!==void 0?s:p_.onReceiveMessage,onReceiveHalfClose:(a=t==null?void 0:t.onReceiveHalfClose)!==null&&a!==void 0?a:p_.onReceiveHalfClose,onCancel:(n=t==null?void 0:t.onCancel)!==null&&n!==void 0?n:p_.onCancel},c=new rm(r,e);this.nextCall.start(c)})}sendMetadata(e){this.processingMetadata=!0,this.responder.sendMetadata(e,t=>{this.processingMetadata=!1,this.nextCall.sendMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,t){this.processingMessage=!0,this.responder.sendMessage(e,i=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=i,this.pendingMessageCallback=t):this.nextCall.sendMessage(i,t)})}sendStatus(e){this.responder.sendStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextCall.sendStatus(t)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}};Ct.ServerInterceptingCall=om;var pk="grpc-accept-encoding",im="grpc-encoding",ak="grpc-message",ck="grpc-status",em="grpc-timeout",Bre=/(\d{1,8})\s*([HMSmun])/,Gre={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},kre={[pk]:"identity,deflate,gzip",[im]:"identity"},lk={[hs.constants.HTTP2_HEADER_STATUS]:hs.constants.HTTP_STATUS_OK,[hs.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},Fre={waitForTrailers:!0},T_=class{constructor(e,t,i,s,a){this.stream=e,this.callEventTracker=i,this.handler=s,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=bt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=bt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.decoder=new Ure.StreamDecoder,this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",l=>{}),this.stream.once("close",()=>{var l;Ho("Request to method "+((l=this.handler)===null||l===void 0?void 0:l.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:bt.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",l=>{this.handleDataFrame(l)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]);let n=ik.Metadata.fromHttp2Headers(t);Sk.isTracerEnabled(_k)&&Ho("Request to "+this.handler.path+" received headers "+JSON.stringify(n.toJSON()));let r=n.get(em);r.length>0&&this.handleTimeoutHeader(r[0]);let c=n.get(im);c.length>0&&(this.incomingEncoding=c[0]),n.remove(em),n.remove(im),n.remove(pk),n.remove(hs.constants.HTTP2_HEADER_ACCEPT_ENCODING),n.remove(hs.constants.HTTP2_HEADER_TE),n.remove(hs.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=n}handleTimeoutHeader(e){let t=e.toString().match(Bre);if(t===null){let a={code:bt.Status.INTERNAL,details:`Invalid ${em} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a)});return}let i=+t[1]*Gre[t[2]]|0,s=new Date;this.deadline=s.setMilliseconds(s.getMilliseconds()+i),this.deadlineTimer=setTimeout(()=>{let a={code:bt.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},i)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new ik.Metadata)}serializeMessage(e){let t=this.handler.serialize(e),i=t.byteLength,s=Buffer.allocUnsafe(i+5);return s.writeUInt8(0,0),s.writeUInt32BE(i,1),t.copy(s,5),s}decompressMessage(e,t){switch(t){case"deflate":return Vre(e.subarray(5));case"gzip":return bre(e.subarray(5));case"identity":return e.subarray(5);default:return Promise.reject({code:bt.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let i=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",s=await this.decompressMessage(e.compressedMessage,i);try{e.parsedMessage=this.handler.deserialize(s)}catch(a){this.sendStatus({code:bt.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var t;if(this.checkCancelled())return;Ho("Request to "+this.handler.path+" received data frame of size "+e.length);let i=this.decoder.write(e);for(let s of i){if(this.stream.pause(),this.maxReceiveMessageSize!==-1&&s.length-5>this.maxReceiveMessageSize){this.sendStatus({code:bt.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s.length-5} vs. ${this.maxReceiveMessageSize})`,metadata:null});return}let a={type:"COMPRESSED",compressedMessage:s,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(t=this.callEventTracker)===null||t===void 0||t.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){Ho("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,i=Object.assign(Object.assign(Object.assign({},lk),kre),t);this.stream.respond(i,Fre)}sendMessage(e,t){if(this.checkCancelled())return;let i;try{i=this.serializeMessage(e)}catch(s){this.sendStatus({code:bt.Status.INTERNAL,details:`Error serializing response: ${(0,sk.getErrorMessage)(s)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&i.length-5>this.maxSendMessageSize){this.sendStatus({code:bt.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${i.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),Ho("Request to "+this.handler.path+" sent data frame of size "+i.length),this.stream.write(i,s=>{var a;if(s){this.sendStatus({code:bt.Status.INTERNAL,details:`Error writing message: ${(0,sk.getErrorMessage)(s)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),t()})}sendStatus(e){var t,i;if(!this.checkCancelled())if(Ho("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+bt.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var s;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let a=Object.assign({[ck]:e.code,[ak]:encodeURI(e.details)},(s=e.metadata)===null||s===void 0?void 0:s.toHttp2Headers());this.stream.sendTrailers(a),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let s=Object.assign(Object.assign({[ck]:e.code,[ak]:encodeURI(e.details)},lk),(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.respond(s,{endStream:!0}),this.notifyOnCancel()}}startRead(){Ho("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t!=null&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}};Ct.BaseServerInterceptingCall=T_;function Hre(o,e,t,i,s,a){let n={path:s.path,requestStream:s.type==="clientStream"||s.type==="bidi",responseStream:s.type==="serverStream"||s.type==="bidi",requestDeserialize:s.deserialize,responseSerialize:s.serialize},r=new T_(e,t,i,s,a);return o.reduce((c,l)=>l(n,c),r)}Ct.getServerInterceptingCall=Hre});var mk=h($n=>{"use strict";var Yre=$n&&$n.__runInitializers||function(o,e,t){for(var i=arguments.length>2,s=0;s<e.length;s++)t=i?e[s].call(o,t):e[s].call(o);return i?t:void 0},qre=$n&&$n.__esDecorate||function(o,e,t,i,s,a){function n(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var r=i.kind,c=r==="getter"?"get":r==="setter"?"set":"value",l=!e&&o?i.static?o:o.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),E,T=!1,f=t.length-1;f>=0;f--){var N={};for(var m in i)N[m]=m==="access"?{}:i[m];for(var m in i.access)N.access[m]=i.access[m];N.addInitializer=function(M){if(T)throw new TypeError("Cannot add initializers after decoration has completed");a.push(n(M||null))};var P=(0,t[f])(r==="accessor"?{get:u.get,set:u.set}:u[c],N);if(r==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(E=n(P.get))&&(u.get=E),(E=n(P.set))&&(u.set=E),(E=n(P.init))&&s.unshift(E)}else(E=n(P))&&(r==="field"?s.unshift(E):u[c]=E)}l&&Object.defineProperty(l,i.name,u),T=!0};Object.defineProperty($n,"__esModule",{value:!0});$n.Server=void 0;var Vt=B("http2"),Kre=B("util"),Xe=_e(),ms=nk(),Wre=ZA(),dk=vr(),am=De(),zn=Er(),Tr=Dt(),rt=Bo(),Tk=sm(),As=~(1<<31),cm=~(1<<31),jre=2e4,fk=~(1<<31),{HTTP2_HEADER_PATH:hk}=Vt.constants,zre="server",Ak=Buffer.from("max_age");function $re(){}function Xre(o){return function(e,t){return Kre.deprecate(e,o)}}function lm(o){return{code:Xe.Status.UNIMPLEMENTED,details:`The server does not implement the method ${o}`}}function Jre(o,e){let t=lm(e);switch(o){case"unary":return(i,s)=>{s(t,null)};case"clientStream":return(i,s)=>{s(t,null)};case"serverStream":return i=>{i.emit("error",t)};case"bidi":return i=>{i.emit("error",t)};default:throw new Error(`Invalid handlerType ${o}`)}}var Qre=(()=>{var o;let e=[],t;return o=class{constructor(s){var a,n,r,c,l,u;this.boundPorts=(Yre(this,e),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=s??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new rt.ChannelzTraceStub,this.callTracker=new rt.ChannelzCallTrackerStub,this.listenerChildrenTracker=new rt.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new rt.ChannelzChildrenTrackerStub):(this.channelzTrace=new rt.ChannelzTrace,this.callTracker=new rt.ChannelzCallTracker,this.listenerChildrenTracker=new rt.ChannelzChildrenTracker,this.sessionChildrenTracker=new rt.ChannelzChildrenTracker),this.channelzRef=(0,rt.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:As,this.maxConnectionAgeGraceMs=(n=this.options["grpc.max_connection_age_grace_ms"])!==null&&n!==void 0?n:As,this.keepaliveTimeMs=(r=this.options["grpc.keepalive_time_ms"])!==null&&r!==void 0?r:cm,this.keepaliveTimeoutMs=(c=this.options["grpc.keepalive_timeout_ms"])!==null&&c!==void 0?c:jre,this.sessionIdleTimeout=(l=this.options["grpc.max_connection_idle_ms"])!==null&&l!==void 0?l:fk,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(u=this.options.interceptors)!==null&&u!==void 0?u:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(s){var a,n,r;let c=this.sessions.get(s),l=s.socket,u=l.remoteAddress?(0,zn.stringToSubchannelAddress)(l.remoteAddress,l.remotePort):null,E=l.localAddress?(0,zn.stringToSubchannelAddress)(l.localAddress,l.localPort):null,T;if(s.encrypted){let N=l,m=N.getCipher(),P=N.getCertificate(),M=N.getPeerCertificate();T={cipherSuiteStandardName:(a=m.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:m.standardName?null:m.name,localCertificate:P&&"raw"in P?P.raw:null,remoteCertificate:M&&"raw"in M?M.raw:null}}else T=null;return{remoteAddress:u,localAddress:E,security:T,remoteName:null,streamsStarted:c.streamTracker.callsStarted,streamsSucceeded:c.streamTracker.callsSucceeded,streamsFailed:c.streamTracker.callsFailed,messagesSent:c.messagesSent,messagesReceived:c.messagesReceived,keepAlivesSent:c.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:c.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:c.lastMessageSentTimestamp,lastMessageReceivedTimestamp:c.lastMessageReceivedTimestamp,localFlowControlWindow:(n=s.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(r=s.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(s){am.trace(Xe.LogVerbosity.DEBUG,zre,"("+this.channelzRef.id+") "+s)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(s,a){if(s===null||typeof s!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let n=Object.keys(s);if(n.length===0)throw new Error("Cannot add an empty service to a server");n.forEach(r=>{let c=s[r],l;c.requestStream?c.responseStream?l="bidi":l="clientStream":c.responseStream?l="serverStream":l="unary";let u=a[r],E;if(u===void 0&&typeof c.originalName=="string"&&(u=a[c.originalName]),u!==void 0?E=u.bind(a):E=Jre(l,r),this.register(c.path,E,c.responseSerialize,c.requestDeserialize,l)===!1)throw new Error(`Method handler for ${c.path} already provided.`)})}removeService(s){if(s===null||typeof s!="object")throw new Error("removeService() requires object as argument");Object.keys(s).forEach(n=>{let r=s[n];this.unregister(r.path)})}bind(s,a){throw new Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(s){return(0,rt.registerChannelzSocket)((0,zn.subchannelAddressToString)(s),()=>({localAddress:s,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createHttp2Server(s){let a;if(s._isSecure()){let n=Object.assign(this.commonServerOptions,s._getSettings());n.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,a=Vt.createSecureServer(n),a.on("secureConnection",r=>{r.on("error",c=>{this.trace("An incoming TLS connection closed with error: "+c.message)})})}else a=Vt.createServer(this.commonServerOptions);return a.setTimeout(0,$re),this._setupHandlers(a),a}bindOneAddress(s,a){this.trace("Attempting to bind "+(0,zn.subchannelAddressToString)(s));let n=this.createHttp2Server(a.credentials);return new Promise((r,c)=>{let l=u=>{this.trace("Failed to bind "+(0,zn.subchannelAddressToString)(s)+" with error "+u.message),r({port:"port"in s?s.port:1,error:u.message})};n.once("error",l),n.listen(s,()=>{let u=n.address(),E;typeof u=="string"?E={path:u}:E={host:u.address,port:u.port};let T=this.registerListenerToChannelz(E);this.listenerChildrenTracker.refChild(T),this.http2Servers.set(n,{channelzRef:T,sessions:new Set}),a.listeningServers.add(n),this.trace("Successfully bound "+(0,zn.subchannelAddressToString)(E)),r({port:"port"in E?E.port:1}),n.removeListener("error",l)})})}async bindManyPorts(s,a){if(s.length===0)return{count:0,port:0,errors:[]};if((0,zn.isTcpSubchannelAddress)(s[0])&&s[0].port===0){let n=await this.bindOneAddress(s[0],a);if(n.error){let r=await this.bindManyPorts(s.slice(1),a);return Object.assign(Object.assign({},r),{errors:[n.error,...r.errors]})}else{let r=s.slice(1).map(u=>(0,zn.isTcpSubchannelAddress)(u)?{host:u.host,port:n.port}:u),c=await Promise.all(r.map(u=>this.bindOneAddress(u,a))),l=[n,...c];return{count:l.filter(u=>u.error===void 0).length,port:n.port,errors:l.filter(u=>u.error).map(u=>u.error)}}}else{let n=await Promise.all(s.map(r=>this.bindOneAddress(r,a)));return{count:n.filter(r=>r.error===void 0).length,port:n[0].port,errors:n.filter(r=>r.error).map(r=>r.error)}}}async bindAddressList(s,a){let n=await this.bindManyPorts(s,a);if(n.count>0)return n.count<s.length&&am.log(Xe.LogVerbosity.INFO,`WARNING Only ${n.count} addresses added out of total ${s.length} resolved`),n.port;{let r=`No address added out of total ${s.length} resolved`;throw am.log(Xe.LogVerbosity.ERROR,r),new Error(`${r} errors: [${n.errors.join(",")}]`)}}resolvePort(s){return new Promise((a,n)=>{let r={onSuccessfulResolution:(l,u,E)=>{r.onSuccessfulResolution=()=>{};let T=[].concat(...l.map(f=>f.addresses));if(T.length===0){n(new Error(`No addresses resolved for port ${s}`));return}a(T)},onError:l=>{n(new Error(l.details))}};(0,dk.createResolver)(s,r,this.options).updateResolution()})}async bindPort(s,a){let n=await this.resolvePort(s);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let r=await this.bindAddressList(n,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return r}normalizePort(s){let a=(0,Tr.parseUri)(s);if(a===null)throw new Error(`Could not parse port "${s}"`);let n=(0,dk.mapUriDefaultScheme)(a);if(n===null)throw new Error(`Could not get a default scheme for port "${s}"`);return n}bindAsync(s,a,n){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof s!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof Wre.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof n!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+s);let r=this.normalizePort(s),c=(T,f)=>{process.nextTick(()=>n(T,f))},l=this.boundPorts.get((0,Tr.uriToString)(r));if(l){if(!a._equals(l.credentials)){c(new Error(`${s} already bound with incompatible credentials`),0);return}l.cancelled=!1,l.completionPromise?l.completionPromise.then(T=>n(null,T),T=>n(T,0)):c(null,l.portNumber);return}l={mapKey:(0,Tr.uriToString)(r),originalUri:r,completionPromise:null,cancelled:!1,portNumber:0,credentials:a,listeningServers:new Set};let u=(0,Tr.splitHostPort)(r.path),E=this.bindPort(r,l);l.completionPromise=E,(u==null?void 0:u.port)===0?E.then(T=>{let f={scheme:r.scheme,authority:r.authority,path:(0,Tr.combineHostPort)({host:u.host,port:T})};l.mapKey=(0,Tr.uriToString)(f),l.completionPromise=null,l.portNumber=T,this.boundPorts.set(l.mapKey,l),n(null,T)},T=>{n(T,0)}):(this.boundPorts.set(l.mapKey,l),E.then(T=>{l.completionPromise=null,l.portNumber=T,n(null,T)},T=>{n(T,0)}))}closeServer(s,a){this.trace("Closing server with address "+JSON.stringify(s.address()));let n=this.http2Servers.get(s);s.close(()=>{n&&(this.listenerChildrenTracker.unrefChild(n.channelzRef),(0,rt.unregisterChannelzRef)(n.channelzRef)),this.http2Servers.delete(s),a==null||a()})}closeSession(s,a){var n;this.trace("Closing session initiated by "+((n=s.socket)===null||n===void 0?void 0:n.remoteAddress));let r=this.sessions.get(s),c=()=>{r&&(this.sessionChildrenTracker.unrefChild(r.ref),(0,rt.unregisterChannelzRef)(r.ref)),a==null||a()};s.closed?queueMicrotask(c):s.close(c)}completeUnbind(s){for(let a of s.listeningServers){let n=this.http2Servers.get(a);if(this.closeServer(a,()=>{s.listeningServers.delete(a)}),n)for(let r of n.sessions)this.closeSession(r)}this.boundPorts.delete(s.mapKey)}unbind(s){this.trace("unbind port="+s);let a=this.normalizePort(s),n=(0,Tr.splitHostPort)(a.path);if((n==null?void 0:n.port)===0)throw new Error("Cannot unbind port 0");let r=this.boundPorts.get((0,Tr.uriToString)(a));r&&(this.trace("unbinding "+r.mapKey+" originally bound as "+(0,Tr.uriToString)(r.originalUri)),r.completionPromise?r.cancelled=!0:this.completeUnbind(r))}drain(s,a){var n,r;this.trace("drain port="+s+" graceTimeMs="+a);let c=this.normalizePort(s),l=(0,Tr.splitHostPort)(c.path);if((l==null?void 0:l.port)===0)throw new Error("Cannot drain port 0");let u=this.boundPorts.get((0,Tr.uriToString)(c));if(!u)return;let E=new Set;for(let T of u.listeningServers){let f=this.http2Servers.get(T);if(f)for(let N of f.sessions)E.add(N),this.closeSession(N,()=>{E.delete(N)})}(r=(n=setTimeout(()=>{for(let T of E)T.destroy(Vt.constants.NGHTTP2_CANCEL)},a)).unref)===null||r===void 0||r.call(n)}forceShutdown(){for(let s of this.boundPorts.values())s.cancelled=!0;this.boundPorts.clear();for(let s of this.http2Servers.keys())this.closeServer(s);this.sessions.forEach((s,a)=>{this.closeSession(a),a.destroy(Vt.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,rt.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(s,a,n,r,c){return this.handlers.has(s)?!1:(this.handlers.set(s,{func:a,serialize:n,deserialize:r,type:c,path:s}),!0)}unregister(s){return this.handlers.delete(s)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(s=>!s.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(s){var a;let n=l=>{(0,rt.unregisterChannelzRef)(this.channelzRef),s(l)},r=0;function c(){r--,r===0&&n()}this.shutdown=!0;for(let[l,u]of this.http2Servers.entries()){r++;let E=u.channelzRef.name;this.trace("Waiting for server "+E+" to close"),this.closeServer(l,()=>{this.trace("Server "+E+" finished closing"),c()});for(let T of u.sessions.keys()){r++;let f=(a=T.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+f+" to close"),this.closeSession(T,()=>{this.trace("Session "+f+" finished closing"),c()})}}r===0&&n()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(s,a){let n=a[Vt.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof n!="string"||!n.startsWith("application/grpc")?(s.respond({[Vt.constants.HTTP2_HEADER_STATUS]:Vt.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(s){this.trace("Received call to method "+s+" at address "+this.serverAddressString);let a=this.handlers.get(s);return a===void 0?(this.trace("No handler registered for method "+s+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(s,a,n=null){var r,c;let l=Object.assign({"grpc-status":(r=s.code)!==null&&r!==void 0?r:Xe.Status.INTERNAL,"grpc-message":s.details,[Vt.constants.HTTP2_HEADER_STATUS]:Vt.constants.HTTP_STATUS_OK,[Vt.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(c=s.metadata)===null||c===void 0?void 0:c.toHttp2Headers());a.respond(l,{endStream:!0}),this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed()}_channelzHandler(s,a){this.onStreamOpened(s);let n=this.sessions.get(s.session);if(this.callTracker.addCallStarted(),n==null||n.streamTracker.addCallStarted(),!this._verifyContentType(s,a)){this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed();return}let r=a[hk],c=this._retrieveHandler(r);if(!c){this._respondWithError(lm(r),s,n);return}let l={addMessageSent:()=>{n&&(n.messagesSent+=1,n.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{n&&(n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date)},onCallEnd:E=>{E.code===Xe.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:E=>{n&&(E?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed())}},u=(0,Tk.getServerInterceptingCall)(this.interceptors,s,a,l,c,this.options);this._runHandlerForCall(u,c)||(this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed(),u.sendStatus({code:Xe.Status.INTERNAL,details:`Unknown handler type: ${c.type}`}))}_streamHandler(s,a){if(this.onStreamOpened(s),this._verifyContentType(s,a)!==!0)return;let n=a[hk],r=this._retrieveHandler(n);if(!r){this._respondWithError(lm(n),s,null);return}let c=(0,Tk.getServerInterceptingCall)(this.interceptors,s,a,null,r,this.options);this._runHandlerForCall(c,r)||c.sendStatus({code:Xe.Status.INTERNAL,details:`Unknown handler type: ${r.type}`})}_runHandlerForCall(s,a){let{type:n}=a;if(n==="unary")Zre(s,a);else if(n==="clientStream")ene(s,a);else if(n==="serverStream")tne(s,a);else if(n==="bidi")rne(s,a);else return!1;return!0}_setupHandlers(s){if(s===null)return;let a=s.address(),n="null";a&&(typeof a=="string"?n=a:n=a.address+":"+a.port),this.serverAddressString=n;let r=this.channelzEnabled?this._channelzHandler:this._streamHandler,c=this.channelzEnabled?this._channelzSessionHandler(s):this._sessionHandler(s);s.on("stream",r.bind(this)),s.on("session",c)}_sessionHandler(s){return a=>{var n,r,c;(n=this.http2Servers.get(s))===null||n===void 0||n.sessions.add(a);let l=null,u=null,E=null,T=null,f=!1,N=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==As){let m=this.maxConnectionAgeMs/10,P=Math.random()*m*2-m;l=setTimeout(()=>{var M,g;f=!0,this.trace("Connection dropped by max connection age: "+((M=a.socket)===null||M===void 0?void 0:M.remoteAddress));try{a.goaway(Vt.constants.NGHTTP2_NO_ERROR,~(1<<31),Ak)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==As&&(u=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(g=u.unref)===null||g===void 0||g.call(u))},this.maxConnectionAgeMs+P),(r=l.unref)===null||r===void 0||r.call(l)}this.keepaliveTimeMs<cm&&(E=setInterval(()=>{var m;T=setTimeout(()=>{f=!0,a.close()},this.keepaliveTimeoutMs),(m=T.unref)===null||m===void 0||m.call(T);try{a.ping((P,M,g)=>{T&&clearTimeout(T),P&&(f=!0,this.trace("Connection dropped due to error of a ping frame "+P.message+" return in "+M),a.close())})}catch{clearTimeout(T),a.destroy()}},this.keepaliveTimeMs),(c=E.unref)===null||c===void 0||c.call(E)),a.on("close",()=>{var m,P;f||this.trace(`Connection dropped by client ${(m=a.socket)===null||m===void 0?void 0:m.remoteAddress}`),l&&clearTimeout(l),u&&clearTimeout(u),E&&(clearInterval(E),T&&clearTimeout(T)),N!==null&&(clearTimeout(N.timeout),this.sessionIdleTimeouts.delete(a)),(P=this.http2Servers.get(s))===null||P===void 0||P.sessions.delete(a)})}}_channelzSessionHandler(s){return a=>{var n,r,c,l,u;let E=(0,rt.registerChannelzSocket)((r=(n=a.socket)===null||n===void 0?void 0:n.remoteAddress)!==null&&r!==void 0?r:"unknown",this.getChannelzSessionInfo.bind(this,a),this.channelzEnabled),T={ref:E,streamTracker:new rt.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(c=this.http2Servers.get(s))===null||c===void 0||c.sessions.add(a),this.sessions.set(a,T);let f=`${a.socket.remoteAddress}:${a.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+f),this.trace("Connection established by client "+f),this.sessionChildrenTracker.refChild(E);let N=null,m=null,P=null,M=null,g=!1,x=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==As){let I=this.maxConnectionAgeMs/10,K=Math.random()*I*2-I;N=setTimeout(()=>{var q;g=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+f);try{a.goaway(Vt.constants.NGHTTP2_NO_ERROR,~(1<<31),Ak)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==As&&(m=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(q=m.unref)===null||q===void 0||q.call(m))},this.maxConnectionAgeMs+K),(l=N.unref)===null||l===void 0||l.call(N)}this.keepaliveTimeMs<cm&&(P=setInterval(()=>{var I;M=setTimeout(()=>{g=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+f),a.close()},this.keepaliveTimeoutMs),(I=M.unref)===null||I===void 0||I.call(M);try{a.ping((K,q,F)=>{M&&clearTimeout(M),K&&(g=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+K.message+" return in "+q),a.close())}),T.keepAlivesSent+=1}catch{clearTimeout(M),a.destroy()}},this.keepaliveTimeMs),(u=P.unref)===null||u===void 0||u.call(P)),a.on("close",()=>{var I;g||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+f),this.sessionChildrenTracker.unrefChild(E),(0,rt.unregisterChannelzRef)(E),N&&clearTimeout(N),m&&clearTimeout(m),P&&(clearInterval(P),M&&clearTimeout(M)),x!==null&&(clearTimeout(x.timeout),this.sessionIdleTimeouts.delete(a)),(I=this.http2Servers.get(s))===null||I===void 0||I.sessions.delete(a),this.sessions.delete(a)})}}enableIdleTimeout(s){var a,n;if(this.sessionIdleTimeout>=fk)return null;let r={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,s),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,s)};(n=(a=r.timeout).unref)===null||n===void 0||n.call(a),this.sessionIdleTimeouts.set(s,r);let{socket:c}=s;return this.trace("Enable idle timeout for "+c.remoteAddress+":"+c.remotePort),r}onIdleTimeout(s,a){let{socket:n}=a,r=s.sessionIdleTimeouts.get(a);r!==void 0&&r.activeStreams===0&&Date.now()-r.lastIdle>=s.sessionIdleTimeout&&(s.trace("Session idle timeout triggered for "+(n==null?void 0:n.remoteAddress)+":"+(n==null?void 0:n.remotePort)+" last idle at "+r.lastIdle),s.closeSession(a))}onStreamOpened(s){let a=s.session,n=this.sessionIdleTimeouts.get(a);n&&(n.activeStreams+=1,s.once("close",n.onClose))}onStreamClose(s){var a,n;let r=this.sessionIdleTimeouts.get(s);r&&(r.activeStreams-=1,r.activeStreams===0&&(r.lastIdle=Date.now(),r.timeout.refresh(),this.trace("Session onStreamClose"+((a=s.socket)===null||a===void 0?void 0:a.remoteAddress)+":"+((n=s.socket)===null||n===void 0?void 0:n.remotePort)+" at "+r.lastIdle)))}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Xre("Calling start() is no longer necessary. It can be safely omitted.")],qre(o,null,t,{kind:"method",name:"start",static:!1,private:!1,access:{has:s=>"start"in s,get:s=>s.start},metadata:i},null,e),i&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),o})();$n.Server=Qre;async function Zre(o,e){let t;function i(n,r,c,l){if(n){o.sendStatus((0,ms.serverErrorToStatus)(n,c));return}o.sendMessage(r,()=>{o.sendStatus({code:Xe.Status.OK,details:"OK",metadata:c??null})})}let s,a=null;o.start({onReceiveMetadata(n){s=n,o.startRead()},onReceiveMessage(n){if(a){o.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=n,o.startRead()},onReceiveHalfClose(){if(!a){o.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new ms.ServerWritableStreamImpl(e.path,o,s,a);try{e.func(t,i)}catch(n){o.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${n.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"))}})}function ene(o,e){let t;function i(s,a,n,r){if(s){o.sendStatus((0,ms.serverErrorToStatus)(s,n));return}o.sendMessage(a,()=>{o.sendStatus({code:Xe.Status.OK,details:"OK",metadata:n??null})})}o.start({onReceiveMetadata(s){t=new ms.ServerDuplexStreamImpl(e.path,o,s);try{e.func(t,i)}catch(a){o.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(s){t.push(s)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function tne(o,e){let t,i,s=null;o.start({onReceiveMetadata(a){i=a,o.startRead()},onReceiveMessage(a){if(s){o.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}s=a,o.startRead()},onReceiveHalfClose(){if(!s){o.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new ms.ServerWritableStreamImpl(e.path,o,i,s);try{e.func(t)}catch(a){o.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function rne(o,e){let t;o.start({onReceiveMetadata(i){t=new ms.ServerDuplexStreamImpl(e.path,o,i);try{e.func(t)}catch(s){o.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${s.message}`,metadata:null})}},onReceiveMessage(i){t.push(i)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}});var Ok=h(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.StatusBuilder=void 0;var um=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};f_.StatusBuilder=um});var Em=h(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.isDuration=Xn.durationToMs=Xn.msToDuration=void 0;function nne(o){return{seconds:o/1e3|0,nanos:o%1e3*1e6|0}}Xn.msToDuration=nne;function one(o){return o.seconds*1e3+o.nanos/1e6|0}Xn.durationToMs=one;function ine(o){return typeof o.seconds=="number"&&typeof o.nanos=="number"}Xn.isDuration=ine});var h_=h(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.setup=nr.LeafLoadBalancer=nr.PickFirstLoadBalancer=nr.shuffled=nr.PickFirstLoadBalancingConfig=void 0;var _m=Do(),Ye=jt(),Os=Un(),sne=De(),ane=_e(),Rk=Er(),Nk=B("net"),cne="pick_first";function Sm(o){sne.trace(ane.LogVerbosity.DEBUG,cne,o)}var bc="pick_first",lne=250,Rs=class o{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return bc}toJsonObject(){return{[bc]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new o(e.shuffleAddressList===!0)}};nr.PickFirstLoadBalancingConfig=Rs;var pm=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Os.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function Mk(o){let e=o.slice();for(let t=e.length-1;t>1;t--){let i=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[i],e[i]=s}return e}nr.shuffled=Mk;function une(o){let e=[],t=[],i=[],s=(0,Rk.isTcpSubchannelAddress)(o[0])&&(0,Nk.isIPv6)(o[0].host);for(let r of o)(0,Rk.isTcpSubchannelAddress)(r)&&(0,Nk.isIPv6)(r.host)?t.push(r):i.push(r);let a=s?t:i,n=s?i:t;for(let r=0;r<Math.max(a.length,n.length);r++)r<a.length&&e.push(a[r]),r<n.length&&e.push(n[r]);return e}var Pk="grpc-node.internal.pick-first.report_health_status",Vc=class{constructor(e,t){this.channelControlHelper=e,this.children=[],this.currentState=Ye.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(i,s,a,n,r)=>{this.onSubchannelStateUpdate(i,s,a,r)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=t[Pk]}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(Ye.ConnectivityState.TRANSIENT_FAILURE,new Os.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(Ye.ConnectivityState.READY,new pm(this.currentPick)):this.children.length===0?this.updateState(Ye.ConnectivityState.IDLE,new Os.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(Ye.ConnectivityState.TRANSIENT_FAILURE,new Os.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Ye.ConnectivityState.CONNECTING,new Os.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef()),this.reportHealthStatus&&e.removeHealthStateWatcher(this.pickedSubchannelHealthListener)}}onSubchannelStateUpdate(e,t,i,s){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){i!==Ye.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[n,r]of this.children.entries())if(e.realSubchannelEquals(r.subchannel)){i===Ye.ConnectivityState.READY&&this.pickSubchannel(r.subchannel),i===Ye.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0,s&&(this.lastError=s),this.maybeEnterStickyTransientFailureMode(),n===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(n+1)),r.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,i]of this.children.entries())if(t>=e){let s=i.subchannel.getConnectivityState();if(s===Ye.ConnectivityState.IDLE||s===Ye.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,i;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Ye.ConnectivityState.IDLE&&(Sm("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var s;(s=this.children[e])===null||s===void 0||s.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},lne),(i=(t=this.connectionDelayTimeout).unref)===null||i===void 0||i.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(Sm("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.removeCurrentPick(),this.currentPick=e,e.ref(),this.reportHealthStatus&&e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){Sm(Ye.ConnectivityState[this.currentState]+" -> "+Ye.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(i=>({subchannel:this.channelControlHelper.createSubchannel(i,{}),hasReportedTransientFailure:!1}));for(let{subchannel:i}of t)i.ref(),this.channelControlHelper.addChannelzChild(i.getChannelzRef());this.resetSubchannelList(),this.children=t;for(let{subchannel:i}of this.children)if(i.addConnectivityStateListener(this.subchannelStateListener),i.getConnectivityState()===Ye.ConnectivityState.READY){this.pickSubchannel(i);return}for(let i of this.children)i.subchannel.getConnectivityState()===Ye.ConnectivityState.TRANSIENT_FAILURE&&(i.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){if(!(t instanceof Rs))return;t.getShuffleAddressList()&&(e=Mk(e));let i=[].concat(...e.map(a=>a.addresses));if(i.length===0)throw new Error("No addresses in endpoint list passed to pick_first");let s=une(i);this.latestAddressList=s,this.connectToAddressList(s)}exitIdle(){this.currentState===Ye.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return bc}};nr.PickFirstLoadBalancer=Vc;var Ene=new Rs(!1),dm=class{constructor(e,t,i){this.endpoint=e,this.latestState=Ye.ConnectivityState.IDLE;let s=(0,_m.createChildChannelControlHelper)(t,{updateState:(a,n)=>{this.latestState=a,this.latestPicker=n,t.updateState(a,n)}});this.pickFirstBalancer=new Vc(s,Object.assign(Object.assign({},i),{[Pk]:!0})),this.latestPicker=new Os.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],Ene)}updateEndpoint(e){this.endpoint=e,this.latestState!==Ye.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}};nr.LeafLoadBalancer=dm;function Sne(){(0,_m.registerLoadBalancerType)(bc,Vc,Rs),(0,_m.registerDefaultLoadBalancerType)(bc)}nr.setup=Sne});var fm=h(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.BaseSubchannelWrapper=j.registerAdminService=j.FilterStackFactory=j.BaseFilter=j.PickResultType=j.QueuePicker=j.UnavailablePicker=j.ChildLoadBalancerHandler=j.EndpointMap=j.endpointHasAddress=j.endpointToString=j.subchannelAddressToString=j.LeafLoadBalancer=j.isLoadBalancerNameRegistered=j.parseLoadBalancingConfig=j.selectLbConfigFromList=j.registerLoadBalancerType=j.createChildChannelControlHelper=j.BackoffTimeout=j.durationToMs=j.uriToString=j.createResolver=j.registerResolver=j.log=j.trace=void 0;var Ck=De();Object.defineProperty(j,"trace",{enumerable:!0,get:function(){return Ck.trace}});Object.defineProperty(j,"log",{enumerable:!0,get:function(){return Ck.log}});var gk=vr();Object.defineProperty(j,"registerResolver",{enumerable:!0,get:function(){return gk.registerResolver}});Object.defineProperty(j,"createResolver",{enumerable:!0,get:function(){return gk.createResolver}});var _ne=Dt();Object.defineProperty(j,"uriToString",{enumerable:!0,get:function(){return _ne.uriToString}});var pne=Em();Object.defineProperty(j,"durationToMs",{enumerable:!0,get:function(){return pne.durationToMs}});var dne=ac();Object.defineProperty(j,"BackoffTimeout",{enumerable:!0,get:function(){return dne.BackoffTimeout}});var wc=Do();Object.defineProperty(j,"createChildChannelControlHelper",{enumerable:!0,get:function(){return wc.createChildChannelControlHelper}});Object.defineProperty(j,"registerLoadBalancerType",{enumerable:!0,get:function(){return wc.registerLoadBalancerType}});Object.defineProperty(j,"selectLbConfigFromList",{enumerable:!0,get:function(){return wc.selectLbConfigFromList}});Object.defineProperty(j,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return wc.parseLoadBalancingConfig}});Object.defineProperty(j,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return wc.isLoadBalancerNameRegistered}});var Tne=h_();Object.defineProperty(j,"LeafLoadBalancer",{enumerable:!0,get:function(){return Tne.LeafLoadBalancer}});var A_=Er();Object.defineProperty(j,"subchannelAddressToString",{enumerable:!0,get:function(){return A_.subchannelAddressToString}});Object.defineProperty(j,"endpointToString",{enumerable:!0,get:function(){return A_.endpointToString}});Object.defineProperty(j,"endpointHasAddress",{enumerable:!0,get:function(){return A_.endpointHasAddress}});Object.defineProperty(j,"EndpointMap",{enumerable:!0,get:function(){return A_.EndpointMap}});var fne=rS();Object.defineProperty(j,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return fne.ChildLoadBalancerHandler}});var Tm=Un();Object.defineProperty(j,"UnavailablePicker",{enumerable:!0,get:function(){return Tm.UnavailablePicker}});Object.defineProperty(j,"QueuePicker",{enumerable:!0,get:function(){return Tm.QueuePicker}});Object.defineProperty(j,"PickResultType",{enumerable:!0,get:function(){return Tm.PickResultType}});var hne=$S();Object.defineProperty(j,"BaseFilter",{enumerable:!0,get:function(){return hne.BaseFilter}});var Ane=RA();Object.defineProperty(j,"FilterStackFactory",{enumerable:!0,get:function(){return Ane.FilterStackFactory}});var mne=iS();Object.defineProperty(j,"registerAdminService",{enumerable:!0,get:function(){return mne.registerAdminService}});var One=c_();Object.defineProperty(j,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return One.BaseSubchannelWrapper}})});var yk=h(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.setup=void 0;var Rne=vr(),hm=class{constructor(e,t,i){this.listener=t,this.hasReturnedResult=!1,this.endpoints=[];let s;e.authority===""?s="/"+e.path:s=e.path,this.endpoints=[{addresses:[{path:s}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}};function Nne(){(0,Rne.registerResolver)("unix",hm)}m_.setup=Nne});var xk=h(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.setup=void 0;var Lk=B("net"),O_=_e(),Am=ut(),vk=vr(),Ik=Dt(),Mne=De(),Pne="ip_resolver";function Dk(o){Mne.trace(O_.LogVerbosity.DEBUG,Pne,o)}var mm="ipv4",Om="ipv6",Cne=443,R_=class{constructor(e,t,i){var s;this.listener=t,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,Dk("Resolver constructed for target "+(0,Ik.uriToString)(e));let a=[];if(!(e.scheme===mm||e.scheme===Om)){this.error={code:O_.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new Am.Metadata};return}let n=e.path.split(",");for(let r of n){let c=(0,Ik.splitHostPort)(r);if(c===null){this.error={code:O_.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${r}`,metadata:new Am.Metadata};return}if(e.scheme===mm&&!(0,Lk.isIPv4)(c.host)||e.scheme===Om&&!(0,Lk.isIPv6)(c.host)){this.error={code:O_.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${r}`,metadata:new Am.Metadata};return}a.push({host:c.host,port:(s=c.port)!==null&&s!==void 0?s:Cne})}this.endpoints=a.map(r=>({addresses:[r]})),Dk("Parsed "+e.scheme+" address list "+a)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function gne(){(0,vk.registerResolver)(mm,R_),(0,vk.registerResolver)(Om,R_)}N_.setup=gne});var wk=h(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.setup=Ns.RoundRobinLoadBalancer=void 0;var Vk=Do(),wt=jt(),Rm=Un(),yne=De(),Lne=_e(),Uk=Er(),vne=h_(),Ine="round_robin";function bk(o){yne.trace(Lne.LogVerbosity.DEBUG,Ine,o)}var M_="round_robin",Nm=class o{getLoadBalancerName(){return M_}constructor(){}toJsonObject(){return{[M_]:{}}}static createFromJson(e){return new o}},Mm=class{constructor(e,t=0){this.children=e,this.nextIndex=t}pick(e){let t=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,t.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}},P_=class{constructor(e,t){this.channelControlHelper=e,this.options=t,this.children=[],this.currentState=wt.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,Vk.createChildChannelControlHelper)(e,{updateState:(i,s)=>{this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(wt.ConnectivityState.READY)>0){let e=this.children.filter(i=>i.getConnectivityState()===wt.ConnectivityState.READY),t=0;if(this.currentReadyPicker!==null){let i=this.currentReadyPicker.peekNextEndpoint();t=e.findIndex(s=>(0,Uk.endpointEqual)(s.getEndpoint(),i)),t<0&&(t=0)}this.updateState(wt.ConnectivityState.READY,new Mm(e.map(i=>({endpoint:i.getEndpoint(),picker:i.getPicker()})),t))}else this.countChildrenWithState(wt.ConnectivityState.CONNECTING)>0?this.updateState(wt.ConnectivityState.CONNECTING,new Rm.QueuePicker(this)):this.countChildrenWithState(wt.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(wt.ConnectivityState.TRANSIENT_FAILURE,new Rm.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(wt.ConnectivityState.IDLE,new Rm.QueuePicker(this));for(let e of this.children)e.getConnectivityState()===wt.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,t){bk(wt.ConnectivityState[this.currentState]+" -> "+wt.ConnectivityState[e]),e===wt.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)e.destroy()}updateAddressList(e,t){this.resetSubchannelList(),bk("Connect to endpoint list "+e.map(Uk.endpointToString)),this.updatesPaused=!0,this.children=e.map(i=>new vne.LeafLoadBalancer(i,this.childChannelControlHelper,this.options));for(let i of this.children)i.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return M_}};Ns.RoundRobinLoadBalancer=P_;function Dne(){(0,Vk.registerLoadBalancerType)(M_,P_,Nm)}Ns.setup=Dne});var kk=h(Jn=>{"use strict";var Pm;Object.defineProperty(Jn,"__esModule",{value:!0});Jn.setup=Jn.OutlierDetectionLoadBalancer=Jn.OutlierDetectionLoadBalancingConfig=void 0;var xne=jt(),Bk=_e(),Yo=Em(),Gk=fm(),Une=Do(),bne=rS(),Vne=Un(),Cm=Er(),wne=c_(),Bne=De(),Gne="outlier_detection";function nt(o){Bne.trace(Bk.LogVerbosity.DEBUG,Gne,o)}var Dm="outlier_detection",kne=((Pm=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&Pm!==void 0?Pm:"true")==="true",Fne={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},Hne={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function Ms(o,e,t,i){if(e in o&&o[e]!==void 0&&typeof o[e]!==t){let s=i?`${i}.${e}`:e;throw new Error(`outlier detection config ${s} parse error: expected ${t}, got ${typeof o[e]}`)}}function gm(o,e,t){let i=t?`${t}.${e}`:e;if(e in o&&o[e]!==void 0){if(!(0,Yo.isDuration)(o[e]))throw new Error(`outlier detection config ${i} parse error: expected Duration, got ${typeof o[e]}`);if(!(o[e].seconds>=0&&o[e].seconds<=315576e6&&o[e].nanos>=0&&o[e].nanos<=999999999))throw new Error(`outlier detection config ${i} parse error: values out of range for non-negative Duaration`)}}function C_(o,e,t){let i=t?`${t}.${e}`:e;if(Ms(o,e,"number",t),e in o&&o[e]!==void 0&&!(o[e]>=0&&o[e]<=100))throw new Error(`outlier detection config ${i} parse error: value out of range for percentage (0-100)`)}var Bc=class o{constructor(e,t,i,s,a,n,r){if(this.childPolicy=r,r.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=i??3e5,this.maxEjectionPercent=s??10,this.successRateEjection=a?Object.assign(Object.assign({},Fne),a):null,this.failurePercentageEjection=n?Object.assign(Object.assign({},Hne),n):null}getLoadBalancerName(){return Dm}toJsonObject(){var e,t;return{outlier_detection:{interval:(0,Yo.msToDuration)(this.intervalMs),base_ejection_time:(0,Yo.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Yo.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(t=this.failurePercentageEjection)!==null&&t!==void 0?t:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var t;if(gm(e,"interval"),gm(e,"base_ejection_time"),gm(e,"max_ejection_time"),C_(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");Ms(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),C_(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),Ms(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),Ms(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");C_(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),C_(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),Ms(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),Ms(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let i=(0,Une.selectLbConfigFromList)(e.child_policy);if(!i)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new o(e.interval?(0,Yo.durationToMs)(e.interval):null,e.base_ejection_time?(0,Yo.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,Yo.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,i)}};Jn.OutlierDetectionLoadBalancingConfig=Bc;var Lm=class extends wne.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function ym(){return{success:0,failure:0}}var vm=class{constructor(){this.activeBucket=ym(),this.inactiveBucket=ym()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=ym()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},Im=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===Vne.PickResultType.COMPLETE){let i=t.subchannel,s=i.getMapEntry();if(s){let a=t.onCallEnded;return this.countCalls&&(a=n=>{var r;n===Bk.Status.OK?s.counter.addSuccess():s.counter.addFailure(),(r=t.onCallEnded)===null||r===void 0||r.call(t,n)}),Object.assign(Object.assign({},t),{subchannel:i.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},t),{subchannel:i.getWrappedSubchannel()})}else return t}},g_=class{constructor(e,t){this.entryMap=new Cm.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new bne.ChildLoadBalancerHandler((0,Gk.createChildChannelControlHelper)(e,{createSubchannel:(i,s)=>{let a=e.createSubchannel(i,s),n=this.entryMap.getForSubchannelAddress(i),r=new Lm(a,n);return(n==null?void 0:n.currentEjectionTimestamp)!==null&&r.eject(),n==null||n.subchannelWrappers.push(r),r},updateState:(i,s)=>{i===xne.ConnectivityState.READY?e.updateState(i,new Im(s,this.isCountingEnabled())):e.updateState(i,s)}}),t),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.entryMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;nt("Running success rate check");let i=t.request_volume,s=0,a=[];for(let[E,T]of this.entryMap.entries()){let f=T.counter.getLastSuccesses(),N=T.counter.getLastFailures();nt("Stats for "+(0,Cm.endpointToString)(E)+": successes="+f+" failures="+N+" targetRequestVolume="+i),f+N>=i&&(s+=1,a.push(f/(f+N)))}if(nt("Found "+s+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),s<t.minimum_hosts)return;let n=a.reduce((E,T)=>E+T)/a.length,r=0;for(let E of a){let T=E-n;r+=T*T}let c=r/a.length,l=Math.sqrt(c),u=n-l*(t.stdev_factor/1e3);nt("stdev="+l+" ejectionThreshold="+u);for(let[E,T]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=T.counter.getLastSuccesses(),N=T.counter.getLastFailures();if(f+N<i)continue;let m=f/(f+N);if(nt("Checking candidate "+E+" successRate="+m),m<u){let P=Math.random()*100;nt("Candidate "+E+" randomNumber="+P+" enforcement_percentage="+t.enforcement_percentage),P<t.enforcement_percentage&&(nt("Ejecting candidate "+E),this.eject(T,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;nt("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let i=0;for(let s of this.entryMap.values()){let a=s.counter.getLastSuccesses(),n=s.counter.getLastFailures();a+n>=t.request_volume&&(i+=1)}if(!(i<t.minimum_hosts))for(let[s,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let n=a.counter.getLastSuccesses(),r=a.counter.getLastFailures();if(nt("Candidate successes="+n+" failures="+r),n+r<t.request_volume)continue;if(r*100/(r+n)>t.threshold){let l=Math.random()*100;nt("Candidate "+s+" randomNumber="+l+" enforcement_percentage="+t.enforcement_percentage),l<t.enforcement_percentage&&(nt("Ejecting candidate "+s),this.eject(a,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let i of e.subchannelWrappers)i.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var t,i;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(i=(t=this.ejectionTimer).unref)===null||i===void 0||i.call(t)}runChecks(){let e=new Date;if(nt("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,i]of this.entryMap.entries())if(i.currentEjectionTimestamp===null)i.ejectionTimeMultiplier>0&&(i.ejectionTimeMultiplier-=1);else{let s=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),n=new Date(i.currentEjectionTimestamp.getTime());n.setMilliseconds(n.getMilliseconds()+Math.min(s*i.ejectionTimeMultiplier,Math.max(s,a))),n<new Date&&(nt("Unejecting "+t),this.uneject(i))}}}updateAddressList(e,t,i){if(!(t instanceof Bc))return;for(let a of e)this.entryMap.has(a)||(nt("Adding map entry for "+(0,Cm.endpointToString)(a)),this.entryMap.set(a,{counter:new vm,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);let s=t.getChildPolicy();if(this.childBalancer.updateAddressList(e,s,i),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){nt("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else nt("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{nt("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let a of this.entryMap.values())this.uneject(a),a.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return Dm}};Jn.OutlierDetectionLoadBalancer=g_;function Yne(){kne&&(0,Gk.registerLoadBalancerType)(Dm,g_,Bc)}Jn.setup=Yne});var Gc=h(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.experimental=b.ServerInterceptingCall=b.ResponderBuilder=b.ServerListenerBuilder=b.addAdminServicesToServer=b.getChannelzHandlers=b.getChannelzServiceDefinition=b.InterceptorConfigurationError=b.InterceptingCall=b.RequesterBuilder=b.ListenerBuilder=b.StatusBuilder=b.getClientChannel=b.ServerCredentials=b.Server=b.setLogVerbosity=b.setLogger=b.load=b.loadObject=b.CallCredentials=b.ChannelCredentials=b.waitForClientReady=b.closeClient=b.Channel=b.makeGenericClientConstructor=b.makeClientConstructor=b.loadPackageDefinition=b.Client=b.compressionAlgorithms=b.propagate=b.connectivityState=b.status=b.logVerbosity=b.Metadata=b.credentials=void 0;var y_=vf();Object.defineProperty(b,"CallCredentials",{enumerable:!0,get:function(){return y_.CallCredentials}});var qne=lh();Object.defineProperty(b,"Channel",{enumerable:!0,get:function(){return qne.ChannelImplementation}});var Kne=NA();Object.defineProperty(b,"compressionAlgorithms",{enumerable:!0,get:function(){return Kne.CompressionAlgorithms}});var Wne=jt();Object.defineProperty(b,"connectivityState",{enumerable:!0,get:function(){return Wne.ConnectivityState}});var L_=$E();Object.defineProperty(b,"ChannelCredentials",{enumerable:!0,get:function(){return L_.ChannelCredentials}});var Fk=ch();Object.defineProperty(b,"Client",{enumerable:!0,get:function(){return Fk.Client}});var xm=_e();Object.defineProperty(b,"logVerbosity",{enumerable:!0,get:function(){return xm.LogVerbosity}});Object.defineProperty(b,"status",{enumerable:!0,get:function(){return xm.Status}});Object.defineProperty(b,"propagate",{enumerable:!0,get:function(){return xm.Propagate}});var Hk=De(),Um=Eh();Object.defineProperty(b,"loadPackageDefinition",{enumerable:!0,get:function(){return Um.loadPackageDefinition}});Object.defineProperty(b,"makeClientConstructor",{enumerable:!0,get:function(){return Um.makeClientConstructor}});Object.defineProperty(b,"makeGenericClientConstructor",{enumerable:!0,get:function(){return Um.makeClientConstructor}});var jne=ut();Object.defineProperty(b,"Metadata",{enumerable:!0,get:function(){return jne.Metadata}});var zne=mk();Object.defineProperty(b,"Server",{enumerable:!0,get:function(){return zne.Server}});var $ne=ZA();Object.defineProperty(b,"ServerCredentials",{enumerable:!0,get:function(){return $ne.ServerCredentials}});var Xne=Ok();Object.defineProperty(b,"StatusBuilder",{enumerable:!0,get:function(){return Xne.StatusBuilder}});b.credentials={combineChannelCredentials:(o,...e)=>e.reduce((t,i)=>t.compose(i),o),combineCallCredentials:(o,...e)=>e.reduce((t,i)=>t.compose(i),o),createInsecure:L_.ChannelCredentials.createInsecure,createSsl:L_.ChannelCredentials.createSsl,createFromSecureContext:L_.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:y_.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:y_.CallCredentials.createFromGoogleCredential,createEmpty:y_.CallCredentials.createEmpty};var Jne=o=>o.close();b.closeClient=Jne;var Qne=(o,e,t)=>o.waitForReady(e,t);b.waitForClientReady=Qne;var Zne=(o,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};b.loadObject=Zne;var eoe=(o,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};b.load=eoe;var toe=o=>{Hk.setLogger(o)};b.setLogger=toe;var roe=o=>{Hk.setLoggerVerbosity(o)};b.setLogVerbosity=roe;var noe=o=>Fk.Client.prototype.getChannel.call(o);b.getClientChannel=noe;var v_=ih();Object.defineProperty(b,"ListenerBuilder",{enumerable:!0,get:function(){return v_.ListenerBuilder}});Object.defineProperty(b,"RequesterBuilder",{enumerable:!0,get:function(){return v_.RequesterBuilder}});Object.defineProperty(b,"InterceptingCall",{enumerable:!0,get:function(){return v_.InterceptingCall}});Object.defineProperty(b,"InterceptorConfigurationError",{enumerable:!0,get:function(){return v_.InterceptorConfigurationError}});var Yk=Bo();Object.defineProperty(b,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return Yk.getChannelzServiceDefinition}});Object.defineProperty(b,"getChannelzHandlers",{enumerable:!0,get:function(){return Yk.getChannelzHandlers}});var ooe=iS();Object.defineProperty(b,"addAdminServicesToServer",{enumerable:!0,get:function(){return ooe.addAdminServicesToServer}});var bm=sm();Object.defineProperty(b,"ServerListenerBuilder",{enumerable:!0,get:function(){return bm.ServerListenerBuilder}});Object.defineProperty(b,"ResponderBuilder",{enumerable:!0,get:function(){return bm.ResponderBuilder}});Object.defineProperty(b,"ServerInterceptingCall",{enumerable:!0,get:function(){return bm.ServerInterceptingCall}});var ioe=fm();b.experimental=ioe;var soe=EA(),aoe=yk(),coe=xk(),loe=h_(),uoe=wk(),Eoe=kk(),Soe=Bo();soe.setup(),aoe.setup(),coe.setup(),loe.setup(),uoe.setup(),Eoe.setup(),Soe.setup()});var qk=h(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.createServiceClientConstructor=void 0;var _oe=Gc();function poe(o,e){let t={export:{path:o,requestStream:!1,responseStream:!1,requestSerialize:i=>i,requestDeserialize:i=>i,responseSerialize:i=>i,responseDeserialize:i=>i}};return _oe.makeGenericClientConstructor(t,e)}I_.createServiceClientConstructor=poe});var wm=h(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.GrpcExporterTransport=Yr.createEmptyMetadata=Yr.createSslCredentials=Yr.createInsecureCredentials=void 0;var doe=0,Toe=2;function foe(o){return o==="gzip"?Toe:doe}function hoe(){let{credentials:o}=Gc();return o.createInsecure()}Yr.createInsecureCredentials=hoe;function Aoe(o,e,t){let{credentials:i}=Gc();return i.createSsl(o,e,t)}Yr.createSslCredentials=Aoe;function moe(){let{Metadata:o}=Gc();return new o}Yr.createEmptyMetadata=moe;var Vm=class{constructor(e){this._parameters=e}shutdown(){var e;(e=this._client)===null||e===void 0||e.close()}send(e){let t=Buffer.from(e);if(this._client==null){let{createServiceClientConstructor:i}=qk();try{this._metadata=this._parameters.metadata()}catch(a){return Promise.resolve({status:"failure",error:a})}let s=i(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new s(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":foe(this._parameters.compression)})}catch(a){return Promise.resolve({status:"failure",error:a})}}return new Promise(i=>{let s=Date.now()+this._parameters.timeoutMillis;if(this._metadata==null)return i({error:new Error("metadata was null"),status:"failure"});this._client.export(t,this._metadata,{deadline:s},(a,n)=>{i(a?{status:"failure",error:a}:{data:n,status:"success"})})})}};Yr.GrpcExporterTransport=Vm});var Fm=h(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.configureCompression=Bt.getCredentialsFromEnvironment=Bt.configureCredentials=Bt.validateAndNormalizeUrl=Bt.DEFAULT_COLLECTOR_URL=void 0;var Ps=(U(),ee(Je)),qr=($(),ee(uo)),Gm=B("path"),Ooe=B("url"),km=B("fs"),Bm=(vi(),ee(JT)),Kk=wm();Bt.DEFAULT_COLLECTOR_URL="http://localhost:4317";function Roe(o){var e;o.match(/^([\w]{1,8}):\/\//)||(o=`https://${o}`);let i=new Ooe.URL(o);return i.protocol==="unix:"?o:(i.pathname&&i.pathname!=="/"&&Ps.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),i.protocol!==""&&!(!((e=i.protocol)===null||e===void 0)&&e.match(/^(http)s?:$/))&&Ps.diag.warn("URL protocol should be http(s)://. Using http://."),i.host)}Bt.validateAndNormalizeUrl=Roe;function Noe(o,e){let t;return o||(e.startsWith("https://")?t=!1:e.startsWith("http://")||e===Bt.DEFAULT_COLLECTOR_URL?t=!0:t=Moe(),t?(0,Kk.createInsecureCredentials)():Wk())}Bt.configureCredentials=Noe;function Moe(){let o=(0,qr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_INSECURE||(0,qr.getEnv)().OTEL_EXPORTER_OTLP_INSECURE;return o?o.toLowerCase()==="true":!1}function Wk(){let o=Poe(),e=Coe(),t=goe();return(0,Kk.createSslCredentials)(o,e,t)}Bt.getCredentialsFromEnvironment=Wk;function Poe(){let o=(0,qr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE||(0,qr.getEnv)().OTEL_EXPORTER_OTLP_CERTIFICATE;if(o)try{return km.readFileSync(Gm.resolve(process.cwd(),o))}catch{Ps.diag.warn("Failed to read root certificate file");return}else return}function Coe(){let o=(0,qr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY||(0,qr.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_KEY;if(o)try{return km.readFileSync(Gm.resolve(process.cwd(),o))}catch{Ps.diag.warn("Failed to read client certificate private key file");return}else return}function goe(){let o=(0,qr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE||(0,qr.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE;if(o)try{return km.readFileSync(Gm.resolve(process.cwd(),o))}catch{Ps.diag.warn("Failed to read client certificate chain file");return}else return}function yoe(o){if(o!=null)return o;let e=(0,qr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,qr.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION;return e==="gzip"?Bm.CompressionAlgorithm.GZIP:(e==="none"||Ps.diag.warn('Unknown compression "'+e+'", falling back to "none"'),Bm.CompressionAlgorithm.NONE)}Bt.configureCompression=yoe});var Qk=h(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.OTLPGRPCExporterNodeBase=void 0;var jk=(U(),ee(Je)),zk=($(),ee(uo)),$k=(vi(),ee(JT)),Xk=wm(),Jk=Fm(),Hm=class extends $k.OTLPExporterBase{constructor(e={},t,i,s,a){var n;super(e),this.grpcQueue=[],this._serializer=a,e.headers&&jk.diag.warn("Headers cannot be set when using grpc");let r=zk.baggageUtils.parseKeyPairsIntoRecord((0,zk.getEnv)().OTEL_EXPORTER_OTLP_HEADERS),c=Object.assign({},r,t),l=()=>(0,Jk.configureCredentials)(void 0,this.getUrlFromConfig(e));if(e.credentials!=null){let T=e.credentials;l=()=>T}let u=(n=e.metadata)===null||n===void 0?void 0:n.clone(),E=()=>{let T=u??(0,Xk.createEmptyMetadata)();for(let[f,N]of Object.entries(c))T.get(f).length<1&&T.set(f,N);return T};this.compression=(0,Jk.configureCompression)(e.compression),this._transport=new Xk.GrpcExporterTransport({address:this.getDefaultUrl(e),compression:this.compression,credentials:l,grpcName:i,grpcPath:s,metadata:E,timeoutMillis:this.timeoutMillis})}onInit(){}onShutdown(){this._transport.shutdown()}send(e,t,i){if(this._shutdownOnce.isCalled){jk.diag.debug("Shutdown already started. Cannot send objects");return}let s=this._serializer.serializeRequest(e);if(s==null){i(new Error("Could not serialize message"));return}let a=this._transport.send(s).then(r=>{if(r.status==="success"){t();return}r.status==="failure"&&r.error&&i(r.error),i(new $k.OTLPExporterError("Export failed with unknown error"))},i);this._sendingPromises.push(a);let n=()=>{let r=this._sendingPromises.indexOf(a);this._sendingPromises.splice(r,1)};a.then(n,n)}};D_.OTLPGRPCExporterNodeBase=Hm});var eF=h(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.validateAndNormalizeUrl=Qn.DEFAULT_COLLECTOR_URL=Qn.OTLPGRPCExporterNodeBase=void 0;var Loe=Qk();Object.defineProperty(Qn,"OTLPGRPCExporterNodeBase",{enumerable:!0,get:function(){return Loe.OTLPGRPCExporterNodeBase}});var Zk=Fm();Object.defineProperty(Qn,"DEFAULT_COLLECTOR_URL",{enumerable:!0,get:function(){return Zk.DEFAULT_COLLECTOR_URL}});Object.defineProperty(Qn,"validateAndNormalizeUrl",{enumerable:!0,get:function(){return Zk.validateAndNormalizeUrl}})});var tF=h(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.VERSION=void 0;x_.VERSION="0.52.0"});var rF=h(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.OTLPTraceExporter=void 0;var U_=($(),ee(uo)),Ym=eF(),voe=(ic(),ee(gw)),Ioe=tF(),Doe={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Ioe.VERSION}`},qm=class extends Ym.OTLPGRPCExporterNodeBase{constructor(e={}){let t=Object.assign(Object.assign({},Doe),U_.baggageUtils.parseKeyPairsIntoRecord((0,U_.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS));super(e,t,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export",voe.ProtobufTraceSerializer)}getDefaultUrl(e){return(0,Ym.validateAndNormalizeUrl)(this.getUrlFromConfig(e))}getUrlFromConfig(e){return typeof e.url=="string"?e.url:(0,U_.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||(0,U_.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT||Ym.DEFAULT_COLLECTOR_URL}};b_.OTLPTraceExporter=qm});var nF=h(qo=>{"use strict";var xoe=qo&&qo.__createBinding||(Object.create?function(o,e,t,i){i===void 0&&(i=t),Object.defineProperty(o,i,{enumerable:!0,get:function(){return e[t]}})}:function(o,e,t,i){i===void 0&&(i=t),o[i]=e[t]}),Uoe=qo&&qo.__exportStar||function(o,e){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xoe(e,o,t)};Object.defineProperty(qo,"__esModule",{value:!0});Uoe(rF(),qo)});import*as boe from"http";import*as Voe from"https";import*as oF from"url";function V_(o,e){let t=oF.parse(o),i=Object.assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},e)},t);return function(a,n){if(a.length===0)return R.debug("Zipkin send with empty spans"),n({code:te.SUCCESS});let{request:r}=i.protocol==="http:"?boe:Voe,c=r(i,u=>{let E="";u.on("data",T=>{E+=T}),u.on("end",()=>{let T=u.statusCode||0;return R.debug(`Zipkin response status code: ${T}, body: ${E}`),T<400?n({code:te.SUCCESS}):n({code:te.FAILED,error:new Error(`Got unexpected status code from zipkin: ${T}`)})})});c.on("error",u=>n({code:te.FAILED,error:u}));let l=JSON.stringify(a);R.debug(`Zipkin request payload: ${l}`),c.write(l,"utf8"),c.end()}}var iF=p(()=>{U();$()});var sF=p(()=>{iF()});var Km=p(()=>{sF()});var Ko,aF=p(()=>{(function(o){o.CLIENT="CLIENT",o.SERVER="SERVER",o.CONSUMER="CONSUMER",o.PRODUCER="PRODUCER"})(Ko||(Ko={}))});function uF(o,e,t,i){return{traceId:o.spanContext().traceId,parentId:o.parentSpanId,name:o.name,id:o.spanContext().spanId,kind:Boe[o.kind],timestamp:_t(o.startTime),duration:Math.round(_t(o.duration)),localEndpoint:{serviceName:e},tags:Goe(o,t,i),annotations:o.events.length?koe(o.events):void 0}}function Goe({attributes:o,resource:e,status:t,droppedAttributesCount:i,droppedEventsCount:s,droppedLinksCount:a},n,r){let c={};for(let l of Object.keys(o))c[l]=String(o[l]);return t.code!==Ar.UNSET&&(c[n]=String(Ar[t.code])),t.code===Ar.ERROR&&t.message&&(c[r]=t.message),i&&(c["otel.dropped_attributes_count"]=String(i)),s&&(c["otel.dropped_events_count"]=String(s)),a&&(c["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(l=>c[l]=String(e.attributes[l])),c}function koe(o){return o.map(e=>({timestamp:Math.round(_t(e.time)),value:e.name}))}var Boe,cF,lF,EF=p(()=>{U();$();aF();Boe={[kt.CLIENT]:Ko.CLIENT,[kt.SERVER]:Ko.SERVER,[kt.CONSUMER]:Ko.CONSUMER,[kt.PRODUCER]:Ko.PRODUCER,[kt.INTERNAL]:void 0},cF="otel.status_code",lF="error"});var SF=p(()=>{});var _F=p(()=>{SF()});var Foe,w_,pF=p(()=>{Foe="service.name",w_=Foe});var dF=p(()=>{pF()});var TF=p(()=>{_F();dF()});function fF(o){return function(){return o()}}var hF=p(()=>{});var Wm,AF=p(()=>{U();$();Km();EF();TF();hF();Wm=class{constructor(e={}){this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||X().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=V_(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||cF,this._statusDescriptionTagName=e.statusDescriptionTagName||lF,this._isShutdown=!1,typeof e.getExportRequestHeaders=="function"?this._getHeaders=fF(e.getExportRequestHeaders):this._beforeSend=function(){}}export(e,t){let i=String(this._serviceName||e[0].resource.attributes[w_]||this.DEFAULT_SERVICE_NAME);if(R.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>t({code:te.FAILED,error:new Error("Exporter has been shutdown")}));return}let s=new Promise(n=>{this._sendSpans(e,i,r=>{n(),t(r)})});this._sendingPromises.push(s);let a=()=>{let n=this._sendingPromises.indexOf(s);this._sendingPromises.splice(n,1)};s.then(a,a)}shutdown(){return R.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((e,t)=>{Promise.all(this._sendingPromises).then(()=>{e()},t)})}_beforeSend(){this._getHeaders&&(this._send=V_(this._urlStr,this._getHeaders()))}_sendSpans(e,t,i){let s=e.map(a=>uF(a,String(a.attributes[w_]||a.resource.attributes[w_]||t),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(s,a=>{if(i)return i(a)})}}});var mF={};Ie(mF,{ZipkinExporter:()=>Wm,prepareSend:()=>V_});var OF=p(()=>{Km();AF()});var NF=h(k_=>{"use strict";var jm;Object.defineProperty(k_,"__esModule",{value:!0});k_.TracerProviderWithEnvExporters=void 0;var Cs=(U(),ee(Je)),B_=($(),ee(uo)),G_=(Oo(),ee(Ai)),Hoe=nE(),RF=(bw(),ee(Uw)),Yoe=(Yw(),ee(Hw)),qoe=nF(),Koe=(OF(),ee(mF)),kc=class extends Hoe.NodeTracerProvider{constructor(e={}){super(e),this._configuredExporters=[],this._hasSpanProcessors=!1;let t=this.filterBlanksAndNulls(Array.from(new Set((0,B_.getEnv)().OTEL_TRACES_EXPORTER.split(","))));t[0]==="none"?Cs.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'):t.length===0?(Cs.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),t=["otlp"],this.createExportersFromList(t),this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(i=>{this.addSpanProcessor(i)})):(t.length>1&&t.includes("none")&&(Cs.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),t=["otlp"]),this.createExportersFromList(t),this._configuredExporters.length>0?(this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(i=>{this.addSpanProcessor(i)})):Cs.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."))}static configureOtlp(){let e=this.getOtlpProtocol();switch(e){case"grpc":return new qoe.OTLPTraceExporter;case"http/json":return new Yoe.OTLPTraceExporter;case"http/protobuf":return new RF.OTLPTraceExporter;default:return Cs.diag.warn(`Unsupported OTLP traces protocol: ${e}. Using http/protobuf.`),new RF.OTLPTraceExporter}}static getOtlpProtocol(){var e,t,i;let s=(0,B_.getEnvWithoutDefaults)();return(i=(t=(e=s.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&e!==void 0?e:s.OTEL_EXPORTER_OTLP_PROTOCOL)!==null&&t!==void 0?t:(0,B_.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&i!==void 0?i:(0,B_.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}static configureJaeger(){try{let{JaegerExporter:e}=B("@opentelemetry/exporter-jaeger");return new e}catch(e){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${e}`)}}addSpanProcessor(e){super.addSpanProcessor(e),this._hasSpanProcessors=!0}register(e){this._hasSpanProcessors&&super.register(e)}createExportersFromList(e){e.forEach(t=>{let i=this._getSpanExporter(t);i?this._configuredExporters.push(i):Cs.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${t}.`)})}configureSpanProcessors(e){return e.map(t=>t instanceof G_.ConsoleSpanExporter?new G_.SimpleSpanProcessor(t):new G_.BatchSpanProcessor(t))}filterBlanksAndNulls(e){return e.map(t=>t.trim()).filter(t=>t!=="null"&&t!=="")}};k_.TracerProviderWithEnvExporters=kc;jm=kc;kc._registeredExporters=new Map([["otlp",()=>jm.configureOtlp()],["zipkin",()=>new Koe.ZipkinExporter],["jaeger",()=>jm.configureJaeger()],["console",()=>new G_.ConsoleSpanExporter]])});var MF=h(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.getResourceDetectorsFromEnv=void 0;var Woe=(U(),ee(Je)),Fc=(fn(),ee(Ll)),joe="env",zoe="host",$oe="os",Xoe="process",Joe="serviceinstance";function Qoe(){var o,e;let t=new Map([[joe,Fc.envDetectorSync],[zoe,Fc.hostDetectorSync],[$oe,Fc.osDetectorSync],[Joe,Fc.serviceInstanceIdDetectorSync],[Xoe,Fc.processDetectorSync]]),i=(e=(o=process.env.OTEL_NODE_RESOURCE_DETECTORS)===null||o===void 0?void 0:o.split(","))!==null&&e!==void 0?e:["all"];return i.includes("all")?[...t.values()].flat():i.includes("none")?[]:i.flatMap(s=>{let a=t.get(s);return a||Woe.diag.error(`Invalid resource detector "${s}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),a||[]})}F_.getResourceDetectorsFromEnv=Qoe});var CF=h(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.NodeSDK=void 0;var Hc=(U(),ee(Je)),Zoe=(oa(),ee(fM)),eie=(GL(),ee(BL)),gs=(fn(),ee(Ll)),tie=(fd(),ee(Td)),rie=(yu(),ee(Vd)),nie=(Oo(),ee(Ai)),oie=nE(),iie=(oV(),ee(nV)),sie=NF(),PF=($(),ee(uo)),aie=MF(),zm=class{constructor(e={}){var t,i,s,a,n,r,c;let l=(0,PF.getEnv)(),u=(0,PF.getEnvWithoutDefaults)();l.OTEL_SDK_DISABLED&&(this._disabled=!0),u.OTEL_LOG_LEVEL&&Hc.diag.setLogger(new Hc.DiagConsoleLogger,{logLevel:u.OTEL_LOG_LEVEL}),this._configuration=e,this._resource=(t=e.resource)!==null&&t!==void 0?t:new gs.Resource({});let E=[];if(process.env.OTEL_NODE_RESOURCE_DETECTORS!=null?E=(0,aie.getResourceDetectorsFromEnv)():E=[gs.envDetector,gs.processDetector,gs.hostDetector],this._resourceDetectors=(i=e.resourceDetectors)!==null&&i!==void 0?i:E,this._serviceName=e.serviceName,this._autoDetectResources=(s=e.autoDetectResources)!==null&&s!==void 0?s:!0,e.traceExporter||e.spanProcessor||e.spanProcessors){let T={};e.sampler&&(T.sampler=e.sampler),e.spanLimits&&(T.spanLimits=e.spanLimits),e.idGenerator&&(T.idGenerator=e.idGenerator),e.spanProcessor&&Hc.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let f=(a=e.spanProcessor)!==null&&a!==void 0?a:new nie.BatchSpanProcessor(e.traceExporter),N=(n=e.spanProcessors)!==null&&n!==void 0?n:[f];this._tracerProviderConfig={tracerConfig:T,spanProcessors:N,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator}}if(e.logRecordProcessor&&(this._loggerProviderConfig={logRecordProcessor:e.logRecordProcessor}),e.metricReader||e.views){let T={};e.metricReader&&(T.reader=e.metricReader),e.views&&(T.views=e.views),this._meterProviderConfig=T}this._instrumentations=(c=(r=e.instrumentations)===null||r===void 0?void 0:r.flat())!==null&&c!==void 0?c:[]}start(){var e,t,i,s;if(this._disabled)return;if((0,eie.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let r={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,gs.detectResourcesSync)(r))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge(new gs.Resource({[iie.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let a=this._tracerProviderConfig?oie.NodeTracerProvider:sie.TracerProviderWithEnvExporters,n=new a(Object.assign(Object.assign({},this._configuration),{resource:this._resource}));if(this._tracerProvider=n,this._tracerProviderConfig)for(let r of this._tracerProviderConfig.spanProcessors)n.addSpanProcessor(r);if(n.register({contextManager:(e=this._tracerProviderConfig)===null||e===void 0?void 0:e.contextManager,propagator:(t=this._tracerProviderConfig)===null||t===void 0?void 0:t.textMapPropagator}),this._loggerProviderConfig){let r=new tie.LoggerProvider({resource:this._resource});r.addLogRecordProcessor(this._loggerProviderConfig.logRecordProcessor),this._loggerProvider=r,Zoe.logs.setGlobalLoggerProvider(r)}if(this._meterProviderConfig){let r=[];this._meterProviderConfig.reader&&r.push(this._meterProviderConfig.reader);let c=new rie.MeterProvider({resource:this._resource,views:(s=(i=this._meterProviderConfig)===null||i===void 0?void 0:i.views)!==null&&s!==void 0?s:[],readers:r});this._meterProvider=c,Hc.metrics.setGlobalMeterProvider(c);for(let l of this._instrumentations)l.setMeterProvider(Hc.metrics.getMeterProvider())}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}};H_.NodeSDK=zm});var yF=h(gF=>{"use strict";Object.defineProperty(gF,"__esModule",{value:!0})});var vF=h(ye=>{"use strict";var cie=ye&&ye.__createBinding||(Object.create?function(o,e,t,i){i===void 0&&(i=t),Object.defineProperty(o,i,{enumerable:!0,get:function(){return e[t]}})}:function(o,e,t,i){i===void 0&&(i=t),o[i]=e[t]}),LF=ye&&ye.__exportStar||function(o,e){for(var t in o)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cie(e,o,t)};Object.defineProperty(ye,"__esModule",{value:!0});ye.tracing=ye.resources=ye.node=ye.metrics=ye.logs=ye.core=ye.contextBase=ye.api=void 0;ye.api=(U(),ee(Je));ye.contextBase=(U(),ee(Je));ye.core=($(),ee(uo));ye.logs=(fd(),ee(Td));ye.metrics=(yu(),ee(Vd));ye.node=nE();ye.resources=(fn(),ee(Ll));ye.tracing=(Oo(),ee(Ai));LF(CF(),ye);LF(yF(),ye)});U();fn();var DF=En(vF(),1);import{env as Yc,version as lie}from"node:process";U();$();ic();var Y_=class{#t;#e;constructor(){this.#t=new Qe(this.#r,this),this.#e=R.createComponentLogger({namespace:"netlify-span-exporter"})}convert(e){return gn(e,{useHex:!0,useLongBits:!1})}export(e,t){if(this.#e.debug(`export ${e.length} spans`),this.#t.isCalled){t({code:te.FAILED,error:new Error("Exporter has been shutdown")});return}return this.#n(e,t)}shutdown(){return this.#e.debug("Shutting down"),this.#t.call()}forceFlush(){return this.#e.debug("force flush"),Promise.resolve()}#r(){return this.forceFlush()}#n(e,t){if(console.log("__nfOTLPTrace",JSON.stringify(this.convert(e))),t)return t({code:te.SUCCESS})}};Yc.NETLIFY_DEBUG_OPENTELEMETRY&&R.setLogger(new $c,{logLevel:Re.ALL,suppressOverrideMessage:!0});var xF="Netlify Functions",UF;try{let{config:o}=B("./___netlify-server-handler.json");xF=o.name,UF=o.generator}catch{}var IF,uie=new le({"service.name":xF,"service.version":UF,"process.runtime.name":"nodejs","process.runtime.version":lie.slice(1),"deployment.environment":(IF=Yc.URL)!=null&&IF.includes("netlifystg.com")?"staging":"production","http.url":Yc.URL,"netlify.site.id":Yc.SITE_ID,"netlify.site.name":Yc.SITE_NAME}),Eie=new DF.default.NodeSDK({resource:uie,traceExporter:new Y_});Eie.start();
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)
*/
